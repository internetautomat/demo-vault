"use strict";var nn=require("obsidian");function Xt(o,i,l,p){function g(b){return b instanceof l?b:new l(function(S){S(b)})}return new(l||(l=Promise))(function(b,S){function P(X){try{F(p.next(X))}catch(D){S(D)}}function z(X){try{F(p.throw(X))}catch(D){S(D)}}function F(X){X.done?b(X.value):g(X.value).then(P,z)}F((p=p.apply(o,i||[])).next())})}var wa="excalidraw",ir="excalidraw",Uu="excalidraw-icon",Bm="excalidraw",Hm='{"type":"excalidraw","version":2,"source":"https://excalidraw.com","elements":[],"appState":{"gridSize":null,"viewBackgroundColor":"#ffffff"}}',Fm="Hit enter to create a new drawing",a4='<g transform="translate(30,0)"><path fill="currentColor" stroke="currentColor" d="M14.45 1.715c-2.723 2.148-6.915 5.797-10.223 8.93l-2.61 2.445.477 3.207c.258 1.75.738 5.176 1.031 7.582.332 2.406.66 4.668.773 4.996.145.438 0 .656-.406.656-.699 0-.734-.183 1.176 5.832.7 2.297 1.363 4.414 1.434 4.633.074.254.367.363.699.254.332-.145.515-.438.406-.691-.113-.293.074-.586.367-.696.403-.144.367-.437-.258-1.492-.992-1.64-3.53-15.64-3.675-20.164-.11-3.207-.11-3.242 1.25-5.066 1.324-1.786 4.375-4.485 9.078-7.91 1.324-.985 2.648-2.079 3.015-2.446.551-.656.809-.472 5.442 4.414 2.683 2.805 5.664 5.688 6.617 6.414l1.766 1.313-1.36 2.844c-.734 1.53-3.715 7.437-6.656 13.054-6.137 11.813-4.887 10.68-12.02 10.79l-4.632.038-1.547 1.75c-1.617 1.86-1.836 2.551-1.063 3.72.293.398.512 1.054.512 1.456 0 .656.258.766 1.73.84.918.035 1.762.145 1.875.254.11.11.258 2.371.368 5.031l.144 4.813-2.46 5.25C1.616 72.516 0 76.527 0 77.84c0 .691.148 1.273.293 1.273.367 0 .367-.035 15.332-30.988 6.95-14.363 13.531-27.89 14.633-30.113 1.101-2.227 2.094-4.266 2.168-4.559.074-.328-2.461-2.844-6.508-6.379C22.281 3.864 19.082.95 18.785.621c-.844-1.023-2.094-.695-4.336 1.094zM15.7 43.64c-1.692 3.246-1.766 3.28-6.4 3.5-4.081.218-4.152.183-4.152-.582 0-.438-.148-1.024-.332-1.313-.222-.328-.074-.914.442-1.715l.808-1.238h3.676c2.024-.04 4.34-.184 5.149-.328.808-.149 1.507-.219 1.578-.184.074.035-.293.875-.77 1.86zm-3.09 5.832c-.294.765-1.067 2.37-1.692 3.574-1.027 2.043-1.137 2.113-1.395 1.277-.148-.511-.257-2.008-.296-3.355-.036-2.66-.11-2.625 2.98-2.809l.992-.035zm0 0"/><path fill="currentColor" stroke="currentColor" d="M15.55 10.39c-.66.473-.843.95-.843 2.153 0 1.422.11 1.64 1.102 2.039.992.402 1.25.367 2.39-.398 1.508-1.024 1.543-1.278.442-2.918-.957-1.422-1.914-1.676-3.09-.875zm2.098 1.313c.586 1.02.22 1.785-.882 1.785-.993 0-1.434-.984-.883-1.968.441-.801 1.285-.727 1.765.183zm0 0M38.602 18.594c0 .183-.22.363-.477.363-.219 0-.844 1.023-1.324 2.262-1.469 3.793-16.176 32.629-16.211 31.718 0-.472-.223-.8-.59-.8-.516 0-.59.289-.367 1.71.219 1.641.074 2.008-5.149 12.071-2.941 5.723-6.101 11.703-7.02 13.305-.956 1.68-1.69 3.5-1.765 4.265-.11 1.313.035 1.496 3.235 4.23 1.84 1.606 4.191 3.61 5.222 4.52 4.63 4.196 6.801 5.871 7.387 5.762.883-.145 14.523-14.328 14.559-15.129 0-.367-.66-5.906-1.47-12.324-1.398-10.938-2.722-23.734-2.573-24.973.109-.765-.442-4.633-.844-6.308-.332-1.313-.184-1.86 2.46-7.84 1.544-3.535 3.567-7.875 4.45-9.625.844-1.75 1.582-3.281 1.582-3.39 0-.11-.258-.18-.55-.18-.298 0-.555.144-.555.363zm-8.454 27.234c.403 2.55 1.211 8.676 1.801 13.598 1.14 9.043 2.461 19.07 2.832 21.62.219 1.278.07 1.532-2.316 4.157-4.156 4.629-8.567 9.188-10.074 10.356l-1.399 1.093-7.168-6.636c-6.617-6.051-7.168-6.672-6.765-7.403.222-.398 2.097-3.789 4.156-7.508 2.058-3.718 4.777-8.68 6.027-11.011 1.29-2.371 2.465-4.41 2.684-4.52.258-.148.332 3.535.258 11.375-.149 11.703-.11 11.739 1.066 11.485.148 0 .258-5.907.258-13.09V56.293l3.86-7.656c2.132-4.23 3.898-7.621 3.972-7.586.07.039.441 2.187.808 4.777zm0 0"/></g>',l4='{"type":"excalidrawlib","version":1,"library":';function ar(o,i,l){return l={path:i,exports:{},require:function(p,g){return s4(p,g??l.path)}},o(l,l.exports),l.exports}function s4(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Vm=Object.getOwnPropertySymbols,c4=Object.prototype.hasOwnProperty,u4=Object.prototype.propertyIsEnumerable;function d4(o){if(o==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(o)}function p4(){try{if(!Object.assign)return!1;var o=new String("abc");if(o[5]="de",Object.getOwnPropertyNames(o)[0]==="5")return!1;for(var i={},l=0;l<10;l++)i["_"+String.fromCharCode(l)]=l;var p=Object.getOwnPropertyNames(i).map(function(b){return i[b]});if(p.join("")!=="0123456789")return!1;var g={};return"abcdefghijklmnopqrst".split("").forEach(function(b){g[b]=b}),Object.keys(Object.assign({},g)).join("")==="abcdefghijklmnopqrst"}catch(b){return!1}}var nt=p4()?Object.assign:function(o,i){for(var l,p=d4(o),g,b=1;b<arguments.length;b++){l=Object(arguments[b]);for(var S in l)c4.call(l,S)&&(p[S]=l[S]);if(Vm){g=Vm(l);for(var P=0;P<g.length;P++)u4.call(l,g[P])&&(p[g[P]]=l[g[P]])}}return p},Um=ar(function(o,i){var l=60103,p=60106;i.Fragment=60107,i.StrictMode=60108,i.Profiler=60114;var g=60109,b=60110,S=60112;i.Suspense=60113;var P=60115,z=60116;if(typeof Symbol=="function"&&Symbol.for){var F=Symbol.for;l=F("react.element"),p=F("react.portal"),i.Fragment=F("react.fragment"),i.StrictMode=F("react.strict_mode"),i.Profiler=F("react.profiler"),g=F("react.provider"),b=F("react.context"),S=F("react.forward_ref"),i.Suspense=F("react.suspense"),P=F("react.memo"),z=F("react.lazy")}var X=typeof Symbol=="function"&&Symbol.iterator;function D(V){return V===null||typeof V!="object"?null:(V=X&&V[X]||V["@@iterator"],typeof V=="function"?V:null)}function A(V){for(var q="https://reactjs.org/docs/error-decoder.html?invariant="+V,ke=1;ke<arguments.length;ke++)q+="&args[]="+encodeURIComponent(arguments[ke]);return"Minified React error #"+V+"; visit "+q+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N={};function x(V,q,ke){this.props=V,this.context=q,this.refs=N,this.updater=ke||E}x.prototype.isReactComponent={},x.prototype.setState=function(V,q){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error(A(85));this.updater.enqueueSetState(this,V,q,"setState")},x.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function M(){}M.prototype=x.prototype;function T(V,q,ke){this.props=V,this.context=q,this.refs=N,this.updater=ke||E}var R=T.prototype=new M;R.constructor=T,nt(R,x.prototype),R.isPureReactComponent=!0;var G={current:null},B=Object.prototype.hasOwnProperty,f={key:!0,ref:!0,__self:!0,__source:!0};function j(V,q,ke){var _,$={},le=null,me=null;if(q!=null)for(_ in q.ref!==void 0&&(me=q.ref),q.key!==void 0&&(le=""+q.key),q)B.call(q,_)&&!f.hasOwnProperty(_)&&($[_]=q[_]);var Pe=arguments.length-2;if(Pe===1)$.children=ke;else if(1<Pe){for(var re=Array(Pe),rt=0;rt<Pe;rt++)re[rt]=arguments[rt+2];$.children=re}if(V&&V.defaultProps)for(_ in Pe=V.defaultProps,Pe)$[_]===void 0&&($[_]=Pe[_]);return{$$typeof:l,type:V,key:le,ref:me,props:$,_owner:G.current}}function oe(V,q){return{$$typeof:l,type:V.type,key:q,ref:V.ref,props:V.props,_owner:V._owner}}function Q(V){return typeof V=="object"&&V!==null&&V.$$typeof===l}function ve(V){var q={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ke){return q[ke]})}var et=/\/+/g;function St(V,q){return typeof V=="object"&&V!==null&&V.key!=null?ve(""+V.key):q.toString(36)}function ye(V,q,ke,_,$){var le=typeof V;(le==="undefined"||le==="boolean")&&(V=null);var me=!1;if(V===null)me=!0;else switch(le){case"string":case"number":me=!0;break;case"object":switch(V.$$typeof){case l:case p:me=!0}}if(me)return me=V,$=$(me),V=_===""?"."+St(me,0):_,Array.isArray($)?(ke="",V!=null&&(ke=V.replace(et,"$&/")+"/"),ye($,q,ke,"",function(rt){return rt})):$!=null&&(Q($)&&($=oe($,ke+(!$.key||me&&me.key===$.key?"":(""+$.key).replace(et,"$&/")+"/")+V)),q.push($)),1;if(me=0,_=_===""?".":_+":",Array.isArray(V))for(var Pe=0;Pe<V.length;Pe++){le=V[Pe];var re=_+St(le,Pe);me+=ye(le,q,ke,re,$)}else if(re=D(V),typeof re=="function")for(V=re.call(V),Pe=0;!(le=V.next()).done;)le=le.value,re=_+St(le,Pe++),me+=ye(le,q,ke,re,$);else if(le==="object")throw q=""+V,Error(A(31,q==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":q));return me}function he(V,q,ke){if(V==null)return V;var _=[],$=0;return ye(V,_,"","",function(le){return q.call(ke,le,$++)}),_}function de(V){if(V._status===-1){var q=V._result;q=q(),V._status=0,V._result=q,q.then(function(ke){V._status===0&&(ke=ke.default,V._status=1,V._result=ke)},function(ke){V._status===0&&(V._status=2,V._result=ke)})}if(V._status===1)return V._result;throw V._result}var Be={current:null};function Me(){var V=Be.current;if(V===null)throw Error(A(321));return V}var Ke={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:G,IsSomeRendererActing:{current:!1},assign:nt};i.Children={map:he,forEach:function(V,q,ke){he(V,function(){q.apply(this,arguments)},ke)},count:function(V){var q=0;return he(V,function(){q++}),q},toArray:function(V){return he(V,function(q){return q})||[]},only:function(V){if(!Q(V))throw Error(A(143));return V}},i.Component=x,i.PureComponent=T,i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ke,i.cloneElement=function(V,q,ke){if(V==null)throw Error(A(267,V));var _=nt({},V.props),$=V.key,le=V.ref,me=V._owner;if(q!=null){if(q.ref!==void 0&&(le=q.ref,me=G.current),q.key!==void 0&&($=""+q.key),V.type&&V.type.defaultProps)var Pe=V.type.defaultProps;for(re in q)B.call(q,re)&&!f.hasOwnProperty(re)&&(_[re]=q[re]===void 0&&Pe!==void 0?Pe[re]:q[re])}var re=arguments.length-2;if(re===1)_.children=ke;else if(1<re){Pe=Array(re);for(var rt=0;rt<re;rt++)Pe[rt]=arguments[rt+2];_.children=Pe}return{$$typeof:l,type:V.type,key:$,ref:le,props:_,_owner:me}},i.createContext=function(V,q){return q===void 0&&(q=null),V={$$typeof:b,_calculateChangedBits:q,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider={$$typeof:g,_context:V},V.Consumer=V},i.createElement=j,i.createFactory=function(V){var q=j.bind(null,V);return q.type=V,q},i.createRef=function(){return{current:null}},i.forwardRef=function(V){return{$$typeof:S,render:V}},i.isValidElement=Q,i.lazy=function(V){return{$$typeof:z,_payload:{_status:-1,_result:V},_init:de}},i.memo=function(V,q){return{$$typeof:P,type:V,compare:q===void 0?null:q}},i.useCallback=function(V,q){return Me().useCallback(V,q)},i.useContext=function(V,q){return Me().useContext(V,q)},i.useDebugValue=function(){},i.useEffect=function(V,q){return Me().useEffect(V,q)},i.useImperativeHandle=function(V,q,ke){return Me().useImperativeHandle(V,q,ke)},i.useLayoutEffect=function(V,q){return Me().useLayoutEffect(V,q)},i.useMemo=function(V,q){return Me().useMemo(V,q)},i.useReducer=function(V,q,ke){return Me().useReducer(V,q,ke)},i.useRef=function(V){return Me().useRef(V)},i.useState=function(V){return Me().useState(V)},i.version="17.0.1"}),lr=ar(function(o){o.exports=Um}),f4=ar(function(o,i){var l,p,g,b;if(typeof performance=="object"&&typeof performance.now=="function"){var S=performance;i.unstable_now=function(){return S.now()}}else{var P=Date,z=P.now();i.unstable_now=function(){return P.now()-z}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var F=null,X=null,D=function(){if(F!==null)try{var $=i.unstable_now();F(!0,$),F=null}catch(le){throw setTimeout(D,0),le}};l=function($){F!==null?setTimeout(l,0,$):(F=$,setTimeout(D,0))},p=function($,le){X=setTimeout($,le)},g=function(){clearTimeout(X)},i.unstable_shouldYield=function(){return!1},b=i.unstable_forceFrameRate=function(){}}else{var A=window.setTimeout,E=window.clearTimeout;if(typeof console!="undefined"){var N=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof N!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var x=!1,M=null,T=-1,R=5,G=0;i.unstable_shouldYield=function(){return i.unstable_now()>=G},b=function(){},i.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5};var B=new MessageChannel,f=B.port2;B.port1.onmessage=function(){if(M!==null){var $=i.unstable_now();G=$+R;try{M(!0,$)?f.postMessage(null):(x=!1,M=null)}catch(le){throw f.postMessage(null),le}}else x=!1},l=function($){M=$,x||(x=!0,f.postMessage(null))},p=function($,le){T=A(function(){$(i.unstable_now())},le)},g=function(){E(T),T=-1}}function j($,le){var me=$.length;$.push(le);e:for(;;){var Pe=me-1>>>1,re=$[Pe];if(re!==void 0&&0<ve(re,le))$[Pe]=le,$[me]=re,me=Pe;else break e}}function oe($){return $=$[0],$===void 0?null:$}function Q($){var le=$[0];if(le!==void 0){var me=$.pop();if(me!==le){$[0]=me;e:for(var Pe=0,re=$.length;Pe<re;){var rt=2*(Pe+1)-1,_n=$[rt],Ut=rt+1,yn=$[Ut];if(_n!==void 0&&0>ve(_n,me))yn!==void 0&&0>ve(yn,_n)?($[Pe]=yn,$[Ut]=me,Pe=Ut):($[Pe]=_n,$[rt]=me,Pe=rt);else if(yn!==void 0&&0>ve(yn,me))$[Pe]=yn,$[Ut]=me,Pe=Ut;else break e}}return le}return null}function ve($,le){var me=$.sortIndex-le.sortIndex;return me!==0?me:$.id-le.id}var et=[],St=[],ye=1,he=null,de=3,Be=!1,Me=!1,Ke=!1;function V($){for(var le=oe(St);le!==null;){if(le.callback===null)Q(St);else if(le.startTime<=$)Q(St),le.sortIndex=le.expirationTime,j(et,le);else break;le=oe(St)}}function q($){if(Ke=!1,V($),!Me)if(oe(et)!==null)Me=!0,l(ke);else{var le=oe(St);le!==null&&p(q,le.startTime-$)}}function ke($,le){Me=!1,Ke&&(Ke=!1,g()),Be=!0;var me=de;try{for(V(le),he=oe(et);he!==null&&(!(he.expirationTime>le)||$&&!i.unstable_shouldYield());){var Pe=he.callback;if(typeof Pe=="function"){he.callback=null,de=he.priorityLevel;var re=Pe(he.expirationTime<=le);le=i.unstable_now(),typeof re=="function"?he.callback=re:he===oe(et)&&Q(et),V(le)}else Q(et);he=oe(et)}if(he!==null)var rt=!0;else{var _n=oe(St);_n!==null&&p(q,_n.startTime-le),rt=!1}return rt}finally{he=null,de=me,Be=!1}}var _=b;i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function($){$.callback=null},i.unstable_continueExecution=function(){Me||Be||(Me=!0,l(ke))},i.unstable_getCurrentPriorityLevel=function(){return de},i.unstable_getFirstCallbackNode=function(){return oe(et)},i.unstable_next=function($){switch(de){case 1:case 2:case 3:var le=3;break;default:le=de}var me=de;de=le;try{return $()}finally{de=me}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=_,i.unstable_runWithPriority=function($,le){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var me=de;de=$;try{return le()}finally{de=me}},i.unstable_scheduleCallback=function($,le,me){var Pe=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Pe+me:Pe):me=Pe,$){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=me+re,$={id:ye++,callback:le,priorityLevel:$,startTime:me,expirationTime:re,sortIndex:-1},me>Pe?($.sortIndex=me,j(St,$),oe(et)===null&&$===oe(St)&&(Ke?g():Ke=!0,p(q,me-Pe))):($.sortIndex=re,j(et,$),Me||Be||(Me=!0,l(ke))),$},i.unstable_wrapCallback=function($){var le=de;return function(){var me=de;de=le;try{return $.apply(this,arguments)}finally{de=me}}}}),It=ar(function(o){o.exports=f4}),ba=ar(function(o){o.exports=Um});function ne(o){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+o,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+o+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!ba)throw Error(ne(227));var Wm=new Set,xa={};function Eo(o,i){ri(o,i),ri(o+"Capture",i)}function ri(o,i){for(xa[o]=i,o=0;o<i.length;o++)Wm.add(i[o])}var sr=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),h4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gm=Object.prototype.hasOwnProperty,Km={},Ym={};function m4(o){return Gm.call(Ym,o)?!0:Gm.call(Km,o)?!1:h4.test(o)?Ym[o]=!0:(Km[o]=!0,!1)}function g4(o,i,l,p){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return p?!1:l!==null?!l.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function v4(o,i,l,p){if(i===null||typeof i=="undefined"||g4(o,i,l,p))return!0;if(p)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function $t(o,i,l,p,g,b,S){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=p,this.attributeNamespace=g,this.mustUseProperty=l,this.propertyName=o,this.type=i,this.sanitizeURL=b,this.removeEmptyString=S}var jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){jt[o]=new $t(o,0,!1,o,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var i=o[0];jt[i]=new $t(i,1,!1,o[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(o){jt[o]=new $t(o,2,!1,o.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){jt[o]=new $t(o,2,!1,o,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){jt[o]=new $t(o,3,!1,o.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(o){jt[o]=new $t(o,3,!0,o,null,!1,!1)});["capture","download"].forEach(function(o){jt[o]=new $t(o,4,!1,o,null,!1,!1)});["cols","rows","size","span"].forEach(function(o){jt[o]=new $t(o,6,!1,o,null,!1,!1)});["rowSpan","start"].forEach(function(o){jt[o]=new $t(o,5,!1,o.toLowerCase(),null,!1,!1)});var Wu=/[\-:]([a-z])/g;function Gu(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var i=o.replace(Wu,Gu);jt[i]=new $t(i,1,!1,o,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var i=o.replace(Wu,Gu);jt[i]=new $t(i,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(o){var i=o.replace(Wu,Gu);jt[i]=new $t(i,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(o){jt[o]=new $t(o,1,!1,o.toLowerCase(),null,!1,!1)});jt.xlinkHref=new $t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(o){jt[o]=new $t(o,1,!1,o.toLowerCase(),null,!0,!0)});function Ku(o,i,l,p){var g=jt.hasOwnProperty(i)?jt[i]:null,b=g!==null?g.type===0:p?!1:!(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N");b||(v4(i,l,g,p)&&(l=null),p||g===null?m4(i)&&(l===null?o.removeAttribute(i):o.setAttribute(i,""+l)):g.mustUseProperty?o[g.propertyName]=l===null?g.type===3?!1:"":l:(i=g.attributeName,p=g.attributeNamespace,l===null?o.removeAttribute(i):(g=g.type,l=g===3||g===4&&l===!0?"":""+l,p?o.setAttributeNS(p,i,l):o.setAttribute(i,l))))}var ko=ba.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ea=60103,So=60106,Ir=60107,Yu=60108,ka=60114,Zu=60109,Xu=60110,ps=60112,Sa=60113,fs=60120,hs=60115,$u=60116,Qu=60121,qu=60128,Zm=60129,Ju=60130,ed=60131;typeof Symbol=="function"&&Symbol.for&&(Ct=Symbol.for,Ea=Ct("react.element"),So=Ct("react.portal"),Ir=Ct("react.fragment"),Yu=Ct("react.strict_mode"),ka=Ct("react.profiler"),Zu=Ct("react.provider"),Xu=Ct("react.context"),ps=Ct("react.forward_ref"),Sa=Ct("react.suspense"),fs=Ct("react.suspense_list"),hs=Ct("react.memo"),$u=Ct("react.lazy"),Qu=Ct("react.block"),Ct("react.scope"),qu=Ct("react.opaque.id"),Zm=Ct("react.debug_trace_mode"),Ju=Ct("react.offscreen"),ed=Ct("react.legacy_hidden"));var Ct,Xm=typeof Symbol=="function"&&Symbol.iterator;function Ca(o){return o===null||typeof o!="object"?null:(o=Xm&&o[Xm]||o["@@iterator"],typeof o=="function"?o:null)}var td;function Oa(o){if(td===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);td=i&&i[1]||""}return`
`+td+o}var nd=!1;function ms(o,i){if(!o||nd)return"";nd=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(z){var p=z}Reflect.construct(o,[],i)}else{try{i.call()}catch(z){p=z}o.call(i.prototype)}else{try{throw Error()}catch(z){p=z}o()}}catch(z){if(z&&p&&typeof z.stack=="string"){for(var g=z.stack.split(`
`),b=p.stack.split(`
`),S=g.length-1,P=b.length-1;1<=S&&0<=P&&g[S]!==b[P];)P--;for(;1<=S&&0<=P;S--,P--)if(g[S]!==b[P]){if(S!==1||P!==1)do if(S--,P--,0>P||g[S]!==b[P])return`
`+g[S].replace(" at new "," at ");while(1<=S&&0<=P);break}}}finally{nd=!1,Error.prepareStackTrace=l}return(o=o?o.displayName||o.name:"")?Oa(o):""}function y4(o){switch(o.tag){case 5:return Oa(o.type);case 16:return Oa("Lazy");case 13:return Oa("Suspense");case 19:return Oa("SuspenseList");case 0:case 2:case 15:return o=ms(o.type,!1),o;case 11:return o=ms(o.type.render,!1),o;case 22:return o=ms(o.type._render,!1),o;case 1:return o=ms(o.type,!0),o;default:return""}}function oi(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case Ir:return"Fragment";case So:return"Portal";case ka:return"Profiler";case Yu:return"StrictMode";case Sa:return"Suspense";case fs:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case Xu:return(o.displayName||"Context")+".Consumer";case Zu:return(o._context.displayName||"Context")+".Provider";case ps:var i=o.render;return i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case hs:return oi(o.type);case Qu:return oi(o._render);case $u:i=o._payload,o=o._init;try{return oi(o(i))}catch(l){}}return null}function Lr(o){switch(typeof o){case"boolean":case"number":case"object":case"string":case"undefined":return o;default:return""}}function $m(o){var i=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function w4(o){var i=$m(o)?"checked":"value",l=Object.getOwnPropertyDescriptor(o.constructor.prototype,i),p=""+o[i];if(!o.hasOwnProperty(i)&&typeof l!="undefined"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,b=l.set;return Object.defineProperty(o,i,{configurable:!0,get:function(){return g.call(this)},set:function(S){p=""+S,b.call(this,S)}}),Object.defineProperty(o,i,{enumerable:l.enumerable}),{getValue:function(){return p},setValue:function(S){p=""+S},stopTracking:function(){o._valueTracker=null,delete o[i]}}}}function gs(o){o._valueTracker||(o._valueTracker=w4(o))}function Qm(o){if(!o)return!1;var i=o._valueTracker;if(!i)return!0;var l=i.getValue(),p="";return o&&(p=$m(o)?o.checked?"true":"false":o.value),o=p,o!==l?(i.setValue(o),!0):!1}function vs(o){if(o=o||(typeof document!="undefined"?document:void 0),typeof o=="undefined")return null;try{return o.activeElement||o.body}catch(i){return o.body}}function rd(o,i){var l=i.checked;return nt({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??o._wrapperState.initialChecked})}function qm(o,i){var l=i.defaultValue==null?"":i.defaultValue,p=i.checked!=null?i.checked:i.defaultChecked;l=Lr(i.value!=null?i.value:l),o._wrapperState={initialChecked:p,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Jm(o,i){i=i.checked,i!=null&&Ku(o,"checked",i,!1)}function id(o,i){Jm(o,i);var l=Lr(i.value),p=i.type;if(l!=null)p==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+l):o.value!==""+l&&(o.value=""+l);else if(p==="submit"||p==="reset"){o.removeAttribute("value");return}i.hasOwnProperty("value")?od(o,i.type,l):i.hasOwnProperty("defaultValue")&&od(o,i.type,Lr(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(o.defaultChecked=!!i.defaultChecked)}function e0(o,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var p=i.type;if(!(p!=="submit"&&p!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+o._wrapperState.initialValue,l||i===o.value||(o.value=i),o.defaultValue=i}l=o.name,l!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,l!==""&&(o.name=l)}function od(o,i,l){(i!=="number"||vs(o.ownerDocument)!==o)&&(l==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+l&&(o.defaultValue=""+l))}function b4(o){var i="";return ba.Children.forEach(o,function(l){l!=null&&(i+=l)}),i}function ad(o,i){return o=nt({children:void 0},i),(i=b4(i.children))&&(o.children=i),o}function ii(o,i,l,p){if(o=o.options,i){i={};for(var g=0;g<l.length;g++)i["$"+l[g]]=!0;for(l=0;l<o.length;l++)g=i.hasOwnProperty("$"+o[l].value),o[l].selected!==g&&(o[l].selected=g),g&&p&&(o[l].defaultSelected=!0)}else{for(l=""+Lr(l),i=null,g=0;g<o.length;g++){if(o[g].value===l){o[g].selected=!0,p&&(o[g].defaultSelected=!0);return}i!==null||o[g].disabled||(i=o[g])}i!==null&&(i.selected=!0)}}function ld(o,i){if(i.dangerouslySetInnerHTML!=null)throw Error(ne(91));return nt({},i,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function t0(o,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(ne(92));if(Array.isArray(l)){if(!(1>=l.length))throw Error(ne(93));l=l[0]}i=l}i==null&&(i=""),l=i}o._wrapperState={initialValue:Lr(l)}}function n0(o,i){var l=Lr(i.value),p=Lr(i.defaultValue);l!=null&&(l=""+l,l!==o.value&&(o.value=l),i.defaultValue==null&&o.defaultValue!==l&&(o.defaultValue=l)),p!=null&&(o.defaultValue=""+p)}function r0(o){var i=o.textContent;i===o._wrapperState.initialValue&&i!==""&&i!==null&&(o.value=i)}var sd={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function o0(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cd(o,i){return o==null||o==="http://www.w3.org/1999/xhtml"?o0(i):o==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var ys,i0=function(o){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(i,l,p,g){MSApp.execUnsafeLocalFunction(function(){return o(i,l,p,g)})}:o}(function(o,i){if(o.namespaceURI!==sd.svg||"innerHTML"in o)o.innerHTML=i;else{for(ys=ys||document.createElement("div"),ys.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=ys.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;i.firstChild;)o.appendChild(i.firstChild)}});function Ma(o,i){if(i){var l=o.firstChild;if(l&&l===o.lastChild&&l.nodeType===3){l.nodeValue=i;return}}o.textContent=i}var Pa={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},x4=["Webkit","ms","Moz","O"];Object.keys(Pa).forEach(function(o){x4.forEach(function(i){i=i+o.charAt(0).toUpperCase()+o.substring(1),Pa[i]=Pa[o]})});function a0(o,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||Pa.hasOwnProperty(o)&&Pa[o]?(""+i).trim():i+"px"}function l0(o,i){o=o.style;for(var l in i)if(i.hasOwnProperty(l)){var p=l.indexOf("--")===0,g=a0(l,i[l],p);l==="float"&&(l="cssFloat"),p?o.setProperty(l,g):o[l]=g}}var E4=nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ud(o,i){if(i){if(E4[o]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(ne(137,o));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(ne(60));if(!(typeof i.dangerouslySetInnerHTML=="object"&&"__html"in i.dangerouslySetInnerHTML))throw Error(ne(61))}if(i.style!=null&&typeof i.style!="object")throw Error(ne(62))}}function dd(o,i){if(o.indexOf("-")===-1)return typeof i.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function pd(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var fd=null,ai=null,li=null;function s0(o){if(o=_a(o)){if(typeof fd!="function")throw Error(ne(280));var i=o.stateNode;i&&(i=ws(i),fd(o.stateNode,o.type,i))}}function c0(o){ai?li?li.push(o):li=[o]:ai=o}function u0(){if(ai){var o=ai,i=li;if(li=ai=null,s0(o),i)for(o=0;o<i.length;o++)s0(i[o])}}function hd(o,i){return o(i)}function d0(o,i,l,p,g){return o(i,l,p,g)}function md(){}var p0=hd,Co=!1,gd=!1;function vd(){(ai!==null||li!==null)&&(md(),u0())}function k4(o,i,l){if(gd)return o(i,l);gd=!0;try{return p0(o,i,l)}finally{gd=!1,vd()}}function Ta(o,i){var l=o.stateNode;if(l===null)return null;var p=ws(l);if(p===null)return null;l=p[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(l&&typeof l!="function")throw Error(ne(231,i,typeof l));return l}var yd=!1;if(sr)try{si={},Object.defineProperty(si,"passive",{get:function(){yd=!0}}),window.addEventListener("test",si,si),window.removeEventListener("test",si,si)}catch(o){yd=!1}var si;function S4(o,i,l,p,g,b,S,P,z){var F=Array.prototype.slice.call(arguments,3);try{i.apply(l,F)}catch(X){this.onError(X)}}var Ia=!1,bs=null,xs=!1,wd=null,C4={onError:function(o){Ia=!0,bs=o}};function O4(o,i,l,p,g,b,S,P,z){Ia=!1,bs=null,S4.apply(C4,arguments)}function M4(o,i,l,p,g,b,S,P,z){if(O4.apply(this,arguments),Ia){if(Ia){var F=bs;Ia=!1,bs=null}else throw Error(ne(198));xs||(xs=!0,wd=F)}}function Oo(o){var i=o,l=o;if(o.alternate)for(;i.return;)i=i.return;else{o=i;do i=o,(i.flags&1026)!=0&&(l=i.return),o=i.return;while(o)}return i.tag===3?l:null}function f0(o){if(o.tag===13){var i=o.memoizedState;if(i===null&&(o=o.alternate,o!==null&&(i=o.memoizedState)),i!==null)return i.dehydrated}return null}function h0(o){if(Oo(o)!==o)throw Error(ne(188))}function P4(o){var i=o.alternate;if(!i){if(i=Oo(o),i===null)throw Error(ne(188));return i!==o?null:o}for(var l=o,p=i;;){var g=l.return;if(g===null)break;var b=g.alternate;if(b===null){if(p=g.return,p!==null){l=p;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===l)return h0(g),o;if(b===p)return h0(g),i;b=b.sibling}throw Error(ne(188))}if(l.return!==p.return)l=g,p=b;else{for(var S=!1,P=g.child;P;){if(P===l){S=!0,l=g,p=b;break}if(P===p){S=!0,p=g,l=b;break}P=P.sibling}if(!S){for(P=b.child;P;){if(P===l){S=!0,l=b,p=g;break}if(P===p){S=!0,p=b,l=g;break}P=P.sibling}if(!S)throw Error(ne(189))}}if(l.alternate!==p)throw Error(ne(190))}if(l.tag!==3)throw Error(ne(188));return l.stateNode.current===l?o:i}function m0(o){if(o=P4(o),!o)return null;for(var i=o;;){if(i.tag===5||i.tag===6)return i;if(i.child)i.child.return=i,i=i.child;else{if(i===o)break;for(;!i.sibling;){if(!i.return||i.return===o)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}}return null}function g0(o,i){for(var l=o.alternate;i!==null;){if(i===o||i===l)return!0;i=i.return}return!1}var v0,bd,y0,w0,xd=!1,Kn=[],Ar=null,Dr=null,jr=null,La=new Map,Aa=new Map,Da=[],b0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ed(o,i,l,p,g){return{blockedOn:o,domEventName:i,eventSystemFlags:l|16,nativeEvent:g,targetContainers:[p]}}function x0(o,i){switch(o){case"focusin":case"focusout":Ar=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":La.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Aa.delete(i.pointerId)}}function ja(o,i,l,p,g,b){return o===null||o.nativeEvent!==b?(o=Ed(i,l,p,g,b),i!==null&&(i=_a(i),i!==null&&bd(i)),o):(o.eventSystemFlags|=p,i=o.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),o)}function _4(o,i,l,p,g){switch(i){case"focusin":return Ar=ja(Ar,o,i,l,p,g),!0;case"dragenter":return Dr=ja(Dr,o,i,l,p,g),!0;case"mouseover":return jr=ja(jr,o,i,l,p,g),!0;case"pointerover":var b=g.pointerId;return La.set(b,ja(La.get(b)||null,o,i,l,p,g)),!0;case"gotpointercapture":return b=g.pointerId,Aa.set(b,ja(Aa.get(b)||null,o,i,l,p,g)),!0}return!1}function T4(o){var i=Mo(o.target);if(i!==null){var l=Oo(i);if(l!==null){if(i=l.tag,i===13){if(i=f0(l),i!==null){o.blockedOn=i,w0(o.lanePriority,function(){It.unstable_runWithPriority(o.priority,function(){y0(l)})});return}}else if(i===3&&l.stateNode.hydrate){o.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Es(o){if(o.blockedOn!==null)return!1;for(var i=o.targetContainers;0<i.length;){var l=kd(o.domEventName,o.eventSystemFlags,i[0],o.nativeEvent);if(l!==null)return i=_a(l),i!==null&&bd(i),o.blockedOn=l,!1;i.shift()}return!0}function E0(o,i,l){Es(o)&&l.delete(i)}function I4(){for(xd=!1;0<Kn.length;){var o=Kn[0];if(o.blockedOn!==null){o=_a(o.blockedOn),o!==null&&v0(o);break}for(var i=o.targetContainers;0<i.length;){var l=kd(o.domEventName,o.eventSystemFlags,i[0],o.nativeEvent);if(l!==null){o.blockedOn=l;break}i.shift()}o.blockedOn===null&&Kn.shift()}Ar!==null&&Es(Ar)&&(Ar=null),Dr!==null&&Es(Dr)&&(Dr=null),jr!==null&&Es(jr)&&(jr=null),La.forEach(E0),Aa.forEach(E0)}function za(o,i){o.blockedOn===i&&(o.blockedOn=null,xd||(xd=!0,It.unstable_scheduleCallback(It.unstable_NormalPriority,I4)))}function k0(o){function i(g){return za(g,o)}if(0<Kn.length){za(Kn[0],o);for(var l=1;l<Kn.length;l++){var p=Kn[l];p.blockedOn===o&&(p.blockedOn=null)}}for(Ar!==null&&za(Ar,o),Dr!==null&&za(Dr,o),jr!==null&&za(jr,o),La.forEach(i),Aa.forEach(i),l=0;l<Da.length;l++)p=Da[l],p.blockedOn===o&&(p.blockedOn=null);for(;0<Da.length&&(l=Da[0],l.blockedOn===null);)T4(l),l.blockedOn===null&&Da.shift()}function ks(o,i){var l={};return l[o.toLowerCase()]=i.toLowerCase(),l["Webkit"+o]="webkit"+i,l["Moz"+o]="moz"+i,l}var ci={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionend:ks("Transition","TransitionEnd")},Sd={},S0={};sr&&(S0=document.createElement("div").style,"AnimationEvent"in window||(delete ci.animationend.animation,delete ci.animationiteration.animation,delete ci.animationstart.animation),"TransitionEvent"in window||delete ci.transitionend.transition);function Ss(o){if(Sd[o])return Sd[o];if(!ci[o])return o;var i=ci[o],l;for(l in i)if(i.hasOwnProperty(l)&&l in S0)return Sd[o]=i[l];return o}var C0=Ss("animationend"),O0=Ss("animationiteration"),M0=Ss("animationstart"),P0=Ss("transitionend"),_0=new Map,Cd=new Map,L4=["abort","abort",C0,"animationEnd",O0,"animationIteration",M0,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",P0,"transitionEnd","waiting","waiting"];function Od(o,i){for(var l=0;l<o.length;l+=2){var p=o[l],g=o[l+1];g="on"+(g[0].toUpperCase()+g.slice(1)),Cd.set(p,i),_0.set(p,g),Eo(g,[p])}}var A4=It.unstable_now;A4();var it=8;function ui(o){if((1&o)!=0)return it=15,1;if((2&o)!=0)return it=14,2;if((4&o)!=0)return it=13,4;var i=24&o;return i!==0?(it=12,i):(o&32)!=0?(it=11,32):(i=192&o,i!==0?(it=10,i):(o&256)!=0?(it=9,256):(i=3584&o,i!==0?(it=8,i):(o&4096)!=0?(it=7,4096):(i=4186112&o,i!==0?(it=6,i):(i=62914560&o,i!==0?(it=5,i):o&67108864?(it=4,67108864):(o&134217728)!=0?(it=3,134217728):(i=805306368&o,i!==0?(it=2,i):(1073741824&o)!=0?(it=1,1073741824):(it=8,o))))))}function D4(o){switch(o){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function j4(o){switch(o){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(ne(358,o))}}function Na(o,i){var l=o.pendingLanes;if(l===0)return it=0;var p=0,g=0,b=o.expiredLanes,S=o.suspendedLanes,P=o.pingedLanes;if(b!==0)p=b,g=it=15;else if(b=l&134217727,b!==0){var z=b&~S;z!==0?(p=ui(z),g=it):(P&=b,P!==0&&(p=ui(P),g=it))}else b=l&~S,b!==0?(p=ui(b),g=it):P!==0&&(p=ui(P),g=it);if(p===0)return 0;if(p=31-zr(p),p=l&((0>p?0:1<<p)<<1)-1,i!==0&&i!==p&&(i&S)==0){if(ui(i),g<=it)return i;it=g}if(i=o.entangledLanes,i!==0)for(o=o.entanglements,i&=p;0<i;)l=31-zr(i),g=1<<l,p|=o[l],i&=~g;return p}function T0(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Cs(o,i){switch(o){case 15:return 1;case 14:return 2;case 12:return o=di(24&~i),o===0?Cs(10,i):o;case 10:return o=di(192&~i),o===0?Cs(8,i):o;case 8:return o=di(3584&~i),o===0&&(o=di(4186112&~i),o===0&&(o=512)),o;case 2:return i=di(805306368&~i),i===0&&(i=268435456),i}throw Error(ne(358,o))}function di(o){return o&-o}function Md(o){for(var i=[],l=0;31>l;l++)i.push(o);return i}function Os(o,i,l){o.pendingLanes|=i;var p=i-1;o.suspendedLanes&=p,o.pingedLanes&=p,o=o.eventTimes,i=31-zr(i),o[i]=l}var zr=Math.clz32?Math.clz32:z4,N4=Math.log,R4=Math.LN2;function z4(o){return o===0?32:31-(N4(o)/R4|0)|0}var B4=It.unstable_UserBlockingPriority,H4=It.unstable_runWithPriority,Ms=!0;function F4(o,i,l,p){Co||md();var g=Pd,b=Co;Co=!0;try{d0(g,o,i,l,p)}finally{(Co=b)||vd()}}function V4(o,i,l,p){H4(B4,Pd.bind(null,o,i,l,p))}function Pd(o,i,l,p){if(Ms){var g;if((g=(i&4)==0)&&0<Kn.length&&-1<b0.indexOf(o))o=Ed(null,o,i,l,p),Kn.push(o);else{var b=kd(o,i,l,p);if(b===null)g&&x0(o,p);else{if(g){if(-1<b0.indexOf(o)){o=Ed(b,o,i,l,p),Kn.push(o);return}if(_4(b,o,i,l,p))return;x0(o,p)}I0(o,i,p,null,l)}}}}function kd(o,i,l,p){var g=pd(p);if(g=Mo(g),g!==null){var b=Oo(g);if(b===null)g=null;else{var S=b.tag;if(S===13){if(g=f0(b),g!==null)return g;g=null}else if(S===3){if(b.stateNode.hydrate)return b.tag===3?b.stateNode.containerInfo:null;g=null}else b!==g&&(g=null)}}return I0(o,i,p,g,l),null}var Nr=null,_d=null,Ps=null;function L0(){if(Ps)return Ps;var o,i=_d,l=i.length,p,g="value"in Nr?Nr.value:Nr.textContent,b=g.length;for(o=0;o<l&&i[o]===g[o];o++);var S=l-o;for(p=1;p<=S&&i[l-p]===g[b-p];p++);return Ps=g.slice(o,1<p?1-p:void 0)}function _s(o){var i=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&i===13&&(o=13)):o=i,o===10&&(o=13),32<=o||o===13?o:0}function Ts(){return!0}function A0(){return!1}function gn(o){function i(l,p,g,b,S){this._reactName=l,this._targetInst=g,this.type=p,this.nativeEvent=b,this.target=S,this.currentTarget=null;for(var P in o)o.hasOwnProperty(P)&&(l=o[P],this[P]=l?l(b):b[P]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ts:A0,this.isPropagationStopped=A0,this}return nt(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ts)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ts)},persist:function(){},isPersistent:Ts}),i}var pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Td=gn(pi),Ra=nt({},pi,{view:0,detail:0}),U4=gn(Ra),Id,Ld,Ba,Is=nt({},Ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ad,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ba&&(Ba&&o.type==="mousemove"?(Id=o.screenX-Ba.screenX,Ld=o.screenY-Ba.screenY):Ld=Id=0,Ba=o),Id)},movementY:function(o){return"movementY"in o?o.movementY:Ld}}),D0=gn(Is),W4=nt({},Is,{dataTransfer:0}),G4=gn(W4),K4=nt({},Ra,{relatedTarget:0}),Dd=gn(K4),Y4=nt({},pi,{animationName:0,elapsedTime:0,pseudoElement:0}),Z4=gn(Y4),X4=nt({},pi,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),$4=gn(X4),Q4=nt({},pi,{data:0}),j0=gn(Q4),q4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t3(o){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(o):(o=e3[o])?!!i[o]:!1}function Ad(){return t3}var n3=nt({},Ra,{key:function(o){if(o.key){var i=q4[o.key]||o.key;if(i!=="Unidentified")return i}return o.type==="keypress"?(o=_s(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?J4[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ad,charCode:function(o){return o.type==="keypress"?_s(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?_s(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),r3=gn(n3),o3=nt({},Is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),z0=gn(o3),i3=nt({},Ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ad}),a3=gn(i3),l3=nt({},pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),s3=gn(l3),c3=nt({},Is,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),u3=gn(c3),d3=[9,13,27,32],jd=sr&&"CompositionEvent"in window,Ha=null;sr&&"documentMode"in document&&(Ha=document.documentMode);var p3=sr&&"TextEvent"in window&&!Ha,N0=sr&&(!jd||Ha&&8<Ha&&11>=Ha),R0=String.fromCharCode(32),B0=!1;function H0(o,i){switch(o){case"keyup":return d3.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function F0(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var fi=!1;function f3(o,i){switch(o){case"compositionend":return F0(i);case"keypress":return i.which!==32?null:(B0=!0,R0);case"textInput":return o=i.data,o===R0&&B0?null:o;default:return null}}function h3(o,i){if(fi)return o==="compositionend"||!jd&&H0(o,i)?(o=L0(),Ps=_d=Nr=null,fi=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return N0&&i.locale!=="ko"?null:i.data;default:return null}}var m3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function V0(o){var i=o&&o.nodeName&&o.nodeName.toLowerCase();return i==="input"?!!m3[o.type]:i==="textarea"}function U0(o,i,l,p){c0(p),i=Ls(i,"onChange"),0<i.length&&(l=new Td("onChange","change",null,l,p),o.push({event:l,listeners:i}))}var Fa=null,Va=null;function g3(o){W0(o,0)}function As(o){var i=hi(o);if(Qm(i))return o}function v3(o,i){if(o==="change")return i}var G0=!1;sr&&(sr?(js="oninput"in document,js||(zd=document.createElement("div"),zd.setAttribute("oninput","return;"),js=typeof zd.oninput=="function"),Ds=js):Ds=!1,G0=Ds&&(!document.documentMode||9<document.documentMode));var Ds,js,zd;function Y0(){Fa&&(Fa.detachEvent("onpropertychange",K0),Va=Fa=null)}function K0(o){if(o.propertyName==="value"&&As(Va)){var i=[];if(U0(i,Va,o,pd(o)),o=g3,Co)o(i);else{Co=!0;try{hd(o,i)}finally{Co=!1,vd()}}}}function y3(o,i,l){o==="focusin"?(Y0(),Fa=i,Va=l,Fa.attachEvent("onpropertychange",K0)):o==="focusout"&&Y0()}function w3(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return As(Va)}function b3(o,i){if(o==="click")return As(i)}function x3(o,i){if(o==="input"||o==="change")return As(i)}function E3(o,i){return o===i&&(o!==0||1/o==1/i)||o!==o&&i!==i}var Sn=typeof Object.is=="function"?Object.is:E3,k3=Object.prototype.hasOwnProperty;function Ua(o,i){if(Sn(o,i))return!0;if(typeof o!="object"||o===null||typeof i!="object"||i===null)return!1;var l=Object.keys(o),p=Object.keys(i);if(l.length!==p.length)return!1;for(p=0;p<l.length;p++)if(!k3.call(i,l[p])||!Sn(o[l[p]],i[l[p]]))return!1;return!0}function Z0(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function X0(o,i){var l=Z0(o);o=0;for(var p;l;){if(l.nodeType===3){if(p=o+l.textContent.length,o<=i&&p>=i)return{node:l,offset:i-o};o=p}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Z0(l)}}function $0(o,i){return o&&i?o===i?!0:o&&o.nodeType===3?!1:i&&i.nodeType===3?$0(o,i.parentNode):"contains"in o?o.contains(i):o.compareDocumentPosition?!!(o.compareDocumentPosition(i)&16):!1:!1}function Q0(){for(var o=window,i=vs();i instanceof o.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch(p){l=!1}if(l)o=i.contentWindow;else break;i=vs(o.document)}return i}function Nd(o){var i=o&&o.nodeName&&o.nodeName.toLowerCase();return i&&(i==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||i==="textarea"||o.contentEditable==="true")}var S3=sr&&"documentMode"in document&&11>=document.documentMode,mi=null,Rd=null,Wa=null,Bd=!1;function q0(o,i,l){var p=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Bd||mi==null||mi!==vs(p)||(p=mi,"selectionStart"in p&&Nd(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Wa&&Ua(Wa,p)||(Wa=p,p=Ls(Rd,"onSelect"),0<p.length&&(i=new Td("onSelect","select",null,i,l),o.push({event:i,listeners:p}),i.target=mi)))}Od("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Od("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Od(L4,2);for(var J0="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Hd=0;Hd<J0.length;Hd++)Cd.set(J0[Hd],0);ri("onMouseEnter",["mouseout","mouseover"]);ri("onMouseLeave",["mouseout","mouseover"]);ri("onPointerEnter",["pointerout","pointerover"]);ri("onPointerLeave",["pointerout","pointerover"]);Eo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Eo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Eo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Eo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Eo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Eo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ga));function tg(o,i,l){var p=o.type||"unknown-event";o.currentTarget=l,M4(p,i,void 0,o),o.currentTarget=null}function W0(o,i){i=(i&4)!=0;for(var l=0;l<o.length;l++){var p=o[l],g=p.event;p=p.listeners;e:{var b=void 0;if(i)for(var S=p.length-1;0<=S;S--){var P=p[S],z=P.instance,F=P.currentTarget;if(P=P.listener,z!==b&&g.isPropagationStopped())break e;tg(g,P,F),b=z}else for(S=0;S<p.length;S++){if(P=p[S],z=P.instance,F=P.currentTarget,P=P.listener,z!==b&&g.isPropagationStopped())break e;tg(g,P,F),b=z}}}if(xs)throw o=wd,xs=!1,wd=null,o}function ut(o,i){var l=rg(i),p=o+"__bubble";l.has(p)||(ng(i,o,2,!1),l.add(p))}var og="_reactListening"+Math.random().toString(36).slice(2);function ag(o){o[og]||(o[og]=!0,Wm.forEach(function(i){eg.has(i)||ig(i,!1,o,null),ig(i,!0,o,null)}))}function ig(o,i,l,p){var g=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,b=l;if(o==="selectionchange"&&l.nodeType!==9&&(b=l.ownerDocument),p!==null&&!i&&eg.has(o)){if(o!=="scroll")return;g|=2,b=p}var S=rg(b),P=o+"__"+(i?"capture":"bubble");S.has(P)||(i&&(g|=4),ng(b,o,g,i),S.add(P))}function ng(o,i,l,p){var g=Cd.get(i);switch(g===void 0?2:g){case 0:g=F4;break;case 1:g=V4;break;default:g=Pd}l=g.bind(null,i,l,o),g=void 0,!yd||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),p?g!==void 0?o.addEventListener(i,l,{capture:!0,passive:g}):o.addEventListener(i,l,!0):g!==void 0?o.addEventListener(i,l,{passive:g}):o.addEventListener(i,l,!1)}function I0(o,i,l,p,g){var b=p;if((i&1)==0&&(i&2)==0&&p!==null)e:for(;;){if(p===null)return;var S=p.tag;if(S===3||S===4){var P=p.stateNode.containerInfo;if(P===g||P.nodeType===8&&P.parentNode===g)break;if(S===4)for(S=p.return;S!==null;){var z=S.tag;if((z===3||z===4)&&(z=S.stateNode.containerInfo,z===g||z.nodeType===8&&z.parentNode===g))return;S=S.return}for(;P!==null;){if(S=Mo(P),S===null)return;if(z=S.tag,z===5||z===6){p=b=S;continue e}P=P.parentNode}}p=p.return}k4(function(){var F=b,X=pd(l),D=[];e:{var A=_0.get(o);if(A!==void 0){var E=Td,N=o;switch(o){case"keypress":if(_s(l)===0)break e;case"keydown":case"keyup":E=r3;break;case"focusin":N="focus",E=Dd;break;case"focusout":N="blur",E=Dd;break;case"beforeblur":case"afterblur":E=Dd;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=D0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=G4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=a3;break;case C0:case O0:case M0:E=Z4;break;case P0:E=s3;break;case"scroll":E=U4;break;case"wheel":E=u3;break;case"copy":case"cut":case"paste":E=$4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=z0}var x=(i&4)!=0,M=!x&&o==="scroll",T=x?A!==null?A+"Capture":null:A;x=[];for(var R=F,G;R!==null;){G=R;var B=G.stateNode;if(G.tag===5&&B!==null&&(G=B,T!==null&&(B=Ta(R,T),B!=null&&x.push(Ka(R,B,G)))),M)break;R=R.return}0<x.length&&(A=new E(A,N,null,l,X),D.push({event:A,listeners:x}))}}if((i&7)==0){e:{if(A=o==="mouseover"||o==="pointerover",E=o==="mouseout"||o==="pointerout",A&&(i&16)==0&&(N=l.relatedTarget||l.fromElement)&&(Mo(N)||N[vi]))break e;if((E||A)&&(A=X.window===X?X:(A=X.ownerDocument)?A.defaultView||A.parentWindow:window,E?(N=l.relatedTarget||l.toElement,E=F,N=N?Mo(N):null,N!==null&&(M=Oo(N),N!==M||N.tag!==5&&N.tag!==6)&&(N=null)):(E=null,N=F),E!==N)){if(x=D0,B="onMouseLeave",T="onMouseEnter",R="mouse",(o==="pointerout"||o==="pointerover")&&(x=z0,B="onPointerLeave",T="onPointerEnter",R="pointer"),M=E==null?A:hi(E),G=N==null?A:hi(N),A=new x(B,R+"leave",E,l,X),A.target=M,A.relatedTarget=G,B=null,Mo(X)===F&&(x=new x(T,R+"enter",N,l,X),x.target=G,x.relatedTarget=M,B=x),M=B,E&&N)t:{for(x=E,T=N,R=0,G=x;G;G=gi(G))R++;for(G=0,B=T;B;B=gi(B))G++;for(;0<R-G;)x=gi(x),R--;for(;0<G-R;)T=gi(T),G--;for(;R--;){if(x===T||T!==null&&x===T.alternate)break t;x=gi(x),T=gi(T)}x=null}else x=null;E!==null&&lg(D,A,E,x,!1),N!==null&&M!==null&&lg(D,M,N,x,!0)}}e:{if(A=F?hi(F):window,E=A.nodeName&&A.nodeName.toLowerCase(),E==="select"||E==="input"&&A.type==="file")var f=v3;else if(V0(A))if(G0)f=x3;else{f=w3;var j=y3}else(E=A.nodeName)&&E.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(f=b3);if(f&&(f=f(o,F))){U0(D,f,l,X);break e}j&&j(o,A,F),o==="focusout"&&(j=A._wrapperState)&&j.controlled&&A.type==="number"&&od(A,"number",A.value)}switch(j=F?hi(F):window,o){case"focusin":(V0(j)||j.contentEditable==="true")&&(mi=j,Rd=F,Wa=null);break;case"focusout":Wa=Rd=mi=null;break;case"mousedown":Bd=!0;break;case"contextmenu":case"mouseup":case"dragend":Bd=!1,q0(D,l,X);break;case"selectionchange":if(S3)break;case"keydown":case"keyup":q0(D,l,X)}var oe;if(jd)e:{switch(o){case"compositionstart":var Q="onCompositionStart";break e;case"compositionend":Q="onCompositionEnd";break e;case"compositionupdate":Q="onCompositionUpdate";break e}Q=void 0}else fi?H0(o,l)&&(Q="onCompositionEnd"):o==="keydown"&&l.keyCode===229&&(Q="onCompositionStart");Q&&(N0&&l.locale!=="ko"&&(fi||Q!=="onCompositionStart"?Q==="onCompositionEnd"&&fi&&(oe=L0()):(Nr=X,_d="value"in Nr?Nr.value:Nr.textContent,fi=!0)),j=Ls(F,Q),0<j.length&&(Q=new j0(Q,o,null,l,X),D.push({event:Q,listeners:j}),oe?Q.data=oe:(oe=F0(l),oe!==null&&(Q.data=oe)))),(oe=p3?f3(o,l):h3(o,l))&&(F=Ls(F,"onBeforeInput"),0<F.length&&(X=new j0("onBeforeInput","beforeinput",null,l,X),D.push({event:X,listeners:F}),X.data=oe))}W0(D,i)})}function Ka(o,i,l){return{instance:o,listener:i,currentTarget:l}}function Ls(o,i){for(var l=i+"Capture",p=[];o!==null;){var g=o,b=g.stateNode;g.tag===5&&b!==null&&(g=b,b=Ta(o,l),b!=null&&p.unshift(Ka(o,b,g)),b=Ta(o,i),b!=null&&p.push(Ka(o,b,g))),o=o.return}return p}function gi(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function lg(o,i,l,p,g){for(var b=i._reactName,S=[];l!==null&&l!==p;){var P=l,z=P.alternate,F=P.stateNode;if(z!==null&&z===p)break;P.tag===5&&F!==null&&(P=F,g?(z=Ta(l,b),z!=null&&S.unshift(Ka(l,z,P))):g||(z=Ta(l,b),z!=null&&S.push(Ka(l,z,P)))),l=l.return}S.length!==0&&o.push({event:i,listeners:S})}function zs(){}var Fd=null,Vd=null;function sg(o,i){switch(o){case"button":case"input":case"select":case"textarea":return!!i.autoFocus}return!1}function Ud(o,i){return o==="textarea"||o==="option"||o==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var cg=typeof setTimeout=="function"?setTimeout:void 0,C3=typeof clearTimeout=="function"?clearTimeout:void 0;function Wd(o){o.nodeType===1?o.textContent="":o.nodeType===9&&(o=o.body,o!=null&&(o.textContent=""))}function yi(o){for(;o!=null;o=o.nextSibling){var i=o.nodeType;if(i===1||i===3)break}return o}function ug(o){o=o.previousSibling;for(var i=0;o;){if(o.nodeType===8){var l=o.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return o;i--}else l==="/$"&&i++}o=o.previousSibling}return null}var Gd=0;function O3(o){return{$$typeof:qu,toString:o,valueOf:o}}var Ns=Math.random().toString(36).slice(2),Rr="__reactFiber$"+Ns,Rs="__reactProps$"+Ns,vi="__reactContainer$"+Ns,dg="__reactEvents$"+Ns;function Mo(o){var i=o[Rr];if(i)return i;for(var l=o.parentNode;l;){if(i=l[vi]||l[Rr]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(o=ug(o);o!==null;){if(l=o[Rr])return l;o=ug(o)}return i}o=l,l=o.parentNode}return null}function _a(o){return o=o[Rr]||o[vi],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function hi(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(ne(33))}function ws(o){return o[Rs]||null}function rg(o){var i=o[dg];return i===void 0&&(i=o[dg]=new Set),i}var Kd=[],wi=-1;function Br(o){return{current:o}}function dt(o){0>wi||(o.current=Kd[wi],Kd[wi]=null,wi--)}function yt(o,i){wi++,Kd[wi]=o.current,o.current=i}var Hr={},Bt=Br(Hr),rn=Br(!1),Po=Hr;function bi(o,i){var l=o.type.contextTypes;if(!l)return Hr;var p=o.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===i)return p.__reactInternalMemoizedMaskedChildContext;var g={},b;for(b in l)g[b]=i[b];return p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=i,o.__reactInternalMemoizedMaskedChildContext=g),g}function on(o){return o=o.childContextTypes,o!=null}function Bs(){dt(rn),dt(Bt)}function pg(o,i,l){if(Bt.current!==Hr)throw Error(ne(168));yt(Bt,i),yt(rn,l)}function fg(o,i,l){var p=o.stateNode;if(o=i.childContextTypes,typeof p.getChildContext!="function")return l;p=p.getChildContext();for(var g in p)if(!(g in o))throw Error(ne(108,oi(i)||"Unknown",g));return nt({},l,p)}function Hs(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Hr,Po=Bt.current,yt(Bt,o),yt(rn,rn.current),!0}function hg(o,i,l){var p=o.stateNode;if(!p)throw Error(ne(169));l?(o=fg(o,i,Po),p.__reactInternalMemoizedMergedChildContext=o,dt(rn),dt(Bt),yt(Bt,o)):dt(rn),yt(rn,l)}var Yd=null,_o=null,M3=It.unstable_runWithPriority,Zd=It.unstable_scheduleCallback,Xd=It.unstable_cancelCallback,P3=It.unstable_shouldYield,mg=It.unstable_requestPaint,$d=It.unstable_now,_3=It.unstable_getCurrentPriorityLevel,Fs=It.unstable_ImmediatePriority,gg=It.unstable_UserBlockingPriority,vg=It.unstable_NormalPriority,yg=It.unstable_LowPriority,wg=It.unstable_IdlePriority,Qd={},T3=mg!==void 0?mg:function(){},cr=null,Vs=null,qd=!1,bg=$d(),Ht=1e4>bg?$d:function(){return $d()-bg};function xi(){switch(_3()){case Fs:return 99;case gg:return 98;case vg:return 97;case yg:return 96;case wg:return 95;default:throw Error(ne(332))}}function xg(o){switch(o){case 99:return Fs;case 98:return gg;case 97:return vg;case 96:return yg;case 95:return wg;default:throw Error(ne(332))}}function To(o,i){return o=xg(o),M3(o,i)}function Ya(o,i,l){return o=xg(o),Zd(o,i,l)}function Yn(){if(Vs!==null){var o=Vs;Vs=null,Xd(o)}Eg()}function Eg(){if(!qd&&cr!==null){qd=!0;var o=0;try{var i=cr;To(99,function(){for(;o<i.length;o++){var l=i[o];do l=l(!0);while(l!==null)}}),cr=null}catch(l){throw cr!==null&&(cr=cr.slice(o+1)),Zd(Fs,Yn),l}finally{qd=!1}}}var I3=ko.ReactCurrentBatchConfig;function Dn(o,i){if(o&&o.defaultProps){i=nt({},i),o=o.defaultProps;for(var l in o)i[l]===void 0&&(i[l]=o[l]);return i}return i}var Us=Br(null),Ws=null,Ei=null,Gs=null;function Jd(){Gs=Ei=Ws=null}function ep(o){var i=Us.current;dt(Us),o.type._context._currentValue=i}function kg(o,i){for(;o!==null;){var l=o.alternate;if((o.childLanes&i)===i){if(l===null||(l.childLanes&i)===i)break;l.childLanes|=i}else o.childLanes|=i,l!==null&&(l.childLanes|=i);o=o.return}}function ki(o,i){Ws=o,Gs=Ei=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&i)!=0&&(jn=!0),o.firstContext=null)}function Cn(o,i){if(Gs!==o&&i!==!1&&i!==0)if((typeof i!="number"||i===1073741823)&&(Gs=o,i=1073741823),i={context:o,observedBits:i,next:null},Ei===null){if(Ws===null)throw Error(ne(308));Ei=i,Ws.dependencies={lanes:0,firstContext:i,responders:null}}else Ei=Ei.next=i;return o._currentValue}var Fr=!1;function tp(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Sg(o,i){o=o.updateQueue,i.updateQueue===o&&(i.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Vr(o,i){return{eventTime:o,lane:i,tag:0,payload:null,callback:null,next:null}}function Ur(o,i){if(o=o.updateQueue,o!==null){o=o.shared;var l=o.pending;l===null?i.next=i:(i.next=l.next,l.next=i),o.pending=i}}function Cg(o,i){var l=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,l===p)){var g=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var S={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};b===null?g=b=S:b=b.next=S,l=l.next}while(l!==null);b===null?g=b=i:b=b.next=i}else g=b=i;l={baseState:p.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:p.shared,effects:p.effects},o.updateQueue=l;return}o=l.lastBaseUpdate,o===null?l.firstBaseUpdate=i:o.next=i,l.lastBaseUpdate=i}function Xa(o,i,l,p){var g=o.updateQueue;Fr=!1;var b=g.firstBaseUpdate,S=g.lastBaseUpdate,P=g.shared.pending;if(P!==null){g.shared.pending=null;var z=P,F=z.next;z.next=null,S===null?b=F:S.next=F,S=z;var X=o.alternate;if(X!==null){X=X.updateQueue;var D=X.lastBaseUpdate;D!==S&&(D===null?X.firstBaseUpdate=F:D.next=F,X.lastBaseUpdate=z)}}if(b!==null){D=g.baseState,S=0,X=F=z=null;do{P=b.lane;var A=b.eventTime;if((p&P)===P){X!==null&&(X=X.next={eventTime:A,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var E=o,N=b;switch(P=i,A=l,N.tag){case 1:if(E=N.payload,typeof E=="function"){D=E.call(A,D,P);break e}D=E;break e;case 3:E.flags=E.flags&-4097|64;case 0:if(E=N.payload,P=typeof E=="function"?E.call(A,D,P):E,P==null)break e;D=nt({},D,P);break e;case 2:Fr=!0}}b.callback!==null&&(o.flags|=32,P=g.effects,P===null?g.effects=[b]:P.push(b))}else A={eventTime:A,lane:P,tag:b.tag,payload:b.payload,callback:b.callback,next:null},X===null?(F=X=A,z=D):X=X.next=A,S|=P;if(b=b.next,b===null){if(P=g.shared.pending,P===null)break;b=P.next,P.next=null,g.lastBaseUpdate=P,g.shared.pending=null}}while(1);X===null&&(z=D),g.baseState=z,g.firstBaseUpdate=F,g.lastBaseUpdate=X,Za|=S,o.lanes=S,o.memoizedState=D}}function Og(o,i,l){if(o=i.effects,i.effects=null,o!==null)for(i=0;i<o.length;i++){var p=o[i],g=p.callback;if(g!==null){if(p.callback=null,p=l,typeof g!="function")throw Error(ne(191,g));g.call(p)}}}var Mg=new ba.Component().refs;function Ks(o,i,l,p){i=o.memoizedState,l=l(p,i),l=l==null?i:nt({},i,l),o.memoizedState=l,o.lanes===0&&(o.updateQueue.baseState=l)}var Ys={isMounted:function(o){return(o=o._reactInternals)?Oo(o)===o:!1},enqueueSetState:function(o,i,l){o=o._reactInternals;var p=vn(),g=Wr(o),b=Vr(p,g);b.payload=i,l!=null&&(b.callback=l),Ur(o,b),Gr(o,g,p)},enqueueReplaceState:function(o,i,l){o=o._reactInternals;var p=vn(),g=Wr(o),b=Vr(p,g);b.tag=1,b.payload=i,l!=null&&(b.callback=l),Ur(o,b),Gr(o,g,p)},enqueueForceUpdate:function(o,i){o=o._reactInternals;var l=vn(),p=Wr(o),g=Vr(l,p);g.tag=2,i!=null&&(g.callback=i),Ur(o,g),Gr(o,p,l)}};function Pg(o,i,l,p,g,b,S){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,b,S):i.prototype&&i.prototype.isPureReactComponent?!Ua(l,p)||!Ua(g,b):!0}function _g(o,i,l){var p=!1,g=Hr,b=i.contextType;return typeof b=="object"&&b!==null?b=Cn(b):(g=on(i)?Po:Bt.current,p=i.contextTypes,b=(p=p!=null)?bi(o,g):Hr),i=new i(l,b),o.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ys,o.stateNode=i,i._reactInternals=o,p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=g,o.__reactInternalMemoizedMaskedChildContext=b),i}function Tg(o,i,l,p){o=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,p),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,p),i.state!==o&&Ys.enqueueReplaceState(i,i.state,null)}function np(o,i,l,p){var g=o.stateNode;g.props=l,g.state=o.memoizedState,g.refs=Mg,tp(o);var b=i.contextType;typeof b=="object"&&b!==null?g.context=Cn(b):(b=on(i)?Po:Bt.current,g.context=bi(o,b)),Xa(o,l,g,p),g.state=o.memoizedState,b=i.getDerivedStateFromProps,typeof b=="function"&&(Ks(o,i,b,l),g.state=o.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(i=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),i!==g.state&&Ys.enqueueReplaceState(g,g.state,null),Xa(o,l,g,p),g.state=o.memoizedState),typeof g.componentDidMount=="function"&&(o.flags|=4)}var Zs=Array.isArray;function $a(o,i,l){if(o=l.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(ne(309));var p=l.stateNode}if(!p)throw Error(ne(147,o));var g=""+o;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===g?i.ref:(i=function(b){var S=p.refs;S===Mg&&(S=p.refs={}),b===null?delete S[g]:S[g]=b},i._stringRef=g,i)}if(typeof o!="string")throw Error(ne(284));if(!l._owner)throw Error(ne(290,o))}return o}function Xs(o,i){if(o.type!=="textarea")throw Error(ne(31,Object.prototype.toString.call(i)==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":i))}function Ig(o){function i(M,T){if(o){var R=M.lastEffect;R!==null?(R.nextEffect=T,M.lastEffect=T):M.firstEffect=M.lastEffect=T,T.nextEffect=null,T.flags=8}}function l(M,T){if(!o)return null;for(;T!==null;)i(M,T),T=T.sibling;return null}function p(M,T){for(M=new Map;T!==null;)T.key!==null?M.set(T.key,T):M.set(T.index,T),T=T.sibling;return M}function g(M,T){return M=Kr(M,T),M.index=0,M.sibling=null,M}function b(M,T,R){return M.index=R,o?(R=M.alternate,R!==null?(R=R.index,R<T?(M.flags=2,T):R):(M.flags=2,T)):T}function S(M){return o&&M.alternate===null&&(M.flags=2),M}function P(M,T,R,G){return T===null||T.tag!==6?(T=rp(R,M.mode,G),T.return=M,T):(T=g(T,R),T.return=M,T)}function z(M,T,R,G){return T!==null&&T.elementType===R.type?(G=g(T,R.props),G.ref=$a(M,T,R),G.return=M,G):(G=$s(R.type,R.key,R.props,null,M.mode,G),G.ref=$a(M,T,R),G.return=M,G)}function F(M,T,R,G){return T===null||T.tag!==4||T.stateNode.containerInfo!==R.containerInfo||T.stateNode.implementation!==R.implementation?(T=op(R,M.mode,G),T.return=M,T):(T=g(T,R.children||[]),T.return=M,T)}function X(M,T,R,G,B){return T===null||T.tag!==7?(T=Si(R,M.mode,G,B),T.return=M,T):(T=g(T,R),T.return=M,T)}function D(M,T,R){if(typeof T=="string"||typeof T=="number")return T=rp(""+T,M.mode,R),T.return=M,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ea:return R=$s(T.type,T.key,T.props,null,M.mode,R),R.ref=$a(M,null,T),R.return=M,R;case So:return T=op(T,M.mode,R),T.return=M,T}if(Zs(T)||Ca(T))return T=Si(T,M.mode,R,null),T.return=M,T;Xs(M,T)}return null}function A(M,T,R,G){var B=T!==null?T.key:null;if(typeof R=="string"||typeof R=="number")return B!==null?null:P(M,T,""+R,G);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Ea:return R.key===B?R.type===Ir?X(M,T,R.props.children,G,B):z(M,T,R,G):null;case So:return R.key===B?F(M,T,R,G):null}if(Zs(R)||Ca(R))return B!==null?null:X(M,T,R,G,null);Xs(M,R)}return null}function E(M,T,R,G,B){if(typeof G=="string"||typeof G=="number")return M=M.get(R)||null,P(T,M,""+G,B);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Ea:return M=M.get(G.key===null?R:G.key)||null,G.type===Ir?X(T,M,G.props.children,B,G.key):z(T,M,G,B);case So:return M=M.get(G.key===null?R:G.key)||null,F(T,M,G,B)}if(Zs(G)||Ca(G))return M=M.get(R)||null,X(T,M,G,B,null);Xs(T,G)}return null}function N(M,T,R,G){for(var B=null,f=null,j=T,oe=T=0,Q=null;j!==null&&oe<R.length;oe++){j.index>oe?(Q=j,j=null):Q=j.sibling;var ve=A(M,j,R[oe],G);if(ve===null){j===null&&(j=Q);break}o&&j&&ve.alternate===null&&i(M,j),T=b(ve,T,oe),f===null?B=ve:f.sibling=ve,f=ve,j=Q}if(oe===R.length)return l(M,j),B;if(j===null){for(;oe<R.length;oe++)j=D(M,R[oe],G),j!==null&&(T=b(j,T,oe),f===null?B=j:f.sibling=j,f=j);return B}for(j=p(M,j);oe<R.length;oe++)Q=E(j,M,oe,R[oe],G),Q!==null&&(o&&Q.alternate!==null&&j.delete(Q.key===null?oe:Q.key),T=b(Q,T,oe),f===null?B=Q:f.sibling=Q,f=Q);return o&&j.forEach(function(et){return i(M,et)}),B}function x(M,T,R,G){var B=Ca(R);if(typeof B!="function")throw Error(ne(150));if(R=B.call(R),R==null)throw Error(ne(151));for(var f=B=null,j=T,oe=T=0,Q=null,ve=R.next();j!==null&&!ve.done;oe++,ve=R.next()){j.index>oe?(Q=j,j=null):Q=j.sibling;var et=A(M,j,ve.value,G);if(et===null){j===null&&(j=Q);break}o&&j&&et.alternate===null&&i(M,j),T=b(et,T,oe),f===null?B=et:f.sibling=et,f=et,j=Q}if(ve.done)return l(M,j),B;if(j===null){for(;!ve.done;oe++,ve=R.next())ve=D(M,ve.value,G),ve!==null&&(T=b(ve,T,oe),f===null?B=ve:f.sibling=ve,f=ve);return B}for(j=p(M,j);!ve.done;oe++,ve=R.next())ve=E(j,M,oe,ve.value,G),ve!==null&&(o&&ve.alternate!==null&&j.delete(ve.key===null?oe:ve.key),T=b(ve,T,oe),f===null?B=ve:f.sibling=ve,f=ve);return o&&j.forEach(function(St){return i(M,St)}),B}return function(M,T,R,G){var B=typeof R=="object"&&R!==null&&R.type===Ir&&R.key===null;B&&(R=R.props.children);var f=typeof R=="object"&&R!==null;if(f)switch(R.$$typeof){case Ea:e:{for(f=R.key,B=T;B!==null;){if(B.key===f){switch(B.tag){case 7:if(R.type===Ir){l(M,B.sibling),T=g(B,R.props.children),T.return=M,M=T;break e}break;default:if(B.elementType===R.type){l(M,B.sibling),T=g(B,R.props),T.ref=$a(M,B,R),T.return=M,M=T;break e}}l(M,B);break}else i(M,B);B=B.sibling}R.type===Ir?(T=Si(R.props.children,M.mode,G,R.key),T.return=M,M=T):(G=$s(R.type,R.key,R.props,null,M.mode,G),G.ref=$a(M,T,R),G.return=M,M=G)}return S(M);case So:e:{for(B=R.key;T!==null;){if(T.key===B)if(T.tag===4&&T.stateNode.containerInfo===R.containerInfo&&T.stateNode.implementation===R.implementation){l(M,T.sibling),T=g(T,R.children||[]),T.return=M,M=T;break e}else{l(M,T);break}else i(M,T);T=T.sibling}T=op(R,M.mode,G),T.return=M,M=T}return S(M)}if(typeof R=="string"||typeof R=="number")return R=""+R,T!==null&&T.tag===6?(l(M,T.sibling),T=g(T,R),T.return=M,M=T):(l(M,T),T=rp(R,M.mode,G),T.return=M,M=T),S(M);if(Zs(R))return N(M,T,R,G);if(Ca(R))return x(M,T,R,G);if(f&&Xs(M,R),typeof R=="undefined"&&!B)switch(M.tag){case 1:case 22:case 0:case 11:case 15:throw Error(ne(152,oi(M.type)||"Component"))}return l(M,T)}}var Qs=Ig(!0),Lg=Ig(!1),Qa={},Zn=Br(Qa),qa=Br(Qa),Ja=Br(Qa);function Io(o){if(o===Qa)throw Error(ne(174));return o}function ip(o,i){switch(yt(Ja,i),yt(qa,o),yt(Zn,Qa),o=i.nodeType,o){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:cd(null,"");break;default:o=o===8?i.parentNode:i,i=o.namespaceURI||null,o=o.tagName,i=cd(i,o)}dt(Zn),yt(Zn,i)}function Ci(){dt(Zn),dt(qa),dt(Ja)}function Ag(o){Io(Ja.current);var i=Io(Zn.current),l=cd(i,o.type);i!==l&&(yt(qa,o),yt(Zn,l))}function ap(o){qa.current===o&&(dt(Zn),dt(qa))}var wt=Br(0);function qs(o){for(var i=o;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&64)!=0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break;for(;i.sibling===null;){if(i.return===null||i.return===o)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ur=null,Yr=null,Xn=!1;function Dg(o,i){var l=On(5,null,null,0);l.elementType="DELETED",l.type="DELETED",l.stateNode=i,l.return=o,l.flags=8,o.lastEffect!==null?(o.lastEffect.nextEffect=l,o.lastEffect=l):o.firstEffect=o.lastEffect=l}function jg(o,i){switch(o.tag){case 5:var l=o.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(o.stateNode=i,!0):!1;case 6:return i=o.pendingProps===""||i.nodeType!==3?null:i,i!==null?(o.stateNode=i,!0):!1;case 13:return!1;default:return!1}}function lp(o){if(Xn){var i=Yr;if(i){var l=i;if(!jg(o,i)){if(i=yi(l.nextSibling),!i||!jg(o,i)){o.flags=o.flags&-1025|2,Xn=!1,ur=o;return}Dg(ur,l)}ur=o,Yr=yi(i.firstChild)}else o.flags=o.flags&-1025|2,Xn=!1,ur=o}}function zg(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;ur=o}function Js(o){if(o!==ur)return!1;if(!Xn)return zg(o),Xn=!0,!1;var i=o.type;if(o.tag!==5||i!=="head"&&i!=="body"&&!Ud(i,o.memoizedProps))for(i=Yr;i;)Dg(o,i),i=yi(i.nextSibling);if(zg(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ne(317));e:{for(o=o.nextSibling,i=0;o;){if(o.nodeType===8){var l=o.data;if(l==="/$"){if(i===0){Yr=yi(o.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}o=o.nextSibling}Yr=null}}else Yr=ur?yi(o.stateNode.nextSibling):null;return!0}function sp(){Yr=ur=null,Xn=!1}var Oi=[];function cp(){for(var o=0;o<Oi.length;o++)Oi[o]._workInProgressVersionPrimary=null;Oi.length=0}var el=ko.ReactCurrentDispatcher,Mn=ko.ReactCurrentBatchConfig,tl=0,kt=null,Ft=null,zt=null,ec=!1,nl=!1;function an(){throw Error(ne(321))}function up(o,i){if(i===null)return!1;for(var l=0;l<i.length&&l<o.length;l++)if(!Sn(o[l],i[l]))return!1;return!0}function dp(o,i,l,p,g,b){if(tl=b,kt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,el.current=o===null||o.memoizedState===null?L3:A3,o=l(p,g),nl){b=0;do{if(nl=!1,!(25>b))throw Error(ne(301));b+=1,zt=Ft=null,i.updateQueue=null,el.current=D3,o=l(p,g)}while(nl)}if(el.current=tc,i=Ft!==null&&Ft.next!==null,tl=0,zt=Ft=kt=null,ec=!1,i)throw Error(ne(300));return o}function Lo(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?kt.memoizedState=zt=o:zt=zt.next=o,zt}function Ao(){if(Ft===null){var o=kt.alternate;o=o!==null?o.memoizedState:null}else o=Ft.next;var i=zt===null?kt.memoizedState:zt.next;if(i!==null)zt=i,Ft=o;else{if(o===null)throw Error(ne(310));Ft=o,o={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},zt===null?kt.memoizedState=zt=o:zt=zt.next=o}return zt}function $n(o,i){return typeof i=="function"?i(o):i}function rl(o){var i=Ao(),l=i.queue;if(l===null)throw Error(ne(311));l.lastRenderedReducer=o;var p=Ft,g=p.baseQueue,b=l.pending;if(b!==null){if(g!==null){var S=g.next;g.next=b.next,b.next=S}p.baseQueue=g=b,l.pending=null}if(g!==null){g=g.next,p=p.baseState;var P=S=b=null,z=g;do{var F=z.lane;if((tl&F)===F)P!==null&&(P=P.next={lane:0,action:z.action,eagerReducer:z.eagerReducer,eagerState:z.eagerState,next:null}),p=z.eagerReducer===o?z.eagerState:o(p,z.action);else{var X={lane:F,action:z.action,eagerReducer:z.eagerReducer,eagerState:z.eagerState,next:null};P===null?(S=P=X,b=p):P=P.next=X,kt.lanes|=F,Za|=F}z=z.next}while(z!==null&&z!==g);P===null?b=p:P.next=S,Sn(p,i.memoizedState)||(jn=!0),i.memoizedState=p,i.baseState=b,i.baseQueue=P,l.lastRenderedState=p}return[i.memoizedState,l.dispatch]}function ol(o){var i=Ao(),l=i.queue;if(l===null)throw Error(ne(311));l.lastRenderedReducer=o;var p=l.dispatch,g=l.pending,b=i.memoizedState;if(g!==null){l.pending=null;var S=g=g.next;do b=o(b,S.action),S=S.next;while(S!==g);Sn(b,i.memoizedState)||(jn=!0),i.memoizedState=b,i.baseQueue===null&&(i.baseState=b),l.lastRenderedState=b}return[b,p]}function Ng(o,i,l){var p=i._getVersion;p=p(i._source);var g=i._workInProgressVersionPrimary;if(g!==null?o=g===p:(o=o.mutableReadLanes,(o=(tl&o)===o)&&(i._workInProgressVersionPrimary=p,Oi.push(i))),o)return l(i._source);throw Oi.push(i),Error(ne(350))}function Rg(o,i,l,p){var g=Qt;if(g===null)throw Error(ne(349));var b=i._getVersion,S=b(i._source),P=el.current,z=P.useState(function(){return Ng(g,i,l)}),F=z[1],X=z[0];z=zt;var D=o.memoizedState,A=D.refs,E=A.getSnapshot,N=D.source;D=D.subscribe;var x=kt;return o.memoizedState={refs:A,source:i,subscribe:p},P.useEffect(function(){A.getSnapshot=l,A.setSnapshot=F;var M=b(i._source);if(!Sn(S,M)){M=l(i._source),Sn(X,M)||(F(M),M=Wr(x),g.mutableReadLanes|=M&g.pendingLanes),M=g.mutableReadLanes,g.entangledLanes|=M;for(var T=g.entanglements,R=M;0<R;){var G=31-zr(R),B=1<<G;T[G]|=M,R&=~B}}},[l,i,p]),P.useEffect(function(){return p(i._source,function(){var M=A.getSnapshot,T=A.setSnapshot;try{T(M(i._source));var R=Wr(x);g.mutableReadLanes|=R&g.pendingLanes}catch(G){T(function(){throw G})}})},[i,p]),Sn(E,l)&&Sn(N,i)&&Sn(D,p)||(o={pending:null,dispatch:null,lastRenderedReducer:$n,lastRenderedState:X},o.dispatch=F=pp.bind(null,kt,o),z.queue=o,z.baseQueue=null,X=Ng(g,i,l),z.memoizedState=z.baseState=X),X}function Bg(o,i,l){var p=Ao();return Rg(p,o,i,l)}function il(o){var i=Lo();return typeof o=="function"&&(o=o()),i.memoizedState=i.baseState=o,o=i.queue={pending:null,dispatch:null,lastRenderedReducer:$n,lastRenderedState:o},o=o.dispatch=pp.bind(null,kt,o),[i.memoizedState,o]}function nc(o,i,l,p){return o={tag:o,create:i,destroy:l,deps:p,next:null},i=kt.updateQueue,i===null?(i={lastEffect:null},kt.updateQueue=i,i.lastEffect=o.next=o):(l=i.lastEffect,l===null?i.lastEffect=o.next=o:(p=l.next,l.next=o,o.next=p,i.lastEffect=o)),o}function Hg(o){var i=Lo();return o={current:o},i.memoizedState=o}function rc(){return Ao().memoizedState}function fp(o,i,l,p){var g=Lo();kt.flags|=o,g.memoizedState=nc(1|i,l,void 0,p===void 0?null:p)}function hp(o,i,l,p){var g=Ao();p=p===void 0?null:p;var b=void 0;if(Ft!==null){var S=Ft.memoizedState;if(b=S.destroy,p!==null&&up(p,S.deps)){nc(i,l,b,p);return}}kt.flags|=o,g.memoizedState=nc(1|i,l,b,p)}function Fg(o,i){return fp(516,4,o,i)}function oc(o,i){return hp(516,4,o,i)}function Vg(o,i){return hp(4,2,o,i)}function Ug(o,i){if(typeof i=="function")return o=o(),i(o),function(){i(null)};if(i!=null)return o=o(),i.current=o,function(){i.current=null}}function Wg(o,i,l){return l=l!=null?l.concat([o]):null,hp(4,2,Ug.bind(null,i,o),l)}function mp(){}function Gg(o,i){var l=Ao();i=i===void 0?null:i;var p=l.memoizedState;return p!==null&&i!==null&&up(i,p[1])?p[0]:(l.memoizedState=[o,i],o)}function Kg(o,i){var l=Ao();i=i===void 0?null:i;var p=l.memoizedState;return p!==null&&i!==null&&up(i,p[1])?p[0]:(o=o(),l.memoizedState=[o,i],o)}function j3(o,i){var l=xi();To(98>l?98:l,function(){o(!0)}),To(97<l?97:l,function(){var p=Mn.transition;Mn.transition=1;try{o(!1),i()}finally{Mn.transition=p}})}function pp(o,i,l){var p=vn(),g=Wr(o),b={lane:g,action:l,eagerReducer:null,eagerState:null,next:null},S=i.pending;if(S===null?b.next=b:(b.next=S.next,S.next=b),i.pending=b,S=o.alternate,o===kt||S!==null&&S===kt)nl=ec=!0;else{if(o.lanes===0&&(S===null||S.lanes===0)&&(S=i.lastRenderedReducer,S!==null))try{var P=i.lastRenderedState,z=S(P,l);if(b.eagerReducer=S,b.eagerState=z,Sn(z,P))return}catch(F){}finally{}Gr(o,g,p)}}var tc={readContext:Cn,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useLayoutEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useMutableSource:an,useOpaqueIdentifier:an,unstable_isNewReconciler:!1},L3={readContext:Cn,useCallback:function(o,i){return Lo().memoizedState=[o,i===void 0?null:i],o},useContext:Cn,useEffect:Fg,useImperativeHandle:function(o,i,l){return l=l!=null?l.concat([o]):null,fp(4,2,Ug.bind(null,i,o),l)},useLayoutEffect:function(o,i){return fp(4,2,o,i)},useMemo:function(o,i){var l=Lo();return i=i===void 0?null:i,o=o(),l.memoizedState=[o,i],o},useReducer:function(o,i,l){var p=Lo();return i=l!==void 0?l(i):i,p.memoizedState=p.baseState=i,o=p.queue={pending:null,dispatch:null,lastRenderedReducer:o,lastRenderedState:i},o=o.dispatch=pp.bind(null,kt,o),[p.memoizedState,o]},useRef:Hg,useState:il,useDebugValue:mp,useDeferredValue:function(o){var i=il(o),l=i[0],p=i[1];return Fg(function(){var g=Mn.transition;Mn.transition=1;try{p(o)}finally{Mn.transition=g}},[o]),l},useTransition:function(){var o=il(!1),i=o[0];return o=j3.bind(null,o[1]),Hg(o),[o,i]},useMutableSource:function(o,i,l){var p=Lo();return p.memoizedState={refs:{getSnapshot:i,setSnapshot:null},source:o,subscribe:l},Rg(p,o,i,l)},useOpaqueIdentifier:function(){if(Xn){var o=!1,i=O3(function(){throw o||(o=!0,l("r:"+(Gd++).toString(36))),Error(ne(355))}),l=il(i)[1];return(kt.mode&2)==0&&(kt.flags|=516,nc(5,function(){l("r:"+(Gd++).toString(36))},void 0,null)),i}return i="r:"+(Gd++).toString(36),il(i),i},unstable_isNewReconciler:!1},A3={readContext:Cn,useCallback:Gg,useContext:Cn,useEffect:oc,useImperativeHandle:Wg,useLayoutEffect:Vg,useMemo:Kg,useReducer:rl,useRef:rc,useState:function(){return rl($n)},useDebugValue:mp,useDeferredValue:function(o){var i=rl($n),l=i[0],p=i[1];return oc(function(){var g=Mn.transition;Mn.transition=1;try{p(o)}finally{Mn.transition=g}},[o]),l},useTransition:function(){var o=rl($n)[0];return[rc().current,o]},useMutableSource:Bg,useOpaqueIdentifier:function(){return rl($n)[0]},unstable_isNewReconciler:!1},D3={readContext:Cn,useCallback:Gg,useContext:Cn,useEffect:oc,useImperativeHandle:Wg,useLayoutEffect:Vg,useMemo:Kg,useReducer:ol,useRef:rc,useState:function(){return ol($n)},useDebugValue:mp,useDeferredValue:function(o){var i=ol($n),l=i[0],p=i[1];return oc(function(){var g=Mn.transition;Mn.transition=1;try{p(o)}finally{Mn.transition=g}},[o]),l},useTransition:function(){var o=ol($n)[0];return[rc().current,o]},useMutableSource:Bg,useOpaqueIdentifier:function(){return ol($n)[0]},unstable_isNewReconciler:!1},z3=ko.ReactCurrentOwner,jn=!1;function ln(o,i,l,p){i.child=o===null?Lg(i,null,l,p):Qs(i,o.child,l,p)}function Yg(o,i,l,p,g){l=l.render;var b=i.ref;return ki(i,g),p=dp(o,i,l,p,b,g),o!==null&&!jn?(i.updateQueue=o.updateQueue,i.flags&=-517,o.lanes&=~g,dr(o,i,g)):(i.flags|=1,ln(o,i,p,g),i.child)}function Xg(o,i,l,p,g,b){if(o===null){var S=l.type;return typeof S=="function"&&!gp(S)&&S.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=S,Zg(o,i,S,p,g,b)):(o=$s(l.type,null,p,i,i.mode,b),o.ref=i.ref,o.return=i,i.child=o)}return S=o.child,(g&b)==0&&(g=S.memoizedProps,l=l.compare,l=l!==null?l:Ua,l(g,p)&&o.ref===i.ref)?dr(o,i,b):(i.flags|=1,o=Kr(S,p),o.ref=i.ref,o.return=i,i.child=o)}function Zg(o,i,l,p,g,b){if(o!==null&&Ua(o.memoizedProps,p)&&o.ref===i.ref)if(jn=!1,(b&g)!=0)(o.flags&16384)!=0&&(jn=!0);else return i.lanes=o.lanes,dr(o,i,b);return vp(o,i,l,p,b)}function yp(o,i,l){var p=i.pendingProps,g=p.children,b=o!==null?o.memoizedState:null;if(p.mode==="hidden"||p.mode==="unstable-defer-without-hiding")if((i.mode&4)==0)i.memoizedState={baseLanes:0},ic(i,l);else if((l&1073741824)!=0)i.memoizedState={baseLanes:0},ic(i,b!==null?b.baseLanes:l);else return o=b!==null?b.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:o},ic(i,o),null;else b!==null?(p=b.baseLanes|l,i.memoizedState=null):p=l,ic(i,p);return ln(o,i,g,l),i.child}function $g(o,i){var l=i.ref;(o===null&&l!==null||o!==null&&o.ref!==l)&&(i.flags|=128)}function vp(o,i,l,p,g){var b=on(l)?Po:Bt.current;return b=bi(i,b),ki(i,g),l=dp(o,i,l,p,b,g),o!==null&&!jn?(i.updateQueue=o.updateQueue,i.flags&=-517,o.lanes&=~g,dr(o,i,g)):(i.flags|=1,ln(o,i,l,g),i.child)}function Qg(o,i,l,p,g){if(on(l)){var b=!0;Hs(i)}else b=!1;if(ki(i,g),i.stateNode===null)o!==null&&(o.alternate=null,i.alternate=null,i.flags|=2),_g(i,l,p),np(i,l,p,g),p=!0;else if(o===null){var S=i.stateNode,P=i.memoizedProps;S.props=P;var z=S.context,F=l.contextType;typeof F=="object"&&F!==null?F=Cn(F):(F=on(l)?Po:Bt.current,F=bi(i,F));var X=l.getDerivedStateFromProps,D=typeof X=="function"||typeof S.getSnapshotBeforeUpdate=="function";D||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(P!==p||z!==F)&&Tg(i,S,p,F),Fr=!1;var A=i.memoizedState;S.state=A,Xa(i,p,S,g),z=i.memoizedState,P!==p||A!==z||rn.current||Fr?(typeof X=="function"&&(Ks(i,l,X,p),z=i.memoizedState),(P=Fr||Pg(i,l,P,p,A,z,F))?(D||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(i.flags|=4)):(typeof S.componentDidMount=="function"&&(i.flags|=4),i.memoizedProps=p,i.memoizedState=z),S.props=p,S.state=z,S.context=F,p=P):(typeof S.componentDidMount=="function"&&(i.flags|=4),p=!1)}else{S=i.stateNode,Sg(o,i),P=i.memoizedProps,F=i.type===i.elementType?P:Dn(i.type,P),S.props=F,D=i.pendingProps,A=S.context,z=l.contextType,typeof z=="object"&&z!==null?z=Cn(z):(z=on(l)?Po:Bt.current,z=bi(i,z));var E=l.getDerivedStateFromProps;(X=typeof E=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(P!==D||A!==z)&&Tg(i,S,p,z),Fr=!1,A=i.memoizedState,S.state=A,Xa(i,p,S,g);var N=i.memoizedState;P!==D||A!==N||rn.current||Fr?(typeof E=="function"&&(Ks(i,l,E,p),N=i.memoizedState),(F=Fr||Pg(i,l,F,p,A,N,z))?(X||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(p,N,z),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(p,N,z)),typeof S.componentDidUpdate=="function"&&(i.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(i.flags|=256)):(typeof S.componentDidUpdate!="function"||P===o.memoizedProps&&A===o.memoizedState||(i.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||P===o.memoizedProps&&A===o.memoizedState||(i.flags|=256),i.memoizedProps=p,i.memoizedState=N),S.props=p,S.state=N,S.context=z,p=F):(typeof S.componentDidUpdate!="function"||P===o.memoizedProps&&A===o.memoizedState||(i.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||P===o.memoizedProps&&A===o.memoizedState||(i.flags|=256),p=!1)}return wp(o,i,l,p,b,g)}function wp(o,i,l,p,g,b){$g(o,i);var S=(i.flags&64)!=0;if(!p&&!S)return g&&hg(i,l,!1),dr(o,i,b);p=i.stateNode,z3.current=i;var P=S&&typeof l.getDerivedStateFromError!="function"?null:p.render();return i.flags|=1,o!==null&&S?(i.child=Qs(i,o.child,null,b),i.child=Qs(i,null,P,b)):ln(o,i,P,b),i.memoizedState=p.state,g&&hg(i,l,!0),i.child}function qg(o){var i=o.stateNode;i.pendingContext?pg(o,i.pendingContext,i.pendingContext!==i.context):i.context&&pg(o,i.context,!1),ip(o,i.containerInfo)}var ac={dehydrated:null,retryLane:0};function nv(o,i,l){var p=i.pendingProps,g=wt.current,b=!1,S;return(S=(i.flags&64)!=0)||(S=o!==null&&o.memoizedState===null?!1:(g&2)!=0),S?(b=!0,i.flags&=-65):o!==null&&o.memoizedState===null||p.fallback===void 0||p.unstable_avoidThisFallback===!0||(g|=1),yt(wt,g&1),o===null?(p.fallback!==void 0&&lp(i),o=p.children,g=p.fallback,b?(o=Jg(i,o,g,l),i.child.memoizedState={baseLanes:l},i.memoizedState=ac,o):typeof p.unstable_expectedLoadTime=="number"?(o=Jg(i,o,g,l),i.child.memoizedState={baseLanes:l},i.memoizedState=ac,i.lanes=33554432,o):(l=bp({mode:"visible",children:o},i.mode,l,null),l.return=i,i.child=l)):o.memoizedState!==null?b?(p=tv(o,i,p.children,p.fallback,l),b=i.child,g=o.child.memoizedState,b.memoizedState=g===null?{baseLanes:l}:{baseLanes:g.baseLanes|l},b.childLanes=o.childLanes&~l,i.memoizedState=ac,p):(l=ev(o,i,p.children,l),i.memoizedState=null,l):b?(p=tv(o,i,p.children,p.fallback,l),b=i.child,g=o.child.memoizedState,b.memoizedState=g===null?{baseLanes:l}:{baseLanes:g.baseLanes|l},b.childLanes=o.childLanes&~l,i.memoizedState=ac,p):(l=ev(o,i,p.children,l),i.memoizedState=null,l)}function Jg(o,i,l,p){var g=o.mode,b=o.child;return i={mode:"hidden",children:i},(g&2)==0&&b!==null?(b.childLanes=0,b.pendingProps=i):b=bp(i,g,0,null),l=Si(l,g,p,null),b.return=o,l.return=o,b.sibling=l,o.child=b,l}function ev(o,i,l,p){var g=o.child;return o=g.sibling,l=Kr(g,{mode:"visible",children:l}),(i.mode&2)==0&&(l.lanes=p),l.return=i,l.sibling=null,o!==null&&(o.nextEffect=null,o.flags=8,i.firstEffect=i.lastEffect=o),i.child=l}function tv(o,i,l,p,g){var b=i.mode,S=o.child;o=S.sibling;var P={mode:"hidden",children:l};return(b&2)==0&&i.child!==S?(l=i.child,l.childLanes=0,l.pendingProps=P,S=l.lastEffect,S!==null?(i.firstEffect=l.firstEffect,i.lastEffect=S,S.nextEffect=null):i.firstEffect=i.lastEffect=null):l=Kr(S,P),o!==null?p=Kr(o,p):(p=Si(p,b,g,null),p.flags|=2),p.return=i,l.return=i,l.sibling=p,i.child=l,p}function rv(o,i){o.lanes|=i;var l=o.alternate;l!==null&&(l.lanes|=i),kg(o.return,i)}function xp(o,i,l,p,g,b){var S=o.memoizedState;S===null?o.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:p,tail:l,tailMode:g,lastEffect:b}:(S.isBackwards=i,S.rendering=null,S.renderingStartTime=0,S.last=p,S.tail=l,S.tailMode=g,S.lastEffect=b)}function ov(o,i,l){var p=i.pendingProps,g=p.revealOrder,b=p.tail;if(ln(o,i,p.children,l),p=wt.current,(p&2)!=0)p=p&1|2,i.flags|=64;else{if(o!==null&&(o.flags&64)!=0)e:for(o=i.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&rv(o,l);else if(o.tag===19)rv(o,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}p&=1}if(yt(wt,p),(i.mode&2)==0)i.memoizedState=null;else switch(g){case"forwards":for(l=i.child,g=null;l!==null;)o=l.alternate,o!==null&&qs(o)===null&&(g=l),l=l.sibling;l=g,l===null?(g=i.child,i.child=null):(g=l.sibling,l.sibling=null),xp(i,!1,g,l,b,i.lastEffect);break;case"backwards":for(l=null,g=i.child,i.child=null;g!==null;){if(o=g.alternate,o!==null&&qs(o)===null){i.child=g;break}o=g.sibling,g.sibling=l,l=g,g=o}xp(i,!0,l,null,b,i.lastEffect);break;case"together":xp(i,!1,null,null,void 0,i.lastEffect);break;default:i.memoizedState=null}return i.child}function dr(o,i,l){if(o!==null&&(i.dependencies=o.dependencies),Za|=i.lanes,(l&i.childLanes)!=0){if(o!==null&&i.child!==o.child)throw Error(ne(153));if(i.child!==null){for(o=i.child,l=Kr(o,o.pendingProps),i.child=l,l.return=i;o.sibling!==null;)o=o.sibling,l=l.sibling=Kr(o,o.pendingProps),l.return=i;l.sibling=null}return i.child}return null}var iv,Ep,av,lv;iv=function(o,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)o.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}};Ep=function(){};av=function(o,i,l,p){var g=o.memoizedProps;if(g!==p){o=i.stateNode,Io(Zn.current);var b=null;switch(l){case"input":g=rd(o,g),p=rd(o,p),b=[];break;case"option":g=ad(o,g),p=ad(o,p),b=[];break;case"select":g=nt({},g,{value:void 0}),p=nt({},p,{value:void 0}),b=[];break;case"textarea":g=ld(o,g),p=ld(o,p),b=[];break;default:typeof g.onClick!="function"&&typeof p.onClick=="function"&&(o.onclick=zs)}ud(l,p);var S;l=null;for(F in g)if(!p.hasOwnProperty(F)&&g.hasOwnProperty(F)&&g[F]!=null)if(F==="style"){var P=g[F];for(S in P)P.hasOwnProperty(S)&&(l||(l={}),l[S]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(xa.hasOwnProperty(F)?b||(b=[]):(b=b||[]).push(F,null));for(F in p){var z=p[F];if(P=g!=null?g[F]:void 0,p.hasOwnProperty(F)&&z!==P&&(z!=null||P!=null))if(F==="style")if(P){for(S in P)!P.hasOwnProperty(S)||z&&z.hasOwnProperty(S)||(l||(l={}),l[S]="");for(S in z)z.hasOwnProperty(S)&&P[S]!==z[S]&&(l||(l={}),l[S]=z[S])}else l||(b||(b=[]),b.push(F,l)),l=z;else F==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,P=P?P.__html:void 0,z!=null&&P!==z&&(b=b||[]).push(F,z)):F==="children"?typeof z!="string"&&typeof z!="number"||(b=b||[]).push(F,""+z):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(xa.hasOwnProperty(F)?(z!=null&&F==="onScroll"&&ut("scroll",o),b||P===z||(b=[])):typeof z=="object"&&z!==null&&z.$$typeof===qu?z.toString():(b=b||[]).push(F,z))}l&&(b=b||[]).push("style",l);var F=b;(i.updateQueue=F)&&(i.flags|=4)}};lv=function(o,i,l,p){l!==p&&(i.flags|=4)};function al(o,i){if(!Xn)switch(o.tailMode){case"hidden":i=o.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?o.tail=null:l.sibling=null;break;case"collapsed":l=o.tail;for(var p=null;l!==null;)l.alternate!==null&&(p=l),l=l.sibling;p===null?i||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function N3(o,i,l){var p=i.pendingProps;switch(i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return on(i.type)&&Bs(),null;case 3:return Ci(),dt(rn),dt(Bt),cp(),p=i.stateNode,p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(Js(i)?i.flags|=4:p.hydrate||(i.flags|=256)),Ep(i),null;case 5:ap(i);var g=Io(Ja.current);if(l=i.type,o!==null&&i.stateNode!=null)av(o,i,l,p,g),o.ref!==i.ref&&(i.flags|=128);else{if(!p){if(i.stateNode===null)throw Error(ne(166));return null}if(o=Io(Zn.current),Js(i)){p=i.stateNode,l=i.type;var b=i.memoizedProps;switch(p[Rr]=i,p[Rs]=b,l){case"dialog":ut("cancel",p),ut("close",p);break;case"iframe":case"object":case"embed":ut("load",p);break;case"video":case"audio":for(o=0;o<Ga.length;o++)ut(Ga[o],p);break;case"source":ut("error",p);break;case"img":case"image":case"link":ut("error",p),ut("load",p);break;case"details":ut("toggle",p);break;case"input":qm(p,b),ut("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!b.multiple},ut("invalid",p);break;case"textarea":t0(p,b),ut("invalid",p)}ud(l,b),o=null;for(var S in b)b.hasOwnProperty(S)&&(g=b[S],S==="children"?typeof g=="string"?p.textContent!==g&&(o=["children",g]):typeof g=="number"&&p.textContent!==""+g&&(o=["children",""+g]):xa.hasOwnProperty(S)&&g!=null&&S==="onScroll"&&ut("scroll",p));switch(l){case"input":gs(p),e0(p,b,!0);break;case"textarea":gs(p),r0(p);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(p.onclick=zs)}p=o,i.updateQueue=p,p!==null&&(i.flags|=4)}else{switch(S=g.nodeType===9?g:g.ownerDocument,o===sd.html&&(o=o0(l)),o===sd.html?l==="script"?(o=S.createElement("div"),o.innerHTML="<script></script>",o=o.removeChild(o.firstChild)):typeof p.is=="string"?o=S.createElement(l,{is:p.is}):(o=S.createElement(l),l==="select"&&(S=o,p.multiple?S.multiple=!0:p.size&&(S.size=p.size))):o=S.createElementNS(o,l),o[Rr]=i,o[Rs]=p,iv(o,i,!1,!1),i.stateNode=o,S=dd(l,p),l){case"dialog":ut("cancel",o),ut("close",o),g=p;break;case"iframe":case"object":case"embed":ut("load",o),g=p;break;case"video":case"audio":for(g=0;g<Ga.length;g++)ut(Ga[g],o);g=p;break;case"source":ut("error",o),g=p;break;case"img":case"image":case"link":ut("error",o),ut("load",o),g=p;break;case"details":ut("toggle",o),g=p;break;case"input":qm(o,p),g=rd(o,p),ut("invalid",o);break;case"option":g=ad(o,p);break;case"select":o._wrapperState={wasMultiple:!!p.multiple},g=nt({},p,{value:void 0}),ut("invalid",o);break;case"textarea":t0(o,p),g=ld(o,p),ut("invalid",o);break;default:g=p}ud(l,g);var P=g;for(b in P)if(P.hasOwnProperty(b)){var z=P[b];b==="style"?l0(o,z):b==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&i0(o,z)):b==="children"?typeof z=="string"?(l!=="textarea"||z!=="")&&Ma(o,z):typeof z=="number"&&Ma(o,""+z):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(xa.hasOwnProperty(b)?z!=null&&b==="onScroll"&&ut("scroll",o):z!=null&&Ku(o,b,z,S))}switch(l){case"input":gs(o),e0(o,p,!1);break;case"textarea":gs(o),r0(o);break;case"option":p.value!=null&&o.setAttribute("value",""+Lr(p.value));break;case"select":o.multiple=!!p.multiple,b=p.value,b!=null?ii(o,!!p.multiple,b,!1):p.defaultValue!=null&&ii(o,!!p.multiple,p.defaultValue,!0);break;default:typeof g.onClick=="function"&&(o.onclick=zs)}sg(l,p)&&(i.flags|=4)}i.ref!==null&&(i.flags|=128)}return null;case 6:if(o&&i.stateNode!=null)lv(o,i,o.memoizedProps,p);else{if(typeof p!="string"&&i.stateNode===null)throw Error(ne(166));l=Io(Ja.current),Io(Zn.current),Js(i)?(p=i.stateNode,l=i.memoizedProps,p[Rr]=i,p.nodeValue!==l&&(i.flags|=4)):(p=(l.nodeType===9?l:l.ownerDocument).createTextNode(p),p[Rr]=i,i.stateNode=p)}return null;case 13:return dt(wt),p=i.memoizedState,(i.flags&64)!=0?(i.lanes=l,i):(p=p!==null,l=!1,o===null?i.memoizedProps.fallback!==void 0&&Js(i):l=o.memoizedState!==null,p&&!l&&(i.mode&2)!=0&&(o===null&&i.memoizedProps.unstable_avoidThisFallback!==!0||(wt.current&1)!=0?Nt===0&&(Nt=3):((Nt===0||Nt===3)&&(Nt=4),Qt===null||(Za&134217727)==0&&(Mi&134217727)==0||Pi(Qt,Vt))),(p||l)&&(i.flags|=4),null);case 4:return Ci(),Ep(i),o===null&&ag(i.stateNode.containerInfo),null;case 10:return ep(i),null;case 17:return on(i.type)&&Bs(),null;case 19:if(dt(wt),p=i.memoizedState,p===null)return null;if(b=(i.flags&64)!=0,S=p.rendering,S===null)if(b)al(p,!1);else{if(Nt!==0||o!==null&&(o.flags&64)!=0)for(o=i.child;o!==null;){if(S=qs(o),S!==null){for(i.flags|=64,al(p,!1),b=S.updateQueue,b!==null&&(i.updateQueue=b,i.flags|=4),p.lastEffect===null&&(i.firstEffect=null),i.lastEffect=p.lastEffect,p=l,l=i.child;l!==null;)b=l,o=p,b.flags&=2,b.nextEffect=null,b.firstEffect=null,b.lastEffect=null,S=b.alternate,S===null?(b.childLanes=0,b.lanes=o,b.child=null,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=S.childLanes,b.lanes=S.lanes,b.child=S.child,b.memoizedProps=S.memoizedProps,b.memoizedState=S.memoizedState,b.updateQueue=S.updateQueue,b.type=S.type,o=S.dependencies,b.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),l=l.sibling;return yt(wt,wt.current&1|2),i.child}o=o.sibling}p.tail!==null&&Ht()>kp&&(i.flags|=64,b=!0,al(p,!1),i.lanes=33554432)}else{if(!b)if(o=qs(S),o!==null){if(i.flags|=64,b=!0,l=o.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),al(p,!0),p.tail===null&&p.tailMode==="hidden"&&!S.alternate&&!Xn)return i=i.lastEffect=p.lastEffect,i!==null&&(i.nextEffect=null),null}else 2*Ht()-p.renderingStartTime>kp&&l!==1073741824&&(i.flags|=64,b=!0,al(p,!1),i.lanes=33554432);p.isBackwards?(S.sibling=i.child,i.child=S):(l=p.last,l!==null?l.sibling=S:i.child=S,p.last=S)}return p.tail!==null?(l=p.tail,p.rendering=l,p.tail=l.sibling,p.lastEffect=i.lastEffect,p.renderingStartTime=Ht(),l.sibling=null,i=wt.current,yt(wt,b?i&1|2:i&1),l):null;case 23:case 24:return Sp(),o!==null&&o.memoizedState!==null!=(i.memoizedState!==null)&&p.mode!=="unstable-defer-without-hiding"&&(i.flags|=4),null}throw Error(ne(156,i.tag))}function R3(o){switch(o.tag){case 1:on(o.type)&&Bs();var i=o.flags;return i&4096?(o.flags=i&-4097|64,o):null;case 3:if(Ci(),dt(rn),dt(Bt),cp(),i=o.flags,(i&64)!=0)throw Error(ne(285));return o.flags=i&-4097|64,o;case 5:return ap(o),null;case 13:return dt(wt),i=o.flags,i&4096?(o.flags=i&-4097|64,o):null;case 19:return dt(wt),null;case 4:return Ci(),null;case 10:return ep(o),null;case 23:case 24:return Sp(),null;default:return null}}function Cp(o,i){try{var l="",p=i;do l+=y4(p),p=p.return;while(p);var g=l}catch(b){g=`
Error generating stack: `+b.message+`
`+b.stack}return{value:o,source:i,stack:g}}function Op(o,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var B3=typeof WeakMap=="function"?WeakMap:Map;function sv(o,i,l){l=Vr(-1,l),l.tag=3,l.payload={element:null};var p=i.value;return l.callback=function(){lc||(lc=!0,Mp=p),Op(o,i)},l}function cv(o,i,l){l=Vr(-1,l),l.tag=3;var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=i.value;l.payload=function(){return Op(o,i),p(g)}}var b=o.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(l.callback=function(){typeof p!="function"&&(Qn===null?Qn=new Set([this]):Qn.add(this),Op(o,i));var S=i.stack;this.componentDidCatch(i.value,{componentStack:S!==null?S:""})}),l}var H3=typeof WeakSet=="function"?WeakSet:Set;function uv(o){var i=o.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(l){Zr(o,l)}else i.current=null}function F3(o,i){switch(i.tag){case 0:case 11:case 15:case 22:return;case 1:if(i.flags&256&&o!==null){var l=o.memoizedProps,p=o.memoizedState;o=i.stateNode,i=o.getSnapshotBeforeUpdate(i.elementType===i.type?l:Dn(i.type,l),p),o.__reactInternalSnapshotBeforeUpdate=i}return;case 3:i.flags&256&&Wd(i.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(ne(163))}function U3(o,i,l){switch(l.tag){case 0:case 11:case 15:case 22:if(i=l.updateQueue,i=i!==null?i.lastEffect:null,i!==null){o=i=i.next;do{if((o.tag&3)==3){var p=o.create;o.destroy=p()}o=o.next}while(o!==i)}if(i=l.updateQueue,i=i!==null?i.lastEffect:null,i!==null){o=i=i.next;do{var g=o;p=g.next,g=g.tag,(g&4)!=0&&(g&1)!=0&&(dv(l,o),V3(l,o)),o=p}while(o!==i)}return;case 1:o=l.stateNode,l.flags&4&&(i===null?o.componentDidMount():(p=l.elementType===l.type?i.memoizedProps:Dn(l.type,i.memoizedProps),o.componentDidUpdate(p,i.memoizedState,o.__reactInternalSnapshotBeforeUpdate))),i=l.updateQueue,i!==null&&Og(l,i,o);return;case 3:if(i=l.updateQueue,i!==null){if(o=null,l.child!==null)switch(l.child.tag){case 5:o=l.child.stateNode;break;case 1:o=l.child.stateNode}Og(l,i,o)}return;case 5:o=l.stateNode,i===null&&l.flags&4&&sg(l.type,l.memoizedProps)&&o.focus();return;case 6:return;case 4:return;case 12:return;case 13:l.memoizedState===null&&(l=l.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&k0(l))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(ne(163))}function pv(o,i){for(var l=o;;){if(l.tag===5){var p=l.stateNode;if(i)p=p.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{p=l.stateNode;var g=l.memoizedProps.style;g=g!=null&&g.hasOwnProperty("display")?g.display:null,p.style.display=a0("display",g)}}else if(l.tag===6)l.stateNode.nodeValue=i?"":l.memoizedProps;else if((l.tag!==23&&l.tag!==24||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}}function hv(o,i){if(_o&&typeof _o.onCommitFiberUnmount=="function")try{_o.onCommitFiberUnmount(Yd,i)}catch(b){}switch(i.tag){case 0:case 11:case 14:case 15:case 22:if(o=i.updateQueue,o!==null&&(o=o.lastEffect,o!==null)){var l=o=o.next;do{var p=l,g=p.destroy;if(p=p.tag,g!==void 0)if((p&4)!=0)dv(i,l);else{p=i;try{g()}catch(b){Zr(p,b)}}l=l.next}while(l!==o)}break;case 1:if(uv(i),o=i.stateNode,typeof o.componentWillUnmount=="function")try{o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(b){Zr(i,b)}break;case 5:uv(i);break;case 4:fv(o,i)}}function mv(o){o.alternate=null,o.child=null,o.dependencies=null,o.firstEffect=null,o.lastEffect=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.return=null,o.updateQueue=null}function gv(o){return o.tag===5||o.tag===3||o.tag===4}function vv(o){e:{for(var i=o.return;i!==null;){if(gv(i))break e;i=i.return}throw Error(ne(160))}var l=i;switch(i=l.stateNode,l.tag){case 5:var p=!1;break;case 3:i=i.containerInfo,p=!0;break;case 4:i=i.containerInfo,p=!0;break;default:throw Error(ne(161))}l.flags&16&&(Ma(i,""),l.flags&=-17);e:t:for(l=o;;){for(;l.sibling===null;){if(l.return===null||gv(l.return)){l=null;break e}l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue t;l.child.return=l,l=l.child}if(!(l.flags&2)){l=l.stateNode;break e}}p?Pp(o,l,i):_p(o,l,i)}function Pp(o,i,l){var p=o.tag,g=p===5||p===6;if(g)o=g?o.stateNode:o.stateNode.instance,i?l.nodeType===8?l.parentNode.insertBefore(o,i):l.insertBefore(o,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(o,l)):(i=l,i.appendChild(o)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=zs));else if(p!==4&&(o=o.child,o!==null))for(Pp(o,i,l),o=o.sibling;o!==null;)Pp(o,i,l),o=o.sibling}function _p(o,i,l){var p=o.tag,g=p===5||p===6;if(g)o=g?o.stateNode:o.stateNode.instance,i?l.insertBefore(o,i):l.appendChild(o);else if(p!==4&&(o=o.child,o!==null))for(_p(o,i,l),o=o.sibling;o!==null;)_p(o,i,l),o=o.sibling}function fv(o,i){for(var l=i,p=!1,g,b;;){if(!p){p=l.return;e:for(;;){if(p===null)throw Error(ne(160));switch(g=p.stateNode,p.tag){case 5:b=!1;break e;case 3:g=g.containerInfo,b=!0;break e;case 4:g=g.containerInfo,b=!0;break e}p=p.return}p=!0}if(l.tag===5||l.tag===6){e:for(var S=o,P=l,z=P;;)if(hv(S,z),z.child!==null&&z.tag!==4)z.child.return=z,z=z.child;else{if(z===P)break e;for(;z.sibling===null;){if(z.return===null||z.return===P)break e;z=z.return}z.sibling.return=z.return,z=z.sibling}b?(S=g,P=l.stateNode,S.nodeType===8?S.parentNode.removeChild(P):S.removeChild(P)):g.removeChild(l.stateNode)}else if(l.tag===4){if(l.child!==null){g=l.stateNode.containerInfo,b=!0,l.child.return=l,l=l.child;continue}}else if(hv(o,l),l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return,l.tag===4&&(p=!1)}l.sibling.return=l.return,l=l.sibling}}function Ip(o,i){switch(i.tag){case 0:case 11:case 14:case 15:case 22:var l=i.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var p=l=l.next;do(p.tag&3)==3&&(o=p.destroy,p.destroy=void 0,o!==void 0&&o()),p=p.next;while(p!==l)}return;case 1:return;case 5:if(l=i.stateNode,l!=null){p=i.memoizedProps;var g=o!==null?o.memoizedProps:p;o=i.type;var b=i.updateQueue;if(i.updateQueue=null,b!==null){for(l[Rs]=p,o==="input"&&p.type==="radio"&&p.name!=null&&Jm(l,p),dd(o,g),i=dd(o,p),g=0;g<b.length;g+=2){var S=b[g],P=b[g+1];S==="style"?l0(l,P):S==="dangerouslySetInnerHTML"?i0(l,P):S==="children"?Ma(l,P):Ku(l,S,P,i)}switch(o){case"input":id(l,p);break;case"textarea":n0(l,p);break;case"select":o=l._wrapperState.wasMultiple,l._wrapperState.wasMultiple=!!p.multiple,b=p.value,b!=null?ii(l,!!p.multiple,b,!1):o!==!!p.multiple&&(p.defaultValue!=null?ii(l,!!p.multiple,p.defaultValue,!0):ii(l,!!p.multiple,p.multiple?[]:"",!1))}}}return;case 6:if(i.stateNode===null)throw Error(ne(162));i.stateNode.nodeValue=i.memoizedProps;return;case 3:l=i.stateNode,l.hydrate&&(l.hydrate=!1,k0(l.containerInfo));return;case 12:return;case 13:i.memoizedState!==null&&(Tp=Ht(),pv(i.child,!0)),yv(i);return;case 19:yv(i);return;case 17:return;case 23:case 24:pv(i,i.memoizedState!==null);return}throw Error(ne(163))}function yv(o){var i=o.updateQueue;if(i!==null){o.updateQueue=null;var l=o.stateNode;l===null&&(l=o.stateNode=new H3),i.forEach(function(p){var g=W3.bind(null,o,p);l.has(p)||(l.add(p),p.then(g,g))})}}function G3(o,i){return o!==null&&(o=o.memoizedState,o===null||o.dehydrated!==null)?(i=i.memoizedState,i!==null&&i.dehydrated===null):!1}var K3=Math.ceil,sc=ko.ReactCurrentDispatcher,Lp=ko.ReactCurrentOwner,Te=0,Qt=null,Ot=null,Vt=0,Do=0,Ap=Br(0),Nt=0,cc=null,_i=0,Za=0,Mi=0,Dp=0,jp=null,Tp=0,kp=Infinity;function Ti(){kp=Ht()+500}var ue=null,lc=!1,Mp=null,Qn=null,Xr=!1,ll=null,sl=90,zp=[],Np=[],pr=null,cl=0,Rp=null,uc=-1,fr=0,dc=0,ul=null,pc=!1;function vn(){return(Te&48)!=0?Ht():uc!==-1?uc:uc=Ht()}function Wr(o){if(o=o.mode,(o&2)==0)return 1;if((o&4)==0)return xi()===99?1:2;if(fr===0&&(fr=_i),I3.transition!==0){dc!==0&&(dc=jp!==null?jp.pendingLanes:0),o=fr;var i=4186112&~dc;return i&=-i,i===0&&(o=4186112&~o,i=o&-o,i===0&&(i=8192)),i}return o=xi(),(Te&4)!=0&&o===98?o=Cs(12,fr):(o=D4(o),o=Cs(o,fr)),o}function Gr(o,i,l){if(50<cl)throw cl=0,Rp=null,Error(ne(185));if(o=fc(o,i),o===null)return null;Os(o,i,l),o===Qt&&(Mi|=i,Nt===4&&Pi(o,Vt));var p=xi();i===1?(Te&8)!=0&&(Te&48)==0?Bp(o):(Pn(o,l),Te===0&&(Ti(),Yn())):((Te&4)==0||p!==98&&p!==99||(pr===null?pr=new Set([o]):pr.add(o)),Pn(o,l)),jp=o}function fc(o,i){o.lanes|=i;var l=o.alternate;for(l!==null&&(l.lanes|=i),l=o,o=o.return;o!==null;)o.childLanes|=i,l=o.alternate,l!==null&&(l.childLanes|=i),l=o,o=o.return;return l.tag===3?l.stateNode:null}function Pn(o,i){for(var l=o.callbackNode,p=o.suspendedLanes,g=o.pingedLanes,b=o.expirationTimes,S=o.pendingLanes;0<S;){var P=31-zr(S),z=1<<P,F=b[P];if(F===-1){if((z&p)==0||(z&g)!=0){F=i,ui(z);var X=it;b[P]=10<=X?F+250:6<=X?F+5e3:-1}}else F<=i&&(o.expiredLanes|=z);S&=~z}if(p=Na(o,o===Qt?Vt:0),i=it,p===0)l!==null&&(l!==Qd&&Xd(l),o.callbackNode=null,o.callbackPriority=0);else{if(l!==null){if(o.callbackPriority===i)return;l!==Qd&&Xd(l)}i===15?(l=Bp.bind(null,o),cr===null?(cr=[l],Vs=Zd(Fs,Eg)):cr.push(l),l=Qd):i===14?l=Ya(99,Bp.bind(null,o)):(l=j4(i),l=Ya(l,wv.bind(null,o))),o.callbackPriority=i,o.callbackNode=l}}function wv(o){if(uc=-1,dc=fr=0,(Te&48)!=0)throw Error(ne(327));var i=o.callbackNode;if($r()&&o.callbackNode!==i)return null;var l=Na(o,o===Qt?Vt:0);if(l===0)return null;var p=l,g=Te;Te|=16;var b=xv();(Qt!==o||Vt!==p)&&(Ti(),Ii(o,p));do try{Y3();break}catch(P){bv(o,P)}while(1);if(Jd(),sc.current=b,Te=g,Ot!==null?p=0:(Qt=null,Vt=0,p=Nt),(_i&Mi)!=0)Ii(o,0);else if(p!==0){if(p===2&&(Te|=64,o.hydrate&&(o.hydrate=!1,Wd(o.containerInfo)),l=T0(o),l!==0&&(p=dl(o,l))),p===1)throw i=cc,Ii(o,0),Pi(o,l),Pn(o,Ht()),i;switch(o.finishedWork=o.current.alternate,o.finishedLanes=l,p){case 0:case 1:throw Error(ne(345));case 2:jo(o);break;case 3:if(Pi(o,l),(l&62914560)===l&&(p=Tp+500-Ht(),10<p)){if(Na(o,0)!==0)break;if(g=o.suspendedLanes,(g&l)!==l){vn(),o.pingedLanes|=o.suspendedLanes&g;break}o.timeoutHandle=cg(jo.bind(null,o),p);break}jo(o);break;case 4:if(Pi(o,l),(l&4186112)===l)break;for(p=o.eventTimes,g=-1;0<l;){var S=31-zr(l);b=1<<S,S=p[S],S>g&&(g=S),l&=~b}if(l=g,l=Ht()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*K3(l/1960))-l,10<l){o.timeoutHandle=cg(jo.bind(null,o),l);break}jo(o);break;case 5:jo(o);break;default:throw Error(ne(329))}}return Pn(o,Ht()),o.callbackNode===i?wv.bind(null,o):null}function Pi(o,i){for(i&=~Dp,i&=~Mi,o.suspendedLanes|=i,o.pingedLanes&=~i,o=o.expirationTimes;0<i;){var l=31-zr(i),p=1<<l;o[l]=-1,i&=~p}}function Bp(o){if((Te&48)!=0)throw Error(ne(327));if($r(),o===Qt&&(o.expiredLanes&Vt)!=0){var i=Vt,l=dl(o,i);(_i&Mi)!=0&&(i=Na(o,i),l=dl(o,i))}else i=Na(o,0),l=dl(o,i);if(o.tag!==0&&l===2&&(Te|=64,o.hydrate&&(o.hydrate=!1,Wd(o.containerInfo)),i=T0(o),i!==0&&(l=dl(o,i))),l===1)throw l=cc,Ii(o,0),Pi(o,i),Pn(o,Ht()),l;return o.finishedWork=o.current.alternate,o.finishedLanes=i,jo(o),Pn(o,Ht()),null}function Z3(){if(pr!==null){var o=pr;pr=null,o.forEach(function(i){i.expiredLanes|=24&i.pendingLanes,Pn(i,Ht())})}Yn()}function Ev(o,i){var l=Te;Te|=1;try{return o(i)}finally{Te=l,Te===0&&(Ti(),Yn())}}function kv(o,i){var l=Te;Te&=-2,Te|=8;try{return o(i)}finally{Te=l,Te===0&&(Ti(),Yn())}}function ic(o,i){yt(Ap,Do),Do|=i,_i|=i}function Sp(){Do=Ap.current,dt(Ap)}function Ii(o,i){o.finishedWork=null,o.finishedLanes=0;var l=o.timeoutHandle;if(l!==-1&&(o.timeoutHandle=-1,C3(l)),Ot!==null)for(l=Ot.return;l!==null;){var p=l;switch(p.tag){case 1:p=p.type.childContextTypes,p!=null&&Bs();break;case 3:Ci(),dt(rn),dt(Bt),cp();break;case 5:ap(p);break;case 4:Ci();break;case 13:dt(wt);break;case 19:dt(wt);break;case 10:ep(p);break;case 23:case 24:Sp()}l=l.return}Qt=o,Ot=Kr(o.current,null),Vt=Do=_i=i,Nt=0,cc=null,Dp=Mi=Za=0}function bv(o,i){do{var l=Ot;try{if(Jd(),el.current=tc,ec){for(var p=kt.memoizedState;p!==null;){var g=p.queue;g!==null&&(g.pending=null),p=p.next}ec=!1}if(tl=0,zt=Ft=kt=null,nl=!1,Lp.current=null,l===null||l.return===null){Nt=1,cc=i,Ot=null;break}e:{var b=o,S=l.return,P=l,z=i;if(i=Vt,P.flags|=2048,P.firstEffect=P.lastEffect=null,z!==null&&typeof z=="object"&&typeof z.then=="function"){var F=z;if((P.mode&2)==0){var X=P.alternate;X?(P.updateQueue=X.updateQueue,P.memoizedState=X.memoizedState,P.lanes=X.lanes):(P.updateQueue=null,P.memoizedState=null)}var D=(wt.current&1)!=0,A=S;do{var E;if(E=A.tag===13){var N=A.memoizedState;if(N!==null)E=N.dehydrated!==null;else{var x=A.memoizedProps;E=x.fallback===void 0?!1:x.unstable_avoidThisFallback!==!0?!0:!D}}if(E){var M=A.updateQueue;if(M===null){var T=new Set;T.add(F),A.updateQueue=T}else M.add(F);if((A.mode&2)==0){if(A.flags|=64,P.flags|=16384,P.flags&=-2981,P.tag===1)if(P.alternate===null)P.tag=17;else{var R=Vr(-1,1);R.tag=2,Ur(P,R)}P.lanes|=1;break e}z=void 0,P=i;var G=b.pingCache;if(G===null?(G=b.pingCache=new B3,z=new Set,G.set(F,z)):(z=G.get(F),z===void 0&&(z=new Set,G.set(F,z))),!z.has(P)){z.add(P);var B=X3.bind(null,b,F,P);F.then(B,B)}A.flags|=4096,A.lanes=i;break e}A=A.return}while(A!==null);z=Error((oi(P.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Nt!==5&&(Nt=2),z=Cp(z,P),A=S;do{switch(A.tag){case 3:b=z,A.flags|=4096,i&=-i,A.lanes|=i;var f=sv(A,b,i);Cg(A,f);break e;case 1:b=z;var j=A.type,oe=A.stateNode;if((A.flags&64)==0&&(typeof j.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(Qn===null||!Qn.has(oe)))){A.flags|=4096,i&=-i,A.lanes|=i;var Q=cv(A,b,i);Cg(A,Q);break e}}A=A.return}while(A!==null)}Sv(l)}catch(ve){i=ve,Ot===l&&l!==null&&(Ot=l=l.return);continue}break}while(1)}function xv(){var o=sc.current;return sc.current=tc,o===null?tc:o}function dl(o,i){var l=Te;Te|=16;var p=xv();Qt===o&&Vt===i||Ii(o,i);do try{$3();break}catch(g){bv(o,g)}while(1);if(Jd(),Te=l,sc.current=p,Ot!==null)throw Error(ne(261));return Qt=null,Vt=0,Nt}function $3(){for(;Ot!==null;)Cv(Ot)}function Y3(){for(;Ot!==null&&!P3();)Cv(Ot)}function Cv(o){var i=Ov(o.alternate,o,Do);o.memoizedProps=o.pendingProps,i===null?Sv(o):Ot=i,Lp.current=null}function Sv(o){var i=o;do{var l=i.alternate;if(o=i.return,(i.flags&2048)==0){if(l=N3(l,i,Do),l!==null){Ot=l;return}if(l=i,l.tag!==24&&l.tag!==23||l.memoizedState===null||(Do&1073741824)!=0||(l.mode&4)==0){for(var p=0,g=l.child;g!==null;)p|=g.lanes|g.childLanes,g=g.sibling;l.childLanes=p}o!==null&&(o.flags&2048)==0&&(o.firstEffect===null&&(o.firstEffect=i.firstEffect),i.lastEffect!==null&&(o.lastEffect!==null&&(o.lastEffect.nextEffect=i.firstEffect),o.lastEffect=i.lastEffect),1<i.flags&&(o.lastEffect!==null?o.lastEffect.nextEffect=i:o.firstEffect=i,o.lastEffect=i))}else{if(l=R3(i),l!==null){l.flags&=2047,Ot=l;return}o!==null&&(o.firstEffect=o.lastEffect=null,o.flags|=2048)}if(i=i.sibling,i!==null){Ot=i;return}Ot=i=o}while(i!==null);Nt===0&&(Nt=5)}function jo(o){var i=xi();return To(99,Q3.bind(null,o,i)),null}function Q3(o,i){do $r();while(ll!==null);if((Te&48)!=0)throw Error(ne(327));var l=o.finishedWork;if(l===null)return null;if(o.finishedWork=null,o.finishedLanes=0,l===o.current)throw Error(ne(177));o.callbackNode=null;var p=l.lanes|l.childLanes,g=p,b=o.pendingLanes&~g;o.pendingLanes=g,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=g,o.mutableReadLanes&=g,o.entangledLanes&=g,g=o.entanglements;for(var S=o.eventTimes,P=o.expirationTimes;0<b;){var z=31-zr(b),F=1<<z;g[z]=0,S[z]=-1,P[z]=-1,b&=~F}if(pr!==null&&(p&24)==0&&pr.has(o)&&pr.delete(o),o===Qt&&(Ot=Qt=null,Vt=0),1<l.flags?l.lastEffect!==null?(l.lastEffect.nextEffect=l,p=l.firstEffect):p=l:p=l.firstEffect,p!==null){if(g=Te,Te|=32,Lp.current=null,Fd=Ms,S=Q0(),Nd(S)){if("selectionStart"in S)P={start:S.selectionStart,end:S.selectionEnd};else e:if(P=(P=S.ownerDocument)&&P.defaultView||window,(F=P.getSelection&&P.getSelection())&&F.rangeCount!==0){P=F.anchorNode,b=F.anchorOffset,z=F.focusNode,F=F.focusOffset;try{P.nodeType,z.nodeType}catch(ve){P=null;break e}var X=0,D=-1,A=-1,E=0,N=0,x=S,M=null;t:for(;;){for(var T;x!==P||b!==0&&x.nodeType!==3||(D=X+b),x!==z||F!==0&&x.nodeType!==3||(A=X+F),x.nodeType===3&&(X+=x.nodeValue.length),(T=x.firstChild)!==null;)M=x,x=T;for(;;){if(x===S)break t;if(M===P&&++E===b&&(D=X),M===z&&++N===F&&(A=X),(T=x.nextSibling)!==null)break;x=M,M=x.parentNode}x=T}P=D===-1||A===-1?null:{start:D,end:A}}else P=null;P=P||{start:0,end:0}}else P=null;Vd={focusedElem:S,selectionRange:P},Ms=!1,ul=null,pc=!1,ue=p;do try{q3()}catch(ve){if(ue===null)throw Error(ne(330));Zr(ue,ve),ue=ue.nextEffect}while(ue!==null);ul=null,ue=p;do try{for(S=o;ue!==null;){var R=ue.flags;if(R&16&&Ma(ue.stateNode,""),R&128){var G=ue.alternate;if(G!==null){var B=G.ref;B!==null&&(typeof B=="function"?B(null):B.current=null)}}switch(R&1038){case 2:vv(ue),ue.flags&=-3;break;case 6:vv(ue),ue.flags&=-3,Ip(ue.alternate,ue);break;case 1024:ue.flags&=-1025;break;case 1028:ue.flags&=-1025,Ip(ue.alternate,ue);break;case 4:Ip(ue.alternate,ue);break;case 8:P=ue,fv(S,P);var f=P.alternate;mv(P),f!==null&&mv(f)}ue=ue.nextEffect}}catch(ve){if(ue===null)throw Error(ne(330));Zr(ue,ve),ue=ue.nextEffect}while(ue!==null);if(B=Vd,G=Q0(),R=B.focusedElem,S=B.selectionRange,G!==R&&R&&R.ownerDocument&&$0(R.ownerDocument.documentElement,R)){for(S!==null&&Nd(R)&&(G=S.start,B=S.end,B===void 0&&(B=G),"selectionStart"in R?(R.selectionStart=G,R.selectionEnd=Math.min(B,R.value.length)):(B=(G=R.ownerDocument||document)&&G.defaultView||window,B.getSelection&&(B=B.getSelection(),P=R.textContent.length,f=Math.min(S.start,P),S=S.end===void 0?f:Math.min(S.end,P),!B.extend&&f>S&&(P=S,S=f,f=P),P=X0(R,f),b=X0(R,S),P&&b&&(B.rangeCount!==1||B.anchorNode!==P.node||B.anchorOffset!==P.offset||B.focusNode!==b.node||B.focusOffset!==b.offset)&&(G=G.createRange(),G.setStart(P.node,P.offset),B.removeAllRanges(),f>S?(B.addRange(G),B.extend(b.node,b.offset)):(G.setEnd(b.node,b.offset),B.addRange(G)))))),G=[],B=R;B=B.parentNode;)B.nodeType===1&&G.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<G.length;R++)B=G[R],B.element.scrollLeft=B.left,B.element.scrollTop=B.top}Ms=!!Fd,Vd=Fd=null,o.current=l,ue=p;do try{for(R=o;ue!==null;){var j=ue.flags;if(j&36&&U3(R,ue.alternate,ue),j&128){G=void 0;var oe=ue.ref;if(oe!==null){var Q=ue.stateNode;switch(ue.tag){case 5:G=Q;break;default:G=Q}typeof oe=="function"?oe(G):oe.current=G}}ue=ue.nextEffect}}catch(ve){if(ue===null)throw Error(ne(330));Zr(ue,ve),ue=ue.nextEffect}while(ue!==null);ue=null,T3(),Te=g}else o.current=l;if(Xr)Xr=!1,ll=o,sl=i;else for(ue=p;ue!==null;)i=ue.nextEffect,ue.nextEffect=null,ue.flags&8&&(j=ue,j.sibling=null,j.stateNode=null),ue=i;if(p=o.pendingLanes,p===0&&(Qn=null),p===1?o===Rp?cl++:(cl=0,Rp=o):cl=0,l=l.stateNode,_o&&typeof _o.onCommitFiberRoot=="function")try{_o.onCommitFiberRoot(Yd,l,void 0,(l.current.flags&64)==64)}catch(ve){}if(Pn(o,Ht()),lc)throw lc=!1,o=Mp,Mp=null,o;return(Te&8)!=0||Yn(),null}function q3(){for(;ue!==null;){var o=ue.alternate;pc||ul===null||((ue.flags&8)!=0?g0(ue,ul)&&(pc=!0):ue.tag===13&&G3(o,ue)&&g0(ue,ul)&&(pc=!0));var i=ue.flags;(i&256)!=0&&F3(o,ue),(i&512)==0||Xr||(Xr=!0,Ya(97,function(){return $r(),null})),ue=ue.nextEffect}}function $r(){if(sl!==90){var o=97<sl?97:sl;return sl=90,To(o,J3)}return!1}function V3(o,i){zp.push(i,o),Xr||(Xr=!0,Ya(97,function(){return $r(),null}))}function dv(o,i){Np.push(i,o),Xr||(Xr=!0,Ya(97,function(){return $r(),null}))}function J3(){if(ll===null)return!1;var o=ll;if(ll=null,(Te&48)!=0)throw Error(ne(331));var i=Te;Te|=32;var l=Np;Np=[];for(var p=0;p<l.length;p+=2){var g=l[p],b=l[p+1],S=g.destroy;if(g.destroy=void 0,typeof S=="function")try{S()}catch(z){if(b===null)throw Error(ne(330));Zr(b,z)}}for(l=zp,zp=[],p=0;p<l.length;p+=2){g=l[p],b=l[p+1];try{var P=g.create;g.destroy=P()}catch(z){if(b===null)throw Error(ne(330));Zr(b,z)}}for(P=o.current.firstEffect;P!==null;)o=P.nextEffect,P.nextEffect=null,P.flags&8&&(P.sibling=null,P.stateNode=null),P=o;return Te=i,Yn(),!0}function Mv(o,i,l){i=Cp(l,i),i=sv(o,i,1),Ur(o,i),i=vn(),o=fc(o,1),o!==null&&(Os(o,1,i),Pn(o,i))}function Zr(o,i){if(o.tag===3)Mv(o,o,i);else for(var l=o.return;l!==null;){if(l.tag===3){Mv(l,o,i);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Qn===null||!Qn.has(p))){o=Cp(i,o);var g=cv(l,o,1);if(Ur(l,g),g=vn(),l=fc(l,1),l!==null)Os(l,1,g),Pn(l,g);else if(typeof p.componentDidCatch=="function"&&(Qn===null||!Qn.has(p)))try{p.componentDidCatch(i,o)}catch(b){}break}}l=l.return}}function X3(o,i,l){var p=o.pingCache;p!==null&&p.delete(i),i=vn(),o.pingedLanes|=o.suspendedLanes&l,Qt===o&&(Vt&l)===l&&(Nt===4||Nt===3&&(Vt&62914560)===Vt&&500>Ht()-Tp?Ii(o,0):Dp|=l),Pn(o,i)}function W3(o,i){var l=o.stateNode;l!==null&&l.delete(i),i=0,i===0&&(i=o.mode,(i&2)==0?i=1:(i&4)==0?i=xi()===99?1:2:(fr===0&&(fr=_i),i=di(62914560&~fr),i===0&&(i=4194304))),l=vn(),o=fc(o,i),o!==null&&(Os(o,i,l),Pn(o,l))}var Ov;Ov=function(o,i,l){var p=i.lanes;if(o!==null)if(o.memoizedProps!==i.pendingProps||rn.current)jn=!0;else if((l&p)!=0)jn=(o.flags&16384)!=0;else{switch(jn=!1,i.tag){case 3:qg(i),sp();break;case 5:Ag(i);break;case 1:on(i.type)&&Hs(i);break;case 4:ip(i,i.stateNode.containerInfo);break;case 10:p=i.memoizedProps.value;var g=i.type._context;yt(Us,g._currentValue),g._currentValue=p;break;case 13:if(i.memoizedState!==null)return(l&i.child.childLanes)!=0?nv(o,i,l):(yt(wt,wt.current&1),i=dr(o,i,l),i!==null?i.sibling:null);yt(wt,wt.current&1);break;case 19:if(p=(l&i.childLanes)!=0,(o.flags&64)!=0){if(p)return ov(o,i,l);i.flags|=64}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),yt(wt,wt.current),p)break;return null;case 23:case 24:return i.lanes=0,yp(o,i,l)}return dr(o,i,l)}else jn=!1;switch(i.lanes=0,i.tag){case 2:if(p=i.type,o!==null&&(o.alternate=null,i.alternate=null,i.flags|=2),o=i.pendingProps,g=bi(i,Bt.current),ki(i,l),g=dp(null,i,p,o,g,l),i.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0){if(i.tag=1,i.memoizedState=null,i.updateQueue=null,on(p)){var b=!0;Hs(i)}else b=!1;i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,tp(i);var S=p.getDerivedStateFromProps;typeof S=="function"&&Ks(i,p,S,o),g.updater=Ys,i.stateNode=g,g._reactInternals=i,np(i,p,o,l),i=wp(null,i,p,!0,b,l)}else i.tag=0,ln(null,i,g,l),i=i.child;return i;case 16:g=i.elementType;e:{switch(o!==null&&(o.alternate=null,i.alternate=null,i.flags|=2),o=i.pendingProps,b=g._init,g=b(g._payload),i.type=g,b=i.tag=ex(g),o=Dn(g,o),b){case 0:i=vp(null,i,g,o,l);break e;case 1:i=Qg(null,i,g,o,l);break e;case 11:i=Yg(null,i,g,o,l);break e;case 14:i=Xg(null,i,g,Dn(g.type,o),p,l);break e}throw Error(ne(306,g,""))}return i;case 0:return p=i.type,g=i.pendingProps,g=i.elementType===p?g:Dn(p,g),vp(o,i,p,g,l);case 1:return p=i.type,g=i.pendingProps,g=i.elementType===p?g:Dn(p,g),Qg(o,i,p,g,l);case 3:if(qg(i),p=i.updateQueue,o===null||p===null)throw Error(ne(282));if(p=i.pendingProps,g=i.memoizedState,g=g!==null?g.element:null,Sg(o,i),Xa(i,p,null,l),p=i.memoizedState.element,p===g)sp(),i=dr(o,i,l);else{if(g=i.stateNode,(b=g.hydrate)&&(Yr=yi(i.stateNode.containerInfo.firstChild),ur=i,b=Xn=!0),b){if(o=g.mutableSourceEagerHydrationData,o!=null)for(g=0;g<o.length;g+=2)b=o[g],b._workInProgressVersionPrimary=o[g+1],Oi.push(b);for(l=Lg(i,null,p,l),i.child=l;l;)l.flags=l.flags&-3|1024,l=l.sibling}else ln(o,i,p,l),sp();i=i.child}return i;case 5:return Ag(i),o===null&&lp(i),p=i.type,g=i.pendingProps,b=o!==null?o.memoizedProps:null,S=g.children,Ud(p,g)?S=null:b!==null&&Ud(p,b)&&(i.flags|=16),$g(o,i),ln(o,i,S,l),i.child;case 6:return o===null&&lp(i),null;case 13:return nv(o,i,l);case 4:return ip(i,i.stateNode.containerInfo),p=i.pendingProps,o===null?i.child=Qs(i,null,p,l):ln(o,i,p,l),i.child;case 11:return p=i.type,g=i.pendingProps,g=i.elementType===p?g:Dn(p,g),Yg(o,i,p,g,l);case 7:return ln(o,i,i.pendingProps,l),i.child;case 8:return ln(o,i,i.pendingProps.children,l),i.child;case 12:return ln(o,i,i.pendingProps.children,l),i.child;case 10:e:{p=i.type._context,g=i.pendingProps,S=i.memoizedProps,b=g.value;var P=i.type._context;if(yt(Us,P._currentValue),P._currentValue=b,S!==null)if(P=S.value,b=Sn(P,b)?0:(typeof p._calculateChangedBits=="function"?p._calculateChangedBits(P,b):1073741823)|0,b===0){if(S.children===g.children&&!rn.current){i=dr(o,i,l);break e}}else for(P=i.child,P!==null&&(P.return=i);P!==null;){var z=P.dependencies;if(z!==null){S=P.child;for(var F=z.firstContext;F!==null;){if(F.context===p&&(F.observedBits&b)!=0){P.tag===1&&(F=Vr(-1,l&-l),F.tag=2,Ur(P,F)),P.lanes|=l,F=P.alternate,F!==null&&(F.lanes|=l),kg(P.return,l),z.lanes|=l;break}F=F.next}}else S=P.tag===10&&P.type===i.type?null:P.child;if(S!==null)S.return=P;else for(S=P;S!==null;){if(S===i){S=null;break}if(P=S.sibling,P!==null){P.return=S.return,S=P;break}S=S.return}P=S}ln(o,i,g.children,l),i=i.child}return i;case 9:return g=i.type,b=i.pendingProps,p=b.children,ki(i,l),g=Cn(g,b.unstable_observedBits),p=p(g),i.flags|=1,ln(o,i,p,l),i.child;case 14:return g=i.type,b=Dn(g,i.pendingProps),b=Dn(g.type,b),Xg(o,i,g,b,p,l);case 15:return Zg(o,i,i.type,i.pendingProps,p,l);case 17:return p=i.type,g=i.pendingProps,g=i.elementType===p?g:Dn(p,g),o!==null&&(o.alternate=null,i.alternate=null,i.flags|=2),i.tag=1,on(p)?(o=!0,Hs(i)):o=!1,ki(i,l),_g(i,p,g),np(i,p,g,l),wp(null,i,p,!0,o,l);case 19:return ov(o,i,l);case 23:return yp(o,i,l);case 24:return yp(o,i,l)}throw Error(ne(156,i.tag))};function tx(o,i,l,p){this.tag=o,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function On(o,i,l,p){return new tx(o,i,l,p)}function gp(o){return o=o.prototype,!(!o||!o.isReactComponent)}function ex(o){if(typeof o=="function")return gp(o)?1:0;if(o!=null){if(o=o.$$typeof,o===ps)return 11;if(o===hs)return 14}return 2}function Kr(o,i){var l=o.alternate;return l===null?(l=On(o.tag,i,o.key,o.mode),l.elementType=o.elementType,l.type=o.type,l.stateNode=o.stateNode,l.alternate=o,o.alternate=l):(l.pendingProps=i,l.type=o.type,l.flags=0,l.nextEffect=null,l.firstEffect=null,l.lastEffect=null),l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,i=o.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=o.sibling,l.index=o.index,l.ref=o.ref,l}function $s(o,i,l,p,g,b){var S=2;if(p=o,typeof o=="function")gp(o)&&(S=1);else if(typeof o=="string")S=5;else e:switch(o){case Ir:return Si(l.children,g,b,i);case Zm:S=8,g|=16;break;case Yu:S=8,g|=1;break;case ka:return o=On(12,l,i,g|8),o.elementType=ka,o.type=ka,o.lanes=b,o;case Sa:return o=On(13,l,i,g),o.type=Sa,o.elementType=Sa,o.lanes=b,o;case fs:return o=On(19,l,i,g),o.elementType=fs,o.lanes=b,o;case Ju:return bp(l,g,b,i);case ed:return o=On(24,l,i,g),o.elementType=ed,o.lanes=b,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Zu:S=10;break e;case Xu:S=9;break e;case ps:S=11;break e;case hs:S=14;break e;case $u:S=16,p=null;break e;case Qu:S=22;break e}throw Error(ne(130,o==null?o:typeof o,""))}return i=On(S,l,i,g),i.elementType=o,i.type=p,i.lanes=b,i}function Si(o,i,l,p){return o=On(7,o,p,i),o.lanes=l,o}function bp(o,i,l,p){return o=On(23,o,p,i),o.elementType=Ju,o.lanes=l,o}function rp(o,i,l){return o=On(6,o,null,i),o.lanes=l,o}function op(o,i,l){return i=On(4,o.children!==null?o.children:[],o.key,i),i.lanes=l,i.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},i}function nx(o,i,l){this.tag=i,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=l,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Md(0),this.expirationTimes=Md(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Md(0),this.mutableSourceEagerHydrationData=null}function rx(o,i,l){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:So,key:p==null?null:""+p,children:o,containerInfo:i,implementation:l}}function hc(o,i,l,p){var g=i.current,b=vn(),S=Wr(g);e:if(l){l=l._reactInternals;t:{if(Oo(l)!==l||l.tag!==1)throw Error(ne(170));var P=l;do{switch(P.tag){case 3:P=P.stateNode.context;break t;case 1:if(on(P.type)){P=P.stateNode.__reactInternalMemoizedMergedChildContext;break t}}P=P.return}while(P!==null);throw Error(ne(171))}if(l.tag===1){var z=l.type;if(on(z)){l=fg(l,z,P);break e}}l=P}else l=Hr;return i.context===null?i.context=l:i.pendingContext=l,i=Vr(b,S),i.payload={element:o},p=p===void 0?null:p,p!==null&&(i.callback=p),Ur(g,i),Gr(g,S,b),S}function Hp(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function Pv(o,i){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var l=o.retryLane;o.retryLane=l!==0&&l<i?l:i}}function Fp(o,i){Pv(o,i),(o=o.alternate)&&Pv(o,i)}function ox(){return null}function Vp(o,i,l){var p=l!=null&&l.hydrationOptions!=null&&l.hydrationOptions.mutableSources||null;if(l=new nx(o,i,l!=null&&l.hydrate===!0),i=On(3,null,null,i===2?7:i===1?3:0),l.current=i,i.stateNode=l,tp(i),o[vi]=l.current,ag(o.nodeType===8?o.parentNode:o),p)for(o=0;o<p.length;o++){i=p[o];var g=i._getVersion;g=g(i._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[i,g]:l.mutableSourceEagerHydrationData.push(i,g)}this._internalRoot=l}Vp.prototype.render=function(o){hc(o,this._internalRoot,null,null)};Vp.prototype.unmount=function(){var o=this._internalRoot,i=o.containerInfo;hc(null,o,null,function(){i[vi]=null})};function pl(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function ix(o,i){if(i||(i=o?o.nodeType===9?o.documentElement:o.firstChild:null,i=!(!i||i.nodeType!==1||!i.hasAttribute("data-reactroot"))),!i)for(var l;l=o.lastChild;)o.removeChild(l);return new Vp(o,0,i?{hydrate:!0}:void 0)}function mc(o,i,l,p,g){var b=l._reactRootContainer;if(b){var S=b._internalRoot;if(typeof g=="function"){var P=g;g=function(){var F=Hp(S);P.call(F)}}hc(i,S,o,g)}else{if(b=l._reactRootContainer=ix(l,p),S=b._internalRoot,typeof g=="function"){var z=g;g=function(){var F=Hp(S);z.call(F)}}kv(function(){hc(i,S,o,g)})}return Hp(S)}v0=function(o){if(o.tag===13){var i=vn();Gr(o,4,i),Fp(o,4)}};bd=function(o){if(o.tag===13){var i=vn();Gr(o,67108864,i),Fp(o,67108864)}};y0=function(o){if(o.tag===13){var i=vn(),l=Wr(o);Gr(o,l,i),Fp(o,l)}};w0=function(o,i){return i()};fd=function(o,i,l){switch(i){case"input":if(id(o,l),i=l.name,l.type==="radio"&&i!=null){for(l=o;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var p=l[i];if(p!==o&&p.form===o.form){var g=ws(p);if(!g)throw Error(ne(90));Qm(p),id(p,g)}}}break;case"textarea":n0(o,l);break;case"select":i=l.value,i!=null&&ii(o,!!l.multiple,i,!1)}};hd=Ev;d0=function(o,i,l,p,g){var b=Te;Te|=4;try{return To(98,o.bind(null,i,l,p,g))}finally{Te=b,Te===0&&(Ti(),Yn())}};md=function(){(Te&49)==0&&(Z3(),$r())};p0=function(o,i){var l=Te;Te|=2;try{return o(i)}finally{Te=l,Te===0&&(Ti(),Yn())}};function _v(o,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pl(i))throw Error(ne(200));return rx(o,i,null,l)}var ax={Events:[_a,hi,ws,c0,u0,$r,{current:!1}]},fl={findFiberByHostInstance:Mo,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"},lx={bundleType:fl.bundleType,version:fl.version,rendererPackageName:fl.rendererPackageName,rendererConfig:fl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ko.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=m0(o),o===null?null:o.stateNode},findFiberByHostInstance:fl.findFiberByHostInstance||ox,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&(hl=__REACT_DEVTOOLS_GLOBAL_HOOK__,!hl.isDisabled&&hl.supportsFiber))try{Yd=hl.inject(lx),_o=hl}catch(o){}var hl,sx=ax,cx=_v,ux=function(o){if(o==null)return null;if(o.nodeType===1)return o;var i=o._reactInternals;if(i===void 0)throw typeof o.render=="function"?Error(ne(188)):Error(ne(268,Object.keys(o)));return o=m0(i),o=o===null?null:o.stateNode,o},dx=function(o,i){var l=Te;if((l&48)!=0)return o(i);Te|=1;try{if(o)return To(99,o.bind(null,i))}finally{Te=l,Yn()}},px=function(o,i,l){if(!pl(i))throw Error(ne(200));return mc(null,o,i,!0,l)},fx=function(o,i,l){if(!pl(i))throw Error(ne(200));return mc(null,o,i,!1,l)},hx=function(o){if(!pl(o))throw Error(ne(40));return o._reactRootContainer?(kv(function(){mc(null,null,o,!1,function(){o._reactRootContainer=null,o[vi]=null})}),!0):!1},mx=Ev,gx=function(o,i){return _v(o,i,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)},vx=function(o,i,l,p){if(!pl(l))throw Error(ne(200));if(o==null||o._reactInternals===void 0)throw Error(ne(38));return mc(o,i,l,!1,p)},yx="17.0.1",Tv={__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:sx,createPortal:cx,findDOMNode:ux,flushSync:dx,hydrate:px,render:fx,unmountComponentAtNode:hx,unstable_batchedUpdates:mx,unstable_createPortal:gx,unstable_renderSubtreeIntoContainer:vx,version:yx},Iv=ar(function(o){function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(l){console.error(l)}}i(),o.exports=Tv}),wx=ar(function(o){function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(l){console.error(l)}}i(),o.exports=Tv}),bx=ar(function(o,i){(function(l,p){o.exports=p(ba,wx)})(self,function(l,p){return(()=>{var g,b,S,P,z={6086:(D,A,E)=>{function N(M,T,R,G,B,f,j){try{var oe=M[f](j),Q=oe.value}catch(ve){return void R(ve)}oe.done?T(Q):Promise.resolve(Q).then(G,B)}function x(M){return function(){var T=this,R=arguments;return new Promise(function(G,B){var f=M.apply(T,R);function j(Q){N(f,G,B,j,oe,"next",Q)}function oe(Q){N(f,G,B,j,oe,"throw",Q)}j(void 0)})}}E.d(A,{Z:()=>x})},8336:(D,A,E)=>{var N=E(487),x=E(4295);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[D.id,x,""]]);var M={insert:"head",singleton:!1};N(x,M),D.exports=x.locals||{}},2789:(D,A,E)=>{var N=E(487),x=E(3729);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[D.id,x,""]]);var M={insert:"head",singleton:!1};N(x,M),D.exports=x.locals||{}},778:(D,A,E)=>{var N=E(487),x=E(9609);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[D.id,x,""]]);var M={insert:"head",singleton:!1};N(x,M),D.exports=x.locals||{}},4220:(D,A,E)=>{var N=E(487),x=E(2345);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[D.id,x,""]]);var M={insert:"head",singleton:!1};N(x,M),D.exports=x.locals||{}},1292:(D,A,E)=>{var N=E(487),x=E(6578);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[D.id,x,""]]);var M={insert:"head",singleton:!1};N(x,M),D.exports=x.locals||{}},196:(D,A,E)=>{var N=E(487),x=E(9482);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[D.id,x,""]]);var M={insert:"head",singleton:!1};N(x,M),D.exports=x.locals||{}},2205:(D,A,E)=>{var N=E(487),x=E(7955);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[D.id,x,""]]);var M={insert:"head",singleton:!1};N(x,M),D.exports=x.locals||{}},1310:(D,A,E)=>{var N=E(487),x=E(3195);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[D.id,x,""]]);var M={insert:"head",singleton:!1};N(x,M),D.exports=x.locals||{}},3922:(D,A,E)=>{var N=E(487),x=E(2978);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[D.id,x,""]]);var M={insert:"head",singleton:!1};N(x,M),D.exports=x.locals||{}},7096:(D,A,E)=>{var N=E(487),x=E(1587);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[D.id,x,""]]);var M={insert:"head",singleton:!1};N(x,M),D.exports=x.locals||{}},7117:(D,A,E)=>{var N=E(487),x=E(9478);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[D.id,x,""]]);var M={insert:"head",singleton:!1};N(x,M),D.exports=x.locals||{}},1106:(D,A,E)=>{var N=E(487),x=E(7369);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[D.id,x,""]]);var M={insert:"head",singleton:!1};N(x,M),D.exports=x.locals||{}},3336:(D,A,E)=>{var N=E(487),x=E(1434);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[D.id,x,""]]);var M={insert:"head",singleton:!1};N(x,M),D.exports=x.locals||{}},694:(D,A,E)=>{var N=E(487),x=E(5644);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[D.id,x,""]]);var M={insert:"head",singleton:!1};N(x,M),D.exports=x.locals||{}},8328:(D,A,E)=>{var N=E(487),x=E(6843);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[D.id,x,""]]);var M={insert:"head",singleton:!1};N(x,M),D.exports=x.locals||{}},8051:(D,A,E)=>{var N=E(487),x=E(8461);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[D.id,x,""]]);var M={insert:"head",singleton:!1};N(x,M),D.exports=x.locals||{}},4301:(D,A,E)=>{var N=E(487),x=E(9935);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[D.id,x,""]]);var M={insert:"head",singleton:!1};N(x,M),D.exports=x.locals||{}},4623:(D,A,E)=>{var N=E(487),x=E(3874);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[D.id,x,""]]);var M={insert:"head",singleton:!1};N(x,M),D.exports=x.locals||{}},1528:(D,A,E)=>{var N=E(487),x=E(2681);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[D.id,x,""]]);var M={insert:"head",singleton:!1};N(x,M),D.exports=x.locals||{}},518:(D,A,E)=>{var N=E(487),x=E(6759);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[D.id,x,""]]);var M={insert:"head",singleton:!1};N(x,M),D.exports=x.locals||{}},9757:(D,A,E)=>{var N=E(487),x=E(9650);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[D.id,x,""]]);var M={insert:"head",singleton:!1};N(x,M),D.exports=x.locals||{}},5422:(D,A,E)=>{var N=E(487),x=E(2044);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[D.id,x,""]]);var M={insert:"head",singleton:!1};N(x,M),D.exports=x.locals||{}},6781:(D,A,E)=>{var N=E(487),x=E(6626);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[D.id,x,""]]);var M={insert:"head",singleton:!1};N(x,M),D.exports=x.locals||{}},580:(D,A,E)=>{var N=E(487),x=E(6359);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[D.id,x,""]]);var M={insert:"head",singleton:!1};N(x,M),D.exports=x.locals||{}},4285:(D,A,E)=>{var N=E(487),x=E(9915);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[D.id,x,""]]);var M={insert:"head",singleton:!1};N(x,M),D.exports=x.locals||{}},3313:(D,A,E)=>{var N=E(487),x=E(9310);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[D.id,x,""]]);var M={insert:"head",singleton:!1};N(x,M),D.exports=x.locals||{}},8635:(D,A,E)=>{var N=E(487),x=E(6464);typeof(x=x.__esModule?x.default:x)=="string"&&(x=[[D.id,x,""]]);var M={insert:"head",singleton:!1};N(x,M),D.exports=x.locals||{}},487:(D,A,E)=>{var N,x=function(){return N===void 0&&(N=Boolean(window&&document&&document.all&&!window.atob)),N},M=function(){var ye={};return function(he){if(ye[he]===void 0){var de=document.querySelector(he);if(window.HTMLIFrameElement&&de instanceof window.HTMLIFrameElement)try{de=de.contentDocument.head}catch(Be){de=null}ye[he]=de}return ye[he]}}(),T=[];function R(ye){for(var he=-1,de=0;de<T.length;de++)if(T[de].identifier===ye){he=de;break}return he}function G(ye,he){for(var de={},Be=[],Me=0;Me<ye.length;Me++){var Ke=ye[Me],V=he.base?Ke[0]+he.base:Ke[0],q=de[V]||0,ke="".concat(V," ").concat(q);de[V]=q+1;var _=R(ke),$={css:Ke[1],media:Ke[2],sourceMap:Ke[3]};_!==-1?(T[_].references++,T[_].updater($)):T.push({identifier:ke,updater:St($,he),references:1}),Be.push(ke)}return Be}function B(ye){var he=document.createElement("style"),de=ye.attributes||{};if(de.nonce===void 0){var Be=E.nc;Be&&(de.nonce=Be)}if(Object.keys(de).forEach(function(Ke){he.setAttribute(Ke,de[Ke])}),typeof ye.insert=="function")ye.insert(he);else{var Me=M(ye.insert||"head");if(!Me)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");Me.appendChild(he)}return he}var f,j=(f=[],function(ye,he){return f[ye]=he,f.filter(Boolean).join(`
`)});function oe(ye,he,de,Be){var Me=de?"":Be.media?"@media ".concat(Be.media," {").concat(Be.css,"}"):Be.css;if(ye.styleSheet)ye.styleSheet.cssText=j(he,Me);else{var Ke=document.createTextNode(Me),V=ye.childNodes;V[he]&&ye.removeChild(V[he]),V.length?ye.insertBefore(Ke,V[he]):ye.appendChild(Ke)}}function Q(ye,he,de){var Be=de.css,Me=de.media,Ke=de.sourceMap;if(Me?ye.setAttribute("media",Me):ye.removeAttribute("media"),Ke&&typeof btoa!="undefined"&&(Be+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(Ke))))," */")),ye.styleSheet)ye.styleSheet.cssText=Be;else{for(;ye.firstChild;)ye.removeChild(ye.firstChild);ye.appendChild(document.createTextNode(Be))}}var ve=null,et=0;function St(ye,he){var de,Be,Me;if(he.singleton){var Ke=et++;de=ve||(ve=B(he)),Be=oe.bind(null,de,Ke,!1),Me=oe.bind(null,de,Ke,!0)}else de=B(he),Be=Q.bind(null,de,he),Me=function(){(function(V){if(V.parentNode===null)return!1;V.parentNode.removeChild(V)})(de)};return Be(ye),function(V){if(V){if(V.css===ye.css&&V.media===ye.media&&V.sourceMap===ye.sourceMap)return;Be(ye=V)}else Me()}}D.exports=function(ye,he){(he=he||{}).singleton||typeof he.singleton=="boolean"||(he.singleton=x());var de=G(ye=ye||[],he);return function(Be){if(Be=Be||[],Object.prototype.toString.call(Be)==="[object Array]"){for(var Me=0;Me<de.length;Me++){var Ke=R(de[Me]);T[Ke].references--}for(var V=G(Be,he),q=0;q<de.length;q++){var ke=R(de[q]);T[ke].references===0&&(T[ke].updater(),T.splice(ke,1))}de=V}}}},2829:D=>{D.exports=JSON.parse(`{"labels":{"paste":"Paste","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","fontSize":"Font size","fontFamily":"Font family","onlySelected":"Only selected","withBackground":"With background","exportEmbedScene":"Embed scene into exported file","exportEmbedScene_details":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size.","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File name","colorPicker":"Color picker","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library\u2026","libraries":"Browse libraries","loadingScene":"Loading scene\u2026","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","flipHorizontal":"Flip horizontal","flipVertical":"Flip vertical","viewMode":"View mode","toggleExportColorScheme":"Toggle export color scheme","share":"Share"},"buttons":{"clearReset":"Reset the canvas","export":"Export","exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyToClipboard":"Copy to clipboard","copyPngToClipboard":"Copy PNG to clipboard","scale":"Scale","save":"Save","saveAs":"Save as","load":"Load","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","exitZenMode":"Exit zen mode"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn't create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn't create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn't load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn't copy to clipboard. Try using Chrome browser.","decryptFailed":"Couldn't decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can't read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorLoadingLibrary":"There was an error loading the third party library.","errorAddingToLibrary":"Couldn't add item to the library","errorRemovingFromLibrary":"Couldn't remove item from the library","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"Importing images isn't supported at the moment.\\n\\nDid you want to import a scene? This image does not seem to contain any scene data. Have you enabled this during export?","cannotRestoreFromImage":"Scene couldn't be restored from this image file","invalidSceneUrl":"Couldn't import scene from the supplied URL. It's either malformed, or doesn't contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?"},"toolBar":{"selection":"Selection","draw":"Free draw","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","text":"Text","library":"Library","lock":"Keep selected tool active after drawing"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you're finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Double-click or press Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point, CtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to move or remove, or hold Alt and click to add new points"},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain_pre":"Encountered an error. Try ","headingMain_button":"reloading the page.","clearCanvasMessage":"If reloading doesn't work, try ","clearCanvasMessage_button":"clearing the canvas.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry_pre":"The error with identifier ","trackedToSentry_post":" was tracked on our system.","openIssueMessage_pre":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our ","openIssueMessage_button":"bug tracker.","openIssueMessage_post":" Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don't worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you'll be able to continue working with the scene, locally. Note that this won't affect other people, and they'll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"helpDialog":{"blog":"Read our blog","click":"click","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","drag":"drag","editor":"Editor","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","shapes":"Shapes","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text)","textNewLine":"Add new line (text)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection"},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw's servers will never see them.","link":"Blog post on end-to-end encryption in Excalidraw"},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection"}}`)},2051:D=>{D.exports=JSON.parse('{"ar-SA":85,"bg-BG":93,"ca-ES":100,"de-DE":100,"el-GR":98,"en":100,"es-ES":99,"fa-IR":88,"fi-FI":99,"fr-FR":100,"he-IL":89,"hi-IN":91,"hu-HU":81,"id-ID":100,"it-IT":100,"ja-JP":97,"kab-KAB":99,"ko-KR":92,"my-MM":76,"nb-NO":100,"nl-NL":100,"nn-NO":83,"oc-FR":100,"pa-IN":94,"pl-PL":95,"pt-BR":100,"pt-PT":100,"ro-RO":100,"ru-RU":98,"sk-SK":100,"sv-SE":100,"tr-TR":100,"uk-UA":99,"zh-CN":99,"zh-TW":99}')},788:(D,A,E)=>{var N={"./ar-SA.json":[7294,558],"./bg-BG.json":[3860,384],"./ca-ES.json":[750,351],"./de-DE.json":[7439,43],"./el-GR.json":[9422,526],"./en.json":[2829],"./es-ES.json":[2863,317],"./fa-IR.json":[3853,710],"./fi-FI.json":[5472,472],"./fr-FR.json":[3280,364],"./he-IL.json":[3970,262],"./hi-IN.json":[5599,933],"./hu-HU.json":[1516,661],"./id-ID.json":[7992,491],"./it-IT.json":[5963,465],"./ja-JP.json":[1323,137],"./kab-KAB.json":[9230,164],"./ko-KR.json":[7552,60],"./my-MM.json":[1778,242],"./nb-NO.json":[8751,246],"./nl-NL.json":[4675,196],"./nn-NO.json":[7558,920],"./oc-FR.json":[9945,565],"./pa-IN.json":[863,280],"./percentages.json":[2051],"./pl-PL.json":[122,852],"./pt-BR.json":[7443,381],"./pt-PT.json":[2560,149],"./ro-RO.json":[5654,752],"./ru-RU.json":[5609,869],"./sk-SK.json":[8684,401],"./sv-SE.json":[1570,698],"./tr-TR.json":[8146,213],"./uk-UA.json":[9746,583],"./zh-CN.json":[9044,304],"./zh-TW.json":[2939,62]};function x(M){if(!E.o(N,M))return Promise.resolve().then(()=>{var G=new Error("Cannot find module '"+M+"'");throw G.code="MODULE_NOT_FOUND",G});var T=N[M],R=T[0];return Promise.all(T.slice(1).map(E.e)).then(()=>E.t(R,3))}x.keys=()=>Object.keys(N),x.id=788,D.exports=x},9713:D=>{D.exports=function(A,E,N){return E in A?Object.defineProperty(A,E,{value:N,enumerable:!0,configurable:!0,writable:!0}):A[E]=N,A}},7154:D=>{function A(){return D.exports=A=Object.assign||function(E){for(var N=1;N<arguments.length;N++){var x=arguments[N];for(var M in x)Object.prototype.hasOwnProperty.call(x,M)&&(E[M]=x[M])}return E},A.apply(this,arguments)}D.exports=A},6479:(D,A,E)=>{var N=E(7316);D.exports=function(x,M){if(x==null)return{};var T,R,G=N(x,M);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(x);for(R=0;R<B.length;R++)T=B[R],M.indexOf(T)>=0||Object.prototype.propertyIsEnumerable.call(x,T)&&(G[T]=x[T])}return G}},7316:D=>{D.exports=function(A,E){if(A==null)return{};var N,x,M={},T=Object.keys(A);for(x=0;x<T.length;x++)N=T[x],E.indexOf(N)>=0||(M[N]=A[N]);return M}},4295:(D,A,E)=>{E.r(A),E.d(A,{default:()=>oe});var N=E(3645),x=E.n(N),M=E(1667),T=E.n(M),R=E(7464),G=E(9638),B=x()(function(Q){return Q[1]}),f=T()(R.Z),j=T()(G.Z);B.push([D.id,'@font-face{font-family:"Virgil";src:url('+f+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+j+");font-display:swap}",""]);let oe=B},3729:(D,A,E)=>{E.r(A),E.d(A,{default:()=>M});var N=E(3645),x=E.n(N)()(function(T){return T[1]});x.push([D.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Avatar{width:2.5rem;height:2.5rem;border-radius:1.25rem;display:flex;justify-content:center;align-items:center;color:#fff;cursor:pointer;font-size:.8rem;font-weight:500}",""]);let M=x},9609:(D,A,E)=>{E.r(A),E.d(A,{default:()=>M});var N=E(3645),x=E.n(N)()(function(T){return T[1]});x.push([D.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#40c057;color:#fff;font-size:.7em;font-family:var(--ui-font)}:root[dir=ltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir=rtl] .excalidraw .CollabButton-collaborators{left:-5px}",""]);let M=x},2345:(D,A,E)=>{E.r(A),E.d(A,{default:()=>M});var N=E(3645),x=E.n(N)()(function(T){return T[1]});x.push([D.id,':export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir=ltr] .excalidraw .color-picker{left:-5.5px}:root[dir=rtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color);position:absolute;top:-10px}:root[dir=ltr] .excalidraw .color-picker-triangle{left:12px}:root[dir=rtl] .excalidraw .color-picker-triangle{right:12px}.excalidraw .color-picker-triangle-shadow{border-color:transparent transparent rgba(0,0,0,.1);top:-11px}.excalidraw .color-picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(5, auto);grid-gap:.5rem;border-radius:4px}.excalidraw .color-picker-content:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;filter:var(--theme-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==") left center}.excalidraw .color-picker-hash{background:var(--input-border-color);height:1.875rem;width:1.875rem;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir=ltr] .excalidraw .color-picker-hash{border-radius:4px 0 0 4px}:root[dir=rtl] .excalidraw .color-picker-hash{border-radius:0 4px 4px 0}.excalidraw .color-input-container:focus-within .color-picker-hash{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-input-container:focus-within .color-picker-hash::before,.excalidraw .color-input-container:focus-within .color-picker-hash::after{content:"";width:1px;height:100%;position:absolute;top:0}.excalidraw .color-input-container:focus-within .color-picker-hash::before{background:var(--input-border-color)}:root[dir=ltr] .excalidraw .color-input-container:focus-within .color-picker-hash::before{right:-1px}:root[dir=rtl] .excalidraw .color-input-container:focus-within .color-picker-hash::before{left:-1px}.excalidraw .color-input-container:focus-within .color-picker-hash::after{background:var(--input-bg-color)}:root[dir=ltr] .excalidraw .color-input-container:focus-within .color-picker-hash::after{right:-2px}:root[dir=rtl] .excalidraw .color-input-container:focus-within .color-picker-hash::after{left:-2px}.excalidraw .color-input-container{display:flex}.excalidraw .color-picker-input{width:12ch;margin:0;font-size:1rem;background-color:var(--input-bg-color);color:var(--text-primary-color);border:0;outline:none;height:1.75em;box-shadow:var(--input-border-color) 0 0 0 1px inset;float:left;padding:1px;padding-inline-start:.5em;-webkit-appearance:none;appearance:none}:root[dir=ltr] .excalidraw .color-picker-input{border-radius:0 4px 4px 0}:root[dir=rtl] .excalidraw .color-picker-input{border-radius:4px 0 0 4px}.excalidraw .color-picker-label-swatch{height:1.875rem;width:1.875rem;margin-inline-end:.25rem;border:1px solid #dee2e6;position:relative;overflow:hidden;background-color:transparent !important;filter:var(--theme-filter)}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir=ltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .color-picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .color-picker-keybinding{display:none}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.theme--dark .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#000}',""]);let M=x},6578:(D,A,E)=>{E.r(A),E.d(A,{default:()=>M});var N=E(3645),x=E.n(N)()(function(T){return T[1]});x.push([D.id,':export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;-webkit-user-select:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-option{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:transparent;border:none;white-space:nowrap;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-option.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:"\u2713"}.excalidraw .context-menu-option.dangerous .context-menu-option__label{color:#f03e3e}.excalidraw .context-menu-option .context-menu-option__label{justify-self:start;margin-inline-end:20px}.excalidraw .context-menu-option .context-menu-option__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-option:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-option:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-option:hover.dangerous .context-menu-option__label{color:var(--popup-bg-color)}.excalidraw .context-menu-option:focus{z-index:1}.excalidraw--mobile.excalidraw .context-menu-option{display:block}.excalidraw--mobile.excalidraw .context-menu-option .context-menu-option__label{margin-inline-end:0}.excalidraw--mobile.excalidraw .context-menu-option .context-menu-option__shortcut{display:none}.excalidraw .context-menu-option-separator{border:none;border-top:1px solid #adb5bd}',""]);let M=x},9482:(D,A,E)=>{E.r(A),E.d(A,{default:()=>M});var N=E(3645),x=E.n(N)()(function(T){return T[1]});x.push([D.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Dialog{-webkit-user-select:text;user-select:text;cursor:auto}.excalidraw .Dialog__title{display:grid;align-items:center;margin-top:0;grid-template-columns:1fr calc(var(--space-factor) * 7);grid-gap:var(--metric);padding:calc(var(--space-factor) * 2);text-align:center;font-variant:small-caps;font-size:1.2em}.excalidraw .Dialog__titleContent{flex:1}.excalidraw .Dialog .Modal__close{color:var(--icon-fill-color);margin:0}.excalidraw .Dialog__content{padding:0 16px 16px}.excalidraw--mobile.excalidraw .Dialog{--metric: calc(var(--space-factor) * 4);--inset-left: max(var(--metric), var(--sal));--inset-right: max(var(--metric), var(--sar))}.excalidraw--mobile.excalidraw .Dialog__title{grid-template-columns:calc(var(--space-factor) * 7) 1fr calc( var(--space-factor) * 7 );position:-webkit-sticky;position:sticky;top:0;padding:calc(var(--space-factor) * 2);background:var(--island-bg-color);font-size:1.25em;box-sizing:border-box;border-bottom:1px solid var(--button-gray-2);z-index:1}.excalidraw--mobile.excalidraw .Dialog__titleContent{text-align:center}.excalidraw--mobile.excalidraw .Dialog .Island{width:100vw;height:100%;box-sizing:border-box;overflow-y:auto;padding-left:max(calc(var(--padding) * var(--space-factor)), var(--sal));padding-right:max(calc(var(--padding) * var(--space-factor)), var(--sar));padding-bottom:max(calc(var(--padding) * var(--space-factor)), var(--sab))}.excalidraw--mobile.excalidraw .Dialog .Modal__close{order:-1}",""]);let M=x},7955:(D,A,E)=>{E.r(A),E.d(A,{default:()=>M});var N=E(3645),x=E.n(N)()(function(T){return T[1]});x.push([D.id,':export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor) * 3)}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding) * 2);max-height:25rem}.excalidraw.theme--dark .ExportDialog__preview canvas{filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor) * 2);align-items:top;justify-content:space-between}.excalidraw .ExportDialog__name{grid-column:project-name;margin:auto;display:flex;align-items:center}.excalidraw .ExportDialog__name .TextInput{height:calc(1rem - 3px);width:200px;overflow:hidden;text-align:center;margin-left:8px;text-overflow:ellipsis}.excalidraw .ExportDialog__name .TextInput--readonly{background:none;border:none;width:auto;max-width:200px;padding-left:2px}.excalidraw .ExportDialog__name .TextInput--readonly:hover{background:none}.excalidraw--mobile.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw--mobile.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw--mobile.excalidraw .ExportDialog__actions>*{margin-bottom:calc(var(--space-factor) * 3)}.excalidraw--mobile.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw--mobile.excalidraw .ExportDialog__dialog,.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}',""]);let M=x},3195:(D,A,E)=>{E.r(A),E.d(A,{default:()=>M});var N=E(3645),x=E.n(N)()(function(T){return T[1]});x.push([D.id,".excalidraw .FixedSideContainer{--margin: 0.25rem;position:absolute;pointer-events:none}.excalidraw .FixedSideContainer>*{pointer-events:all}.excalidraw .FixedSideContainer_side_top{left:var(--margin);top:var(--margin);right:var(--margin);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]);let M=x},2978:(D,A,E)=>{E.r(A),E.d(A,{default:()=>M});var N=E(3645),x=E.n(N)()(function(T){return T[1]});x.push([D.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HelpDialog h3{border-bottom:1px solid var(--button-gray-2);padding-bottom:4px}.excalidraw .HelpDialog--island{border:1px solid var(--button-gray-2);margin-bottom:16px}.excalidraw .HelpDialog--island-title{margin:0;padding:4px;background-color:var(--button-gray-1);text-align:center}.excalidraw .HelpDialog--shortcut{border-top:1px solid var(--button-gray-2)}.excalidraw .HelpDialog--key{word-break:keep-all;border:1px solid var(--button-gray-2);padding:2px 8px;margin:auto 4px;background-color:var(--button-gray-1);border-radius:2px;font-size:.8em;min-height:26px;box-sizing:border-box;display:flex;align-items:center;font-family:inherit}.excalidraw .HelpDialog--header{display:flex;flex-direction:row;justify-content:space-evenly;margin-bottom:32px;padding-bottom:16px}.excalidraw .HelpDialog--btn{border:1px solid var(--link-color);padding:8px 32px;border-radius:4px}.excalidraw .HelpDialog--btn:hover{text-decoration:none}",""]);let M=x},1587:(D,A,E)=>{E.r(A),E.d(A,{default:()=>M});var N=E(3645),x=E.n(N)()(function(T){return T[1]});x.push([D.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:6px;text-align:center;color:#868e96;font-size:.8rem}.excalidraw--mobile.excalidraw .HintViewer{position:static;padding-right:2em}.excalidraw .HintViewer>span{padding:.2rem .4rem;background-color:var(--overlay-bg-color);border-radius:4px}",""]);let M=x},9478:(D,A,E)=>{E.r(A),E.d(A,{default:()=>M});var N=E(3645),x=E.n(N)()(function(T){return T[1]});x.push([D.id,':export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus,.excalidraw .picker button:focus{outline:transparent;background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus svg,.excalidraw .picker button:focus svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;opacity:.6;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir=ltr] .excalidraw .picker-triangle{left:12px}:root[dir=rtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-auto-flow:column;grid-gap:.5rem;border-radius:4px}:root[dir=rtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir=ltr] .excalidraw .picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .picker-keybinding{display:none}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label=transparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.theme--dark .picker-swatch[aria-label=transparent] .picker-keybinding{color:#000}',""]);let M=x},7369:(D,A,E)=>{E.r(A),E.d(A,{default:()=>M});var N=E(3645),x=E.n(N)()(function(T){return T[1]});x.push([D.id,".excalidraw .Island{--padding: 0;background-color:var(--island-bg-color);-webkit-backdrop-filter:saturate(100%) blur(10px);backdrop-filter:saturate(100%) blur(10px);box-shadow:var(--shadow-island);border-radius:4px;padding:calc(var(--padding) * var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]);let M=x},1434:(D,A,E)=>{E.r(A),E.d(A,{default:()=>M});var N=E(3645),x=E.n(N)()(function(T){return T[1]});x.push([D.id,".excalidraw .layer-ui__library{margin:auto;display:flex;align-items:center;justify-content:center}.excalidraw .layer-ui__library .layer-ui__library-header{display:flex;align-items:center;width:100%;margin:2px 0}.excalidraw .layer-ui__library .layer-ui__library-header button{margin:0 2px}.excalidraw .layer-ui__library .layer-ui__library-header a{margin-inline-start:auto;padding-inline-end:18px;white-space:nowrap}.excalidraw .layer-ui__library-message{padding:10px 20px;max-width:200px}.excalidraw .layer-ui__library-items{max-height:50vh;overflow:auto}.excalidraw .layer-ui__wrapper{z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper .encrypted-icon{position:relative;margin-inline-start:15px;display:flex;justify-content:center;align-items:center;border-radius:var(--space-factor);color:#2b8a3e}.excalidraw .layer-ui__wrapper .encrypted-icon svg{width:1.2rem;height:1.2rem}.excalidraw .layer-ui__wrapper__github-corner{top:0;position:absolute;width:40px}:root[dir=ltr] .excalidraw .layer-ui__wrapper__github-corner{right:0}:root[dir=rtl] .excalidraw .layer-ui__wrapper__github-corner{left:0}.excalidraw .layer-ui__wrapper__footer{position:absolute;z-index:100;bottom:0;width:190px}:root[dir=ltr] .excalidraw .layer-ui__wrapper__footer{right:0}:root[dir=rtl] .excalidraw .layer-ui__wrapper__footer{left:0}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:transform .5s ease-in-out}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{transform:translate(-999px, 0)}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{transform:translate(-999px, 0)}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left{transform:translate(-92px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left{transform:translate(92px, 0)}.excalidraw .layer-ui__wrapper .disable-zen-mode{height:30px;position:absolute;bottom:10px;font-size:10px;padding:10px;font-weight:500;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s}[dir=ltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:15px}[dir=rtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:15px}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s}",""]);let M=x},5644:(D,A,E)=>{E.r(A),E.d(A,{default:()=>M});var N=E(3645),x=E.n(N)()(function(T){return T[1]});x.push([D.id,".excalidraw .library-unit{align-items:center;border:1px solid var(--button-gray-2);display:flex;justify-content:center;position:relative;width:63px;height:63px}.excalidraw .library-unit__dragger{display:flex;height:100%;width:100%}.excalidraw .library-unit__dragger>svg{filter:var(--theme-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__removeFromLibrary,.excalidraw .library-unit__removeFromLibrary:hover,.excalidraw .library-unit__removeFromLibrary:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:0;position:absolute;right:5px;top:5px}.excalidraw .library-unit__removeFromLibrary>svg{height:16px;width:16px}.excalidraw .library-unit__pulse{transform:scale(1);animation:library-unit__pulse-animation 1s ease-in infinite}.excalidraw .library-unit__adder{position:absolute;left:50%;top:50%;width:20px;height:20px;margin-left:-10px;margin-top:-10px;pointer-events:none}.excalidraw .library-unit__active{cursor:pointer}@keyframes library-unit__pulse-animation{0%{transform:scale(0.95)}50%{transform:scale(1)}100%{transform:scale(0.95)}}",""]);let M=x},6843:(D,A,E)=>{E.r(A),E.d(A,{default:()=>M});var N=E(3645),x=E.n(N)()(function(T){return T[1]});x.push([D.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw.excalidraw-modal-container{position:absolute;z-index:10}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor) * 10)}.excalidraw .Modal__background{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(0,0,0,.3);-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;transform:translateY(10px);animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);-webkit-backdrop-filter:none;backdrop-filter:none;border:1px solid var(--dialog-border-color);box-shadow:0 2px 10px rgba(0,0,0,.25);border-radius:6px;box-sizing:border-box}.excalidraw .Modal__content:focus{outline:none}.excalidraw--mobile.excalidraw .Modal__content{max-width:100%;border:0;border-radius:0}@keyframes Modal__content_fade-in{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.excalidraw .Modal__close{width:calc(var(--space-factor) * 7);height:calc(var(--space-factor) * 7);display:flex;align-items:center;justify-content:center}.excalidraw .Modal__close svg{height:calc(var(--space-factor) * 5)}.excalidraw--mobile.excalidraw .Modal{padding:0}.excalidraw--mobile.excalidraw .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0}",""]);let M=x},8461:(D,A,E)=>{E.r(A),E.d(A,{default:()=>M});var N=E(3645),x=E.n(N)()(function(T){return T[1]});x.push([D.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw--mobile.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}.excalidraw--mobile.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:transparent}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",""]);let M=x},9935:(D,A,E)=>{E.r(A),E.d(A,{default:()=>M});var N=E(3645),x=E.n(N)()(function(T){return T[1]});x.push([D.id,".excalidraw .popover{position:absolute;z-index:10}",""]);let M=x},3874:(D,A,E)=>{E.r(A),E.d(A,{default:()=>M});var N=E(3645),x=E.n(N)()(function(T){return T[1]});x.push([D.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor) * var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:-webkit-min-content;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:-webkit-min-content;grid-auto-columns:min-content}",""]);let M=x},2681:(D,A,E)=>{E.r(A),E.d(A,{default:()=>M});var N=E(3645),x=E.n(N)()(function(T){return T[1]});x.push([D.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:999}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir=rtl] .excalidraw .Stats{left:12px;right:initial}:root[dir=rtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir=rtl] .excalidraw .Stats .close{float:left}",""]);let M=x},6759:(D,A,E)=>{E.r(A),E.d(A,{default:()=>M});var N=E(3645),x=E.n(N)()(function(T){return T[1]});x.push([D.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .TextInput{color:var(--text-primary-color);display:inline-block;border:1.5px solid var(--button-gray-1);line-height:1;padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw .TextInput:not(:focus):hover{background-color:var(--input-hover-bg-color)}.excalidraw .TextInput:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}",""]);let M=x},9650:(D,A,E)=>{E.r(A),E.d(A,{default:()=>M});var N=E(3645),x=E.n(N)()(function(T){return T[1]});x.push([D.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Toast{animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast__message{color:var(--popup-text-color);white-space:pre-wrap}@keyframes fade-in{from{opacity:0}to{opacity:1}}",""]);let M=x},2044:(D,A,E)=>{E.r(A),E.d(A,{default:()=>M});var N=E(3645),x=E.n(N)()(function(T){return T[1]});x.push([D.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ToolIcon{display:inline-flex;align-items:center;position:relative;font-family:Cascadia;cursor:pointer;background-color:var(--button-gray-1);-webkit-tap-highlight-color:transparent;border-radius:var(--space-factor)}.excalidraw .ToolIcon__icon{width:2.5rem;height:2.5rem;color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--space-factor)}.excalidraw .ToolIcon__icon svg{position:relative;height:1em;fill:var(--icon-fill-color);color:var(--icon-fill-color)}.excalidraw .ToolIcon__icon+.ToolIcon__label{margin-inline-start:0}.excalidraw .ToolIcon__label{color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon_size_s .ToolIcon__icon{width:1.4rem;height:1.4rem;font-size:.8em}.excalidraw .excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit}.excalidraw .excalidraw .ToolIcon_type_button:hover,.excalidraw .Modal .ToolIcon_type_button:hover,.excalidraw .ToolIcon_type_button:hover{background-color:var(--button-gray-1)}.excalidraw .excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button:focus,.excalidraw .Modal .ToolIcon_type_button:focus,.excalidraw .ToolIcon_type_button:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{visibility:hidden}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon_type_radio:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_radio:focus+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:focus+.ToolIcon__icon{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_radio:active+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:active+.ToolIcon__icon{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_floating{background-color:transparent}.excalidraw .ToolIcon_type_floating:hover{background-color:transparent}.excalidraw .ToolIcon_type_floating:active{background-color:transparent}.excalidraw .ToolIcon_type_floating:focus{box-shadow:none}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{width:2rem;height:2em}.excalidraw .ToolIcon.ToolIcon__lock.ToolIcon_type_floating{margin-left:.1rem}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.5em;color:var(--keybinding-color);font-family:var(--ui-font);-webkit-user-select:none;user-select:none}@media(max-width: 425px){.excalidraw .Shape .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .Shape .ToolIcon__icon svg{height:.8em}}@media(max-width: 760px){.excalidraw .ToolIcon.ToolIcon__lock{display:inline-block;position:absolute;top:60px;right:-8px;margin-left:0;border-radius:20px 0 0 20px;z-index:1;background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon__lock:hover{background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon__lock:active{background-color:var(--button-gray-2)}.excalidraw .ToolIcon.ToolIcon__lock .ToolIcon__icon{border-radius:inherit}.excalidraw .ToolIcon.ToolIcon__lock svg{position:static}}.excalidraw .TooltipIcon{width:.9em;height:.9em;margin-left:5px;margin-top:1px}.excalidraw--mobile.excalidraw .TooltipIcon{display:none}:root[dir=ltr] .excalidraw .unlocked-icon{left:2px}:root[dir=rtl] .excalidraw .unlocked-icon{right:2px}",""]);let M=x},6626:(D,A,E)=>{E.r(A),E.d(A,{default:()=>M});var N=E(3645),x=E.n(N)()(function(T){return T[1]});x.push([D.id,':export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Tooltip{position:relative}.excalidraw .Tooltip__label{--arrow-size: 4px;visibility:hidden;background:#000;color:#fff;text-align:center;border-radius:6px;padding:8px;position:absolute;z-index:10;font-size:13px;line-height:1.5;font-weight:500;left:calc(50% + var(--arrow-size) / 2 - 1px);transform:translateX(-50%);word-wrap:break-word}.excalidraw .Tooltip__label::after{content:"";border:var(--arrow-size) solid transparent;position:absolute;left:calc(50% - var(--arrow-size))}.excalidraw .Tooltip__label--above{bottom:calc(100% + var(--arrow-size) + 3px)}.excalidraw .Tooltip__label--above::after{border-top-color:#000;top:100%}.excalidraw .Tooltip__label--below{top:calc(100% + var(--arrow-size) + 3px)}.excalidraw .Tooltip__label--below::after{border-bottom-color:#000;bottom:100%}.excalidraw .Tooltip:hover .Tooltip__label{visibility:visible}.excalidraw .Tooltip__label:hover{visibility:visible}',""]);let M=x},6359:(D,A,E)=>{E.r(A),E.d(A,{default:()=>M});var N=E(3645),x=E.n(N)()(function(T){return T[1]});x.push([D.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) 40px var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end}.excalidraw .UserList>*{pointer-events:all;margin:0 0 var(--space-factor) var(--space-factor)}.excalidraw .UserList_mobile{padding:0;justify-content:normal}.excalidraw .UserList_mobile>*{margin:0 var(--space-factor) var(--space-factor) 0}",""]);let M=x},9915:(D,A,E)=>{E.r(A),E.d(A,{default:()=>M});var N=E(3645),x=E.n(N)()(function(T){return T[1]});x.push([D.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage span{background-color:var(--button-gray-1);border-radius:5px;padding:.8em 1.2em;color:var(--popup-text-color);font-size:1.3em}",""]);let M=x},9310:(D,A,E)=>{E.r(A),E.d(A,{default:()=>M});var N=E(3645),x=E.n(N)()(function(T){return T[1]});x.push([D.id,`:export{themeFilter:invert(93%) hue-rotate(180deg)}:export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw{--theme-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: #868e96;--dropdown-icon: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>');--focus-highlight-color: #a5d8ff;--icon-fill-color: #000000;--icon-green-fill-color: #2b8a3e;--input-bg-color: #ffffff;--input-border-color: #dee2e6;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.9);--keybinding-color: #adb5bd;--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.15);--space-factor: 0.25rem;--text-primary-color: #343a40}.excalidraw.theme--dark{background:#000}.excalidraw.theme--dark.theme--dark-background-none{background:none}.excalidraw.theme--dark{--theme-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: #212529;--dropdown-icon: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path fill="%23ced4da" d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>');--focus-highlight-color: #228be6;--icon-fill-color: #ced4da;--icon-green-fill-color: #69db7c;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #1e1e1e;--keybinding-color: #868e96;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.3);--text-primary-color: #ced4da}:root{--zIndex-canvas: 1;--zIndex-wysiwyg: 2;--zIndex-layerUI: 3}.excalidraw{position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0;height:100%;width:100%;-webkit-user-select:none;user-select:none}.excalidraw:focus{outline:none}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw #canvas{position:absolute}.excalidraw.theme--dark canvas{filter:var(--theme-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin-top:.333rem;margin-bottom:.333rem;font-size:.75rem;color:var(--text-primary-color);font-weight:bold;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn h3:first-child,.excalidraw .panelColumn legend:first-child,.excalidraw .panelColumn .control-label:first-child{margin-top:0}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap}.excalidraw .panelColumn .buttonList label{margin-right:.25rem;font-size:.75rem;display:inline-block}.excalidraw .panelColumn .buttonList input[type=radio],.excalidraw .panelColumn .buttonList input[type=button]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn .buttonList .ToolIcon{margin:0;margin-inline-end:8px}.excalidraw .panelColumn .buttonList .ToolIcon:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .panelColumn .buttonList .ToolIcon:hover{background-color:var(--button-gray-2)}.excalidraw .panelColumn .buttonList .ToolIcon:active{background-color:var(--button-gray-3)}.excalidraw .panelColumn .buttonList .ToolIcon:disabled{cursor:not-allowed}.excalidraw .panelColumn .buttonList .ToolIcon__icon{width:28px;height:28px}.excalidraw .panelColumn fieldset{margin:0;margin-top:.333rem;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .buttonList label:focus-within,.excalidraw input:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button,.excalidraw .buttonList label{-webkit-user-select:none;user-select:none;background-color:var(--button-gray-1);border:0;border-radius:4px;margin:.125rem 0;padding:.25rem;white-space:nowrap;cursor:pointer}.excalidraw button:focus,.excalidraw .buttonList label:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button:hover,.excalidraw .buttonList label:hover{background-color:var(--button-gray-2)}.excalidraw button:active,.excalidraw .buttonList label:active{background-color:var(--button-gray-3)}.excalidraw button:disabled,.excalidraw .buttonList label:disabled{cursor:not-allowed}.excalidraw .active,.excalidraw .buttonList label.active{background-color:var(--button-gray-2)}.excalidraw .active:hover,.excalidraw .buttonList label.active:hover{background-color:var(--button-gray-2)}.excalidraw .active:active,.excalidraw .buttonList label.active:active{background-color:var(--button-gray-3)}.excalidraw .buttonList.buttonListIcon label{display:inline-flex;justify-content:center;align-items:center}.excalidraw .buttonList.buttonListIcon label svg{width:36px;height:14px;padding:2px;opacity:.6}.excalidraw .buttonList.buttonListIcon label.active svg{opacity:1}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar>.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:initial}.excalidraw .App-bottom-bar>.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%;box-sizing:border-box}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .App-menu_top{grid-template-columns:1fr auto 1fr;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_top>*{pointer-events:all}.excalidraw .App-menu_top>*:first-child{justify-self:flex-start}.excalidraw .App-menu_top>*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:0;grid-template-columns:1fr auto 1fr;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important;z-index:100}:root[dir=ltr] .excalidraw .App-menu_bottom{left:.25rem}:root[dir=rtl] .excalidraw .App-menu_bottom{right:.25rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_bottom>*{pointer-events:all}.excalidraw .App-menu_bottom>*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom>*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto}.excalidraw .dropdown-select{height:1.5rem;padding:0;padding-inline-start:.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;outline:none;-webkit-appearance:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir=rtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .dropdown-select.dropdown-select--floating{position:absolute;margin:.5em}.excalidraw .dropdown-select__language.dropdown-select--floating{position:absolute;bottom:10px}:root[dir=ltr] .excalidraw .dropdown-select__language.dropdown-select--floating{right:44px}:root[dir=rtl] .excalidraw .dropdown-select__language.dropdown-select--floating{left:44px}.excalidraw .zIndexButton{margin:0;margin-inline-end:8px;padding:5px;display:inline-flex;align-items:center;justify-content:center}.excalidraw .zIndexButton svg{width:18px;height:18px}.excalidraw .scroll-back-to-content{color:var(--popup-text-color);position:absolute;left:50%;bottom:30px;transform:translateX(-50%);padding:10px 20px}.excalidraw .help-icon{position:absolute;cursor:pointer;fill:#868e96;bottom:14px;width:1.5rem;padding:0;margin:0;background:none;color:var(--icon-fill-color)}.excalidraw .help-icon:hover{background:none}:root[dir=ltr] .excalidraw .help-icon{right:14px}:root[dir=rtl] .excalidraw .help-icon{left:14px}.excalidraw--mobile.excalidraw aside{display:none}.excalidraw--mobile.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}:root[dir=rtl] .excalidraw .rtl-mirror{transform:scaleX(-1)}.excalidraw .github-corner{position:absolute;top:0;z-index:2}:root[dir=ltr] .excalidraw .github-corner{right:0}:root[dir=rtl] .excalidraw .github-corner{left:0}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;-webkit-user-select:text;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}`,""]);let M=x},6464:(D,A,E)=>{E.r(A),E.d(A,{default:()=>M});var N=E(3645),x=E.n(N)()(function(T){return T[1]});x.push([D.id,"",""]),x.locals={themeFilter:"invert(93%) hue-rotate(180deg)"};let M=x},3645:D=>{D.exports=function(A){var E=[];return E.toString=function(){return this.map(function(N){var x=A(N);return N[2]?"@media ".concat(N[2]," {").concat(x,"}"):x}).join("")},E.i=function(N,x,M){typeof N=="string"&&(N=[[null,N,""]]);var T={};if(M)for(var R=0;R<this.length;R++){var G=this[R][0];G!=null&&(T[G]=!0)}for(var B=0;B<N.length;B++){var f=[].concat(N[B]);M&&T[f[0]]||(x&&(f[2]?f[2]="".concat(x," and ").concat(f[2]):f[2]=x),E.push(f))}},E}},1667:D=>{D.exports=function(A,E){return E||(E={}),typeof(A=A&&A.__esModule?A.default:A)!="string"?A:(/^['"].*['"]$/.test(A)&&(A=A.slice(1,-1)),E.hash&&(A+=E.hash),/["'() \t\n]/.test(A)||E.needQuotes?'"'.concat(A.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):A)}},9638:(D,A,E)=>{E.d(A,{Z:()=>N});let N=E.p+"excalidraw-assets/Cascadia.woff2"},7464:(D,A,E)=>{E.d(A,{Z:()=>N});let N=E.p+"excalidraw-assets/Virgil.woff2"},8288:(D,A,E)=>{E.d(A,{iC:()=>T,f:()=>R,qx:()=>G,Iw:()=>B,$e:()=>f,wZ:()=>j,ay:()=>oe,oc:()=>Q,Oh:()=>ve,Ks:()=>N,Vi:()=>et,$C:()=>St,ut:()=>ye,_D:()=>he,n5:()=>de,rk:()=>Be,Hg:()=>Me,hs:()=>Ke,k:()=>V,LO:()=>q,r8:()=>ke,pb:()=>_,Gj:()=>$,nM:()=>le,Lg:()=>me,HM:()=>Pe,V4:()=>re,EH:()=>rt,ZF:()=>_n,UO:()=>Ut,ah:()=>yn,cW:()=>ml,kV:()=>zo,sS:()=>Li,Yx:()=>Ai});var N,x=E(8635),M=E.n(x),T="Excalidraw",R=10,G=8,B=5,f=1,j=30,oe=Math.PI/12,Q={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",POINTER:"pointer",MOVE:"move",AUTO:""},ve={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1};(function(Ye){Ye.COPY="copy",Ye.PASTE="paste",Ye.CUT="cut",Ye.KEYDOWN="keydown",Ye.KEYUP="keyup",Ye.MOUSE_MOVE="mousemove",Ye.RESIZE="resize",Ye.UNLOAD="unload",Ye.BLUR="blur",Ye.DRAG_OVER="dragover",Ye.DROP="drop",Ye.GESTURE_END="gestureend",Ye.BEFORE_UNLOAD="beforeunload",Ye.GESTURE_START="gesturestart",Ye.GESTURE_CHANGE="gesturechange",Ye.POINTER_MOVE="pointermove",Ye.POINTER_UP="pointerup",Ye.STATE_CHANGE="statechange",Ye.WHEEL="wheel",Ye.TOUCH_START="touchstart",Ye.TOUCH_END="touchend",Ye.HASHCHANGE="hashchange",Ye.VISIBILITY_CHANGE="visibilitychange",Ye.SCROLL="scroll"})(N||(N={}));var et={TEST:"test",DEVELOPMENT:"development"},St={SHAPE_ACTIONS_MENU:"App-menu__left"},ye={1:"Virgil",2:"Helvetica",3:"Cascadia"},he="Segoe UI Emoji",de=20,Be=1,Me="left",Ke="top",V=20,q={excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json"},ke={excalidraw:"excalidraw",excalidrawClipboard:"excalidraw/clipboard",excalidrawLibrary:"excalidrawlib"},_=window.location.origin,$=300,le=500,me=5e3,Pe=100,re=.1,rt={VIEW:"viewMode",ZEN:"zenMode",GRID:"gridMode"},_n=M().themeFilter,Ut={addLibrary:"addLibrary"},yn={addLibrary:"addLibrary"},ml={canvasActions:{changeViewBackgroundColor:!0,clearCanvas:!0,export:!0,loadScene:!0,saveAsScene:!0,saveScene:!0,theme:!0}},zo=730,Li=1e3,Ai=500},4261:(D,A,E)=>{E.r(A),E.d(A,{default:()=>i4,defaultLang:()=>ye,exportToBlob:()=>Jb,exportToCanvas:()=>zm,exportToSvg:()=>e4,getElementMap:()=>Zo,getSceneVersion:()=>b2,isInvisiblySmallElement:()=>co,languages:()=>he,restore:()=>da,restoreAppState:()=>p1,restoreElements:()=>$l});var N=E(7154),x=E.n(N),M=E(6479),T=E.n(M),R=E(9713),G=E.n(R),B=E(4698),f=E.n(B),j=E(8288);let oe=JSON.parse('{"u2":"@excalidraw/excalidraw","i8":"0.7.0"}');j.Vi.TEST!=="production"&&(E.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat(oe.u2,"@").concat(oe.i8,"/dist/"));var Q=E(6086),ve=E(2829),et=E(2051),St=function(e,t){var n,r,a,s,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function d(h){return function(m){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&u[0]?r.return:u[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,u[1])).done)return a;switch(r=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return c.label++,{value:u[1],done:!1};case 5:c.label++,r=u[1],u=[0];continue;case 7:u=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!((a=a.length>0&&a[a.length-1])||u[0]!==6&&u[0]!==2)){c=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){c.label=u[1];break}if(u[0]===6&&c.label<a[1]){c.label=a[1],a=u;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(u);break}a[2]&&c.ops.pop(),c.trys.pop();continue}u=t.call(e,c)}catch(v){u=[6,v],r=0}finally{n=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([h,m])}}},ye={code:"en",label:"English"},he=[{code:"ar-SA",label:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",rtl:!0},{code:"bg-BG",label:"\u0411\u044A\u043B\u0433\u0430\u0440\u0441\u043A\u0438"},{code:"ca-ES",label:"Catal\xE0"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:"\u0395\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC"},{code:"es-ES",label:"Espa\xF1ol"},{code:"fa-IR",label:"\u0641\u0627\u0631\u0633\u06CC",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Fran\xE7ais"},{code:"he-IL",label:"\u05E2\u05D1\u05E8\u05D9\u05EA",rtl:!0},{code:"hi-IN",label:"\u0939\u093F\u0928\u094D\u0926\u0940"},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:"\u65E5\u672C\u8A9E"},{code:"kab-KAB",label:"Taqbaylit"},{code:"ko-KR",label:"\uD55C\uAD6D\uC5B4"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokm\xE5l"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:"\u0A2A\u0A70\u0A1C\u0A3E\u0A2C\u0A40"},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Portugu\xEAs Brasileiro"},{code:"pt-PT",label:"Portugu\xEAs"},{code:"ro-RO",label:"Rom\xE2n\u0103"},{code:"ru-RU",label:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439"},{code:"sk-SK",label:"Sloven\u010Dina"},{code:"sv-SE",label:"Svenska"},{code:"tr-TR",label:"T\xFCrk\xE7e"},{code:"uk-UA",label:"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430"},{code:"zh-CN",label:"\u7B80\u4F53\u4E2D\u6587"},{code:"zh-TW",label:"\u7E41\u9AD4\u4E2D\u6587"}].concat([ye]).sort(function(e,t){return e.label>t.label?1:-1}).filter(function(e){return et[e.code]>=85}),de="__test__";j.Vi.DEVELOPMENT==="production"&&he.unshift({code:de,label:"test language"},{code:"".concat(de,".rtl"),label:"\u202Atest language (rtl)\u202C",rtl:!0});var Be,Me=ye,Ke={},V=function(){var e=(0,Q.Z)(function(t){return St(this,function(n){switch(n.label){case 0:return Me=t,document.documentElement.dir=Me.rtl?"rtl":"ltr",document.documentElement.lang=Me.code,t.code.startsWith(de)?(Ke={},[3,3]):[3,1];case 1:return[4,E(788)("./".concat(Me.code,".json"))];case 2:Ke=n.sent(),n.label=3;case 3:return[2]}})});return function(t){return e.apply(this,arguments)}}(),q=function(){return Me},ke=function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(e[r]===void 0)return;e=e[r]}if(typeof e=="string")return e},_=function(e,t){if(Me.code.startsWith(de)){var n=t?"".concat(e,"(").concat(JSON.stringify(t).slice(1,-1),")"):e;return"\u202A[[".concat(n,"]]\u202C")}var r=e.split("."),a=ke(Ke,r)||ke(ve,r);if(a===void 0)throw new Error("Can't find translation for ".concat(e));if(t)for(var s in t)a=a.replace("{{".concat(s,"}}"),t[s]);return a},$=function(){return f().createElement("div",{className:"LoadingMessage"},f().createElement("span",null,_("labels.loadingScene")))},le=(Be=function(e,t){return(Be=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])})(e,t)},function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Be(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}),me=function(e,t){var n,r,a,s,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function d(h){return function(m){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&u[0]?r.return:u[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,u[1])).done)return a;switch(r=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return c.label++,{value:u[1],done:!1};case 5:c.label++,r=u[1],u=[0];continue;case 7:u=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!((a=a.length>0&&a[a.length-1])||u[0]!==6&&u[0]!==2)){c=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){c.label=u[1];break}if(u[0]===6&&c.label<a[1]){c.label=a[1],a=u;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(u);break}a[2]&&c.ops.pop(),c.trys.pop();continue}u=t.call(e,c)}catch(v){u=[6,v],r=0}finally{n=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([h,m])}}},Pe=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var a,s=this;return a=s=e.apply(this,n)||this,s.state={isLoading:!0},a}return le(t,e),t.prototype.componentDidMount=function(){var n=this;return(0,Q.Z)(function(){var r;return me(this,function(a){switch(a.label){case 0:return r=he.find(function(s){return s.code===n.props.langCode})||ye,[4,V(r)];case 1:return a.sent(),n.setState({isLoading:!1}),[2]}})})()},t.prototype.render=function(){return this.state.isLoading?f().createElement($,null):this.props.children},t}(f().Component);function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rt(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function _n(e,t,n){let r=rt(t,n);if(r===0)return rt(e,t);let a=((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/r;return a=Math.max(0,Math.min(1,a)),rt(e,Ut(t,n,a))}function Ut(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function yn(e,t,n,r){let a=r||[];if(function(d,h){let m=d[h+0],u=d[h+1],v=d[h+2],w=d[h+3],y=3*u[0]-2*m[0]-w[0];y*=y;let k=3*u[1]-2*m[1]-w[1];k*=k;let O=3*v[0]-2*w[0]-m[0];O*=O;let I=3*v[1]-2*w[1]-m[1];return I*=I,y<O&&(y=O),k<I&&(k=I),y+k}(e,t)<n){let d=e[t+0];a.length?(s=a[a.length-1],c=d,Math.sqrt(rt(s,c))>1&&a.push(d)):a.push(d),a.push(e[t+3])}else{let d=.5,h=e[t+0],m=e[t+1],u=e[t+2],v=e[t+3],w=Ut(h,m,d),y=Ut(m,u,d),k=Ut(u,v,d),O=Ut(w,y,d),I=Ut(y,k,d),C=Ut(O,I,d);yn([h,w,O,C],0,n,a),yn([C,I,k,v],0,n,a)}var s,c;return a}function ml(e,t){return zo(e,0,e.length,t)}function zo(e,t,n,r,a){let s=a||[],c=e[t],d=e[n-1],h=0,m=1;for(let u=t+1;u<n-1;++u){let v=_n(e[u],c,d);v>h&&(h=v,m=u)}return Math.sqrt(h)>r?(zo(e,t,m+1,r,s),zo(e,m,n,r,s)):(s.length||s.push(c),s.push(d)),s}function Li(e,t=.15,n){let r=[],a=(e.length-1)/3;for(let s=0;s<a;s++)yn(e,3*s,t,r);return n&&n>0?zo(r,0,r.length,n):r}function Ai(e,t,n){if(e&&e.length){let[r,a]=t,s=Math.PI/180*n,c=Math.cos(s),d=Math.sin(s);e.forEach(h=>{let[m,u]=h;h[0]=(m-r)*c-(u-a)*d+r,h[1]=(m-r)*d+(u-a)*c+a})}}function Ye(e){let t=e[0],n=e[1];return Math.sqrt(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))}function zv(e,t,n,r){let a=t[1]-e[1],s=e[0]-t[0],c=a*e[0]+s*e[1],d=r[1]-n[1],h=n[0]-r[0],m=d*n[0]+h*n[1],u=a*h-d*s;return u?[(h*c-s*m)/u,(a*m-d*c)/u]:null}function gc(e,t,n){let r=e.length;if(r<3)return!1;let a=[Number.MAX_SAFE_INTEGER,n],s=[t,n],c=0;for(let d=0;d<r;d++){let h=e[d],m=e[(d+1)%r];if(Wp(h,m,s,a)){if(ji(h,s,m)===0)return Di(h,s,m);c++}}return c%2==1}function Di(e,t,n){return t[0]<=Math.max(e[0],n[0])&&t[0]>=Math.min(e[0],n[0])&&t[1]<=Math.max(e[1],n[1])&&t[1]>=Math.min(e[1],n[1])}function ji(e,t,n){let r=(t[1]-e[1])*(n[0]-t[0])-(t[0]-e[0])*(n[1]-t[1]);return r===0?0:r>0?1:2}function Wp(e,t,n,r){let a=ji(e,t,n),s=ji(e,t,r),c=ji(n,r,e),d=ji(n,r,t);return a!==s&&c!==d||!(a!==0||!Di(e,n,t))||!(s!==0||!Di(e,r,t))||!(c!==0||!Di(n,e,r))||!(d!==0||!Di(n,t,r))}function gl(e,t){let n=[0,0],r=Math.round(t.hachureAngle+90);r&&Ai(e,n,r);let a=function(s,c){let d=[...s];d[0].join(",")!==d[d.length-1].join(",")&&d.push([d[0][0],d[0][1]]);let h=[];if(d&&d.length>2){let m=c.hachureGap;m<0&&(m=4*c.strokeWidth),m=Math.max(m,.1);let u=[];for(let y=0;y<d.length-1;y++){let k=d[y],O=d[y+1];if(k[1]!==O[1]){let I=Math.min(k[1],O[1]);u.push({ymin:I,ymax:Math.max(k[1],O[1]),x:I===k[1]?k[0]:O[0],islope:(O[0]-k[0])/(O[1]-k[1])})}}if(u.sort((y,k)=>y.ymin<k.ymin?-1:y.ymin>k.ymin?1:y.x<k.x?-1:y.x>k.x?1:y.ymax===k.ymax?0:(y.ymax-k.ymax)/Math.abs(y.ymax-k.ymax)),!u.length)return h;let v=[],w=u[0].ymin;for(;v.length||u.length;){if(u.length){let y=-1;for(let k=0;k<u.length&&!(u[k].ymin>w);k++)y=k;u.splice(0,y+1).forEach(k=>{v.push({s:w,edge:k})})}if(v=v.filter(y=>!(y.edge.ymax<=w)),v.sort((y,k)=>y.edge.x===k.edge.x?0:(y.edge.x-k.edge.x)/Math.abs(y.edge.x-k.edge.x)),v.length>1)for(let y=0;y<v.length;y+=2){let k=y+1;if(k>=v.length)break;let O=v[y].edge,I=v[k].edge;h.push([[Math.round(O.x),w],[Math.round(I.x),w]])}w+=m,v.forEach(y=>{y.edge.x=y.edge.x+m*y.edge.islope})}}return h}(e,t);return r&&(Ai(e,n,-r),function(s,c,d){let h=[];s.forEach(m=>h.push(...m)),Ai(h,c,d)}(a,n,-r)),a}class vc{constructor(t){this.helper=t}fillPolygon(t,n){return this._fillPolygon(t,n)}_fillPolygon(t,n,r=!1){let a=gl(t,n);if(r){let s=this.connectingLines(t,a);a=a.concat(s)}return{type:"fillSketch",ops:this.renderLines(a,n)}}renderLines(t,n){let r=[];for(let a of t)r.push(...this.helper.doubleLineOps(a[0][0],a[0][1],a[1][0],a[1][1],n));return r}connectingLines(t,n){let r=[];if(n.length>1)for(let a=1;a<n.length;a++){let s=n[a-1];if(Ye(s)<3)continue;let c=[n[a][0],s[1]];if(Ye(c)>3){let d=this.splitOnIntersections(t,c);r.push(...d)}}return r}midPointInPolygon(t,n){return gc(t,(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2)}splitOnIntersections(t,n){let r=Math.max(5,.1*Ye(n)),a=[];for(let s=0;s<t.length;s++){let c=t[s],d=t[(s+1)%t.length];if(Wp(c,d,...n)){let h=zv(c,d,n[0],n[1]);if(h){let m=Ye([h,n[0]]),u=Ye([h,n[1]]);m>r&&u>r&&a.push({point:h,distance:m})}}}if(a.length>1){let s=a.sort((h,m)=>h.distance-m.distance).map(h=>h.point);if(gc(t,...n[0])||s.shift(),gc(t,...n[1])||s.pop(),s.length<=1)return this.midPointInPolygon(t,n)?[n]:[];let c=[n[0],...s,n[1]],d=[];for(let h=0;h<c.length-1;h+=2){let m=[c[h],c[h+1]];this.midPointInPolygon(t,m)&&d.push(m)}return d}return this.midPointInPolygon(t,n)?[n]:[]}}class Nv extends vc{fillPolygon(t,n){return this._fillPolygon(t,n,!0)}}class Rv extends vc{fillPolygon(t,n){let r=this._fillPolygon(t,n),a=Object.assign({},n,{hachureAngle:n.hachureAngle+90}),s=this._fillPolygon(t,a);return r.ops=r.ops.concat(s.ops),r}}class Bv{constructor(t){this.helper=t}fillPolygon(t,n){let r=gl(t,n=Object.assign({},n,{curveStepCount:4,hachureAngle:0,roughness:1}));return this.dotsOnLines(r,n)}dotsOnLines(t,n){let r=[],a=n.hachureGap;a<0&&(a=4*n.strokeWidth),a=Math.max(a,.1);let s=n.fillWeight;s<0&&(s=n.strokeWidth/2);let c=a/4;for(let d of t){let h=Ye(d),m=h/a,u=Math.ceil(m)-1,v=h-u*a,w=(d[0][0]+d[1][0])/2-a/4,y=Math.min(d[0][1],d[1][1]);for(let k=0;k<u;k++){let O=y+v+k*a,I=this.helper.randOffsetWithRange(w-c,w+c,n),C=this.helper.randOffsetWithRange(O-c,O+c,n),L=this.helper.ellipse(I,C,s,s,n);r.push(...L.ops)}}return{type:"fillSketch",ops:r}}}class Hv{constructor(t){this.helper=t}fillPolygon(t,n){let r=gl(t,n);return{type:"fillSketch",ops:this.dashedLine(r,n)}}dashedLine(t,n){let r=n.dashOffset<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashOffset,a=n.dashGap<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashGap,s=[];return t.forEach(c=>{let d=Ye(c),h=Math.floor(d/(r+a)),m=(d+a-h*(r+a))/2,u=c[0],v=c[1];u[0]>v[0]&&(u=c[1],v=c[0]);let w=Math.atan((v[1]-u[1])/(v[0]-u[0]));for(let y=0;y<h;y++){let k=y*(r+a),O=k+r,I=[u[0]+k*Math.cos(w)+m*Math.cos(w),u[1]+k*Math.sin(w)+m*Math.sin(w)],C=[u[0]+O*Math.cos(w)+m*Math.cos(w),u[1]+O*Math.sin(w)+m*Math.sin(w)];s.push(...this.helper.doubleLineOps(I[0],I[1],C[0],C[1],n))}}),s}}class Fv{constructor(t){this.helper=t}fillPolygon(t,n){let r=n.hachureGap<0?4*n.strokeWidth:n.hachureGap,a=n.zigzagOffset<0?r:n.zigzagOffset,s=gl(t,n=Object.assign({},n,{hachureGap:r+a}));return{type:"fillSketch",ops:this.zigzagLines(s,a,n)}}zigzagLines(t,n,r){let a=[];return t.forEach(s=>{let c=Ye(s),d=Math.round(c/(2*n)),h=s[0],m=s[1];h[0]>m[0]&&(h=s[1],m=s[0]);let u=Math.atan((m[1]-h[1])/(m[0]-h[0]));for(let v=0;v<d;v++){let w=2*v*n,y=2*(v+1)*n,k=Math.sqrt(2*Math.pow(n,2)),O=[h[0]+w*Math.cos(u),h[1]+w*Math.sin(u)],I=[h[0]+y*Math.cos(u),h[1]+y*Math.sin(u)],C=[O[0]+k*Math.cos(u+Math.PI/4),O[1]+k*Math.sin(u+Math.PI/4)];a.push(...this.helper.doubleLineOps(O[0],O[1],C[0],C[1],r),...this.helper.doubleLineOps(C[0],C[1],I[0],I[1],r))}}),a}}let qt={};class Gp{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}let vl={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function yc(e,t){return e.type===t}function wc(e){let t=[],n=function(c){let d=new Array;for(;c!=="";)if(c.match(/^([ \t\r\n,]+)/))c=c.substr(RegExp.$1.length);else if(c.match(/^([aAcChHlLmMqQsStTvVzZ])/))d[d.length]={type:0,text:RegExp.$1},c=c.substr(RegExp.$1.length);else{if(!c.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];d[d.length]={type:1,text:`${parseFloat(RegExp.$1)}`},c=c.substr(RegExp.$1.length)}return d[d.length]={type:2,text:""},d}(e),r="BOD",a=0,s=n[a];for(;!yc(s,2);){let c=0,d=[];if(r==="BOD"){if(s.text!=="M"&&s.text!=="m")return wc("M0,0"+e);a++,c=vl[s.text],r=s.text}else yc(s,1)?c=vl[r]:(a++,c=vl[s.text],r=s.text);if(!(a+c<n.length))throw new Error("Path data ended short");for(let h=a;h<a+c;h++){let m=n[h];if(!yc(m,1))throw new Error("Param not a number: "+r+","+m.text);d[d.length]=+m.text}if(typeof vl[r]!="number")throw new Error("Bad segment: "+r);{let h={key:r,data:d};t.push(h),a+=c,s=n[a],r==="M"&&(r="L"),r==="m"&&(r="l")}}return t}function Kp(e){let t=0,n=0,r=0,a=0,s=[];for(let{key:c,data:d}of e)switch(c){case"M":s.push({key:"M",data:[...d]}),[t,n]=d,[r,a]=d;break;case"m":t+=d[0],n+=d[1],s.push({key:"M",data:[t,n]}),r=t,a=n;break;case"L":s.push({key:"L",data:[...d]}),[t,n]=d;break;case"l":t+=d[0],n+=d[1],s.push({key:"L",data:[t,n]});break;case"C":s.push({key:"C",data:[...d]}),t=d[4],n=d[5];break;case"c":{let h=d.map((m,u)=>u%2?m+n:m+t);s.push({key:"C",data:h}),t=h[4],n=h[5];break}case"Q":s.push({key:"Q",data:[...d]}),t=d[2],n=d[3];break;case"q":{let h=d.map((m,u)=>u%2?m+n:m+t);s.push({key:"Q",data:h}),t=h[2],n=h[3];break}case"A":s.push({key:"A",data:[...d]}),t=d[5],n=d[6];break;case"a":t+=d[5],n+=d[6],s.push({key:"A",data:[d[0],d[1],d[2],d[3],d[4],t,n]});break;case"H":s.push({key:"H",data:[...d]}),t=d[0];break;case"h":t+=d[0],s.push({key:"H",data:[t]});break;case"V":s.push({key:"V",data:[...d]}),n=d[0];break;case"v":n+=d[0],s.push({key:"V",data:[n]});break;case"S":s.push({key:"S",data:[...d]}),t=d[2],n=d[3];break;case"s":{let h=d.map((m,u)=>u%2?m+n:m+t);s.push({key:"S",data:h}),t=h[2],n=h[3];break}case"T":s.push({key:"T",data:[...d]}),t=d[0],n=d[1];break;case"t":t+=d[0],n+=d[1],s.push({key:"T",data:[t,n]});break;case"Z":case"z":s.push({key:"Z",data:[]}),t=r,n=a}return s}function Yp(e){let t=[],n="",r=0,a=0,s=0,c=0,d=0,h=0;for(let{key:m,data:u}of e){switch(m){case"M":t.push({key:"M",data:[...u]}),[r,a]=u,[s,c]=u;break;case"C":t.push({key:"C",data:[...u]}),r=u[4],a=u[5],d=u[2],h=u[3];break;case"L":t.push({key:"L",data:[...u]}),[r,a]=u;break;case"H":r=u[0],t.push({key:"L",data:[r,a]});break;case"V":a=u[0],t.push({key:"L",data:[r,a]});break;case"S":{let v=0,w=0;n==="C"||n==="S"?(v=r+(r-d),w=a+(a-h)):(v=r,w=a),t.push({key:"C",data:[v,w,...u]}),d=u[0],h=u[1],r=u[2],a=u[3];break}case"T":{let[v,w]=u,y=0,k=0;n==="Q"||n==="T"?(y=r+(r-d),k=a+(a-h)):(y=r,k=a);let O=r+2*(y-r)/3,I=a+2*(k-a)/3,C=v+2*(y-v)/3,L=w+2*(k-w)/3;t.push({key:"C",data:[O,I,C,L,v,w]}),d=y,h=k,r=v,a=w;break}case"Q":{let[v,w,y,k]=u,O=r+2*(v-r)/3,I=a+2*(w-a)/3,C=y+2*(v-y)/3,L=k+2*(w-k)/3;t.push({key:"C",data:[O,I,C,L,y,k]}),d=v,h=w,r=y,a=k;break}case"A":{let v=Math.abs(u[0]),w=Math.abs(u[1]),y=u[2],k=u[3],O=u[4],I=u[5],C=u[6];v===0||w===0?(t.push({key:"C",data:[r,a,I,C,I,C]}),r=I,a=C):(r!==I||a!==C)&&(Zp(r,a,I,C,v,w,y,k,O).forEach(function(L){t.push({key:"C",data:L})}),r=I,a=C);break}case"Z":t.push({key:"Z",data:[]}),r=s,a=c}n=m}return t}function zi(e,t,n){return[e*Math.cos(n)-t*Math.sin(n),e*Math.sin(n)+t*Math.cos(n)]}function Zp(e,t,n,r,a,s,c,d,h,m){let u=(v=c,Math.PI*v/180);var v;let w=[],y=0,k=0,O=0,I=0;if(m)[y,k,O,I]=m;else{[e,t]=zi(e,t,-u),[n,r]=zi(n,r,-u);let xe=(e-n)/2,we=(t-r)/2,ge=xe*xe/(a*a)+we*we/(s*s);ge>1&&(ge=Math.sqrt(ge),a*=ge,s*=ge);let Se=a*a,te=s*s,be=Se*te-Se*we*we-te*xe*xe,je=Se*we*we+te*xe*xe,Ue=(d===h?-1:1)*Math.sqrt(Math.abs(be/je));O=Ue*a*we/s+(e+n)/2,I=Ue*-s*xe/a+(t+r)/2,y=Math.asin(parseFloat(((t-I)/s).toFixed(9))),k=Math.asin(parseFloat(((r-I)/s).toFixed(9))),e<O&&(y=Math.PI-y),n<O&&(k=Math.PI-k),y<0&&(y=2*Math.PI+y),k<0&&(k=2*Math.PI+k),h&&y>k&&(y-=2*Math.PI),!h&&k>y&&(k-=2*Math.PI)}let C=k-y;if(Math.abs(C)>120*Math.PI/180){let xe=k,we=n,ge=r;k=h&&k>y?y+120*Math.PI/180*1:y+120*Math.PI/180*-1,w=Zp(n=O+a*Math.cos(k),r=I+s*Math.sin(k),we,ge,a,s,c,0,h,[k,xe,O,I])}C=k-y;let L=Math.cos(y),U=Math.sin(y),H=Math.cos(k),K=Math.sin(k),Y=Math.tan(C/4),W=4/3*a*Y,Z=4/3*s*Y,J=[e,t],ee=[e+W*U,t-Z*L],ae=[n+W*K,r-Z*H],De=[n,r];if(ee[0]=2*J[0]-ee[0],ee[1]=2*J[1]-ee[1],m)return[ee,ae,De].concat(w);{w=[ee,ae,De].concat(w);let xe=[];for(let we=0;we<w.length;we+=3){let ge=zi(w[we][0],w[we][1],u),Se=zi(w[we+1][0],w[we+1][1],u),te=zi(w[we+2][0],w[we+2][1],u);xe.push([ge[0],ge[1],Se[0],Se[1],te[0],te[1]])}return xe}}let Vv={randOffset:function(e,t){return Ee(e,t)},randOffsetWithRange:function(e,t,n){return wl(e,t,n)},ellipse:function(e,t,n,r,a){let s=$p(n,r,a);return bc(e,t,a,s).opset},doubleLineOps:function(e,t,n,r,a){return qn(e,t,n,r,a,!0)}};function Xp(e,t,n,r,a){return{type:"path",ops:qn(e,t,n,r,a)}}function yl(e,t,n){let r=(e||[]).length;if(r>2){let a=[];for(let s=0;s<r-1;s++)a.push(...qn(e[s][0],e[s][1],e[s+1][0],e[s+1][1],n));return t&&a.push(...qn(e[r-1][0],e[r-1][1],e[0][0],e[0][1],n)),{type:"path",ops:a}}return r===2?Xp(e[0][0],e[0][1],e[1][0],e[1][1],n):{type:"path",ops:[]}}function Uv(e,t,n,r,a){return function(s,c){return yl(s,!0,c)}([[e,t],[e+n,t],[e+n,t+r],[e,t+r]],a)}function Wv(e,t){let n=ef(e,1*(1+.2*t.roughness),t);if(!t.disableMultiStroke){let r=ef(e,1.5*(1+.22*t.roughness),function(a){let s=Object.assign({},a);return s.randomizer=void 0,a.seed&&(s.seed=a.seed+1),s}(t));n=n.concat(r)}return{type:"path",ops:n}}function $p(e,t,n){let r=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),a=Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*r),s=2*Math.PI/a,c=Math.abs(e/2),d=Math.abs(t/2),h=1-n.curveFitting;return c+=Ee(c*h,n),d+=Ee(d*h,n),{increment:s,rx:c,ry:d}}function bc(e,t,n,r){let[a,s]=tf(r.increment,e,t,r.rx,r.ry,1,r.increment*wl(.1,wl(.4,1,n),n),n),c=bl(a,null,n);if(!n.disableMultiStroke){let[d]=tf(r.increment,e,t,r.rx,r.ry,1.5,0,n),h=bl(d,null,n);c=c.concat(h)}return{estimatedPoints:s,opset:{type:"path",ops:c}}}function Qp(e,t,n,r,a,s,c,d,h){let m=e,u=t,v=Math.abs(n/2),w=Math.abs(r/2);v+=Ee(.01*v,h),w+=Ee(.01*w,h);let y=a,k=s;for(;y<0;)y+=2*Math.PI,k+=2*Math.PI;k-y>2*Math.PI&&(y=0,k=2*Math.PI);let O=2*Math.PI/h.curveStepCount,I=Math.min(O/2,(k-y)/2),C=nf(I,m,u,v,w,y,k,1,h);if(!h.disableMultiStroke){let L=nf(I,m,u,v,w,y,k,1.5,h);C.push(...L)}return c&&(d?C.push(...qn(m,u,m+v*Math.cos(y),u+w*Math.sin(y),h),...qn(m,u,m+v*Math.cos(k),u+w*Math.sin(k),h)):C.push({op:"lineTo",data:[m,u]},{op:"lineTo",data:[m+v*Math.cos(y),u+w*Math.sin(y)]})),{type:"path",ops:C}}function Ni(e,t){let n=[];if(e.length){let r=t.maxRandomnessOffset||0,a=e.length;if(a>2){n.push({op:"move",data:[e[0][0]+Ee(r,t),e[0][1]+Ee(r,t)]});for(let s=1;s<a;s++)n.push({op:"lineTo",data:[e[s][0]+Ee(r,t),e[s][1]+Ee(r,t)]})}}return{type:"fillPath",ops:n}}function Qr(e,t){return function(n,r){let a=n.fillStyle||"hachure";if(!qt[a])switch(a){case"zigzag":qt[a]||(qt[a]=new Nv(r));break;case"cross-hatch":qt[a]||(qt[a]=new Rv(r));break;case"dots":qt[a]||(qt[a]=new Bv(r));break;case"dashed":qt[a]||(qt[a]=new Hv(r));break;case"zigzag-line":qt[a]||(qt[a]=new Fv(r));break;case"hachure":default:a="hachure",qt[a]||(qt[a]=new vc(r))}return qt[a]}(t,Vv).fillPolygon(e,t)}function qp(e){return e.randomizer||(e.randomizer=new Gp(e.seed||0)),e.randomizer.next()}function wl(e,t,n,r=1){return n.roughness*r*(qp(n)*(t-e)+e)}function Ee(e,t,n=1){return wl(-e,e,t,n)}function qn(e,t,n,r,a,s=!1){let c=s?a.disableMultiStrokeFill:a.disableMultiStroke,d=Jp(e,t,n,r,a,!0,!1);if(c)return d;let h=Jp(e,t,n,r,a,!0,!0);return d.concat(h)}function Jp(e,t,n,r,a,s,c){let d=Math.pow(e-n,2)+Math.pow(t-r,2),h=Math.sqrt(d),m=1;m=h<200?1:h>500?.4:-.0016668*h+1.233334;let u=a.maxRandomnessOffset||0;u*u*100>d&&(u=h/10);let v=u/2,w=.2+.2*qp(a),y=a.bowing*a.maxRandomnessOffset*(r-t)/200,k=a.bowing*a.maxRandomnessOffset*(e-n)/200;y=Ee(y,a,m),k=Ee(k,a,m);let O=[],I=()=>Ee(v,a,m),C=()=>Ee(u,a,m);return s&&(c?O.push({op:"move",data:[e+I(),t+I()]}):O.push({op:"move",data:[e+Ee(u,a,m),t+Ee(u,a,m)]})),c?O.push({op:"bcurveTo",data:[y+e+(n-e)*w+I(),k+t+(r-t)*w+I(),y+e+2*(n-e)*w+I(),k+t+2*(r-t)*w+I(),n+I(),r+I()]}):O.push({op:"bcurveTo",data:[y+e+(n-e)*w+C(),k+t+(r-t)*w+C(),y+e+2*(n-e)*w+C(),k+t+2*(r-t)*w+C(),n+C(),r+C()]}),O}function ef(e,t,n){let r=[];r.push([e[0][0]+Ee(t,n),e[0][1]+Ee(t,n)]),r.push([e[0][0]+Ee(t,n),e[0][1]+Ee(t,n)]);for(let a=1;a<e.length;a++)r.push([e[a][0]+Ee(t,n),e[a][1]+Ee(t,n)]),a===e.length-1&&r.push([e[a][0]+Ee(t,n),e[a][1]+Ee(t,n)]);return bl(r,null,n)}function bl(e,t,n){let r=e.length,a=[];if(r>3){let s=[],c=1-n.curveTightness;a.push({op:"move",data:[e[1][0],e[1][1]]});for(let d=1;d+2<r;d++){let h=e[d];s[0]=[h[0],h[1]],s[1]=[h[0]+(c*e[d+1][0]-c*e[d-1][0])/6,h[1]+(c*e[d+1][1]-c*e[d-1][1])/6],s[2]=[e[d+1][0]+(c*e[d][0]-c*e[d+2][0])/6,e[d+1][1]+(c*e[d][1]-c*e[d+2][1])/6],s[3]=[e[d+1][0],e[d+1][1]],a.push({op:"bcurveTo",data:[s[1][0],s[1][1],s[2][0],s[2][1],s[3][0],s[3][1]]})}if(t&&t.length===2){let d=n.maxRandomnessOffset;a.push({op:"lineTo",data:[t[0]+Ee(d,n),t[1]+Ee(d,n)]})}}else r===3?(a.push({op:"move",data:[e[1][0],e[1][1]]}),a.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):r===2&&a.push(...qn(e[0][0],e[0][1],e[1][0],e[1][1],n));return a}function tf(e,t,n,r,a,s,c,d){let h=[],m=[],u=Ee(.5,d)-Math.PI/2;m.push([Ee(s,d)+t+.9*r*Math.cos(u-e),Ee(s,d)+n+.9*a*Math.sin(u-e)]);for(let v=u;v<2*Math.PI+u-.01;v+=e){let w=[Ee(s,d)+t+r*Math.cos(v),Ee(s,d)+n+a*Math.sin(v)];h.push(w),m.push(w)}return m.push([Ee(s,d)+t+r*Math.cos(u+2*Math.PI+.5*c),Ee(s,d)+n+a*Math.sin(u+2*Math.PI+.5*c)]),m.push([Ee(s,d)+t+.98*r*Math.cos(u+c),Ee(s,d)+n+.98*a*Math.sin(u+c)]),m.push([Ee(s,d)+t+.9*r*Math.cos(u+.5*c),Ee(s,d)+n+.9*a*Math.sin(u+.5*c)]),[m,h]}function nf(e,t,n,r,a,s,c,d,h){let m=s+Ee(.1,h),u=[];u.push([Ee(d,h)+t+.9*r*Math.cos(m-e),Ee(d,h)+n+.9*a*Math.sin(m-e)]);for(let v=m;v<=c;v+=e)u.push([Ee(d,h)+t+r*Math.cos(v),Ee(d,h)+n+a*Math.sin(v)]);return u.push([t+r*Math.cos(c),n+a*Math.sin(c)]),u.push([t+r*Math.cos(c),n+a*Math.sin(c)]),bl(u,null,h)}function Gv(e,t,n,r,a,s,c,d){let h=[],m=[d.maxRandomnessOffset||1,(d.maxRandomnessOffset||1)+.3],u=[0,0],v=d.disableMultiStroke?1:2;for(let w=0;w<v;w++)w===0?h.push({op:"move",data:[c[0],c[1]]}):h.push({op:"move",data:[c[0]+Ee(m[0],d),c[1]+Ee(m[0],d)]}),u=[a+Ee(m[w],d),s+Ee(m[w],d)],h.push({op:"bcurveTo",data:[e+Ee(m[w],d),t+Ee(m[w],d),n+Ee(m[w],d),r+Ee(m[w],d),u[0],u[1]]});return h}function Ri(e){return[...e]}let sn="none";class xl{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,combineNestedSvgPaths:!1,disableMultiStroke:!1,disableMultiStrokeFill:!1},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,n,r){return{shape:t,sets:n||[],options:r||this.defaultOptions}}line(t,n,r,a,s){let c=this._o(s);return this._d("line",[Xp(t,n,r,a,c)],c)}rectangle(t,n,r,a,s){let c=this._o(s),d=[],h=Uv(t,n,r,a,c);if(c.fill){let m=[[t,n],[t+r,n],[t+r,n+a],[t,n+a]];c.fillStyle==="solid"?d.push(Ni(m,c)):d.push(Qr(m,c))}return c.stroke!==sn&&d.push(h),this._d("rectangle",d,c)}ellipse(t,n,r,a,s){let c=this._o(s),d=[],h=$p(r,a,c),m=bc(t,n,c,h);if(c.fill)if(c.fillStyle==="solid"){let u=bc(t,n,c,h).opset;u.type="fillPath",d.push(u)}else d.push(Qr(m.estimatedPoints,c));return c.stroke!==sn&&d.push(m.opset),this._d("ellipse",d,c)}circle(t,n,r,a){let s=this.ellipse(t,n,r,r,a);return s.shape="circle",s}linearPath(t,n){let r=this._o(n);return this._d("linearPath",[yl(t,!1,r)],r)}arc(t,n,r,a,s,c,d=!1,h){let m=this._o(h),u=[],v=Qp(t,n,r,a,s,c,d,!0,m);if(d&&m.fill)if(m.fillStyle==="solid"){let w=Qp(t,n,r,a,s,c,!0,!1,m);w.type="fillPath",u.push(w)}else u.push(function(w,y,k,O,I,C,L){let U=w,H=y,K=Math.abs(k/2),Y=Math.abs(O/2);K+=Ee(.01*K,L),Y+=Ee(.01*Y,L);let W=I,Z=C;for(;W<0;)W+=2*Math.PI,Z+=2*Math.PI;Z-W>2*Math.PI&&(W=0,Z=2*Math.PI);let J=(Z-W)/L.curveStepCount,ee=[];for(let ae=W;ae<=Z;ae+=J)ee.push([U+K*Math.cos(ae),H+Y*Math.sin(ae)]);return ee.push([U+K*Math.cos(Z),H+Y*Math.sin(Z)]),ee.push([U,H]),Qr(ee,L)}(t,n,r,a,s,c,m));return m.stroke!==sn&&u.push(v),this._d("arc",u,m)}curve(t,n){let r=this._o(n),a=[],s=Wv(t,r);if(r.fill&&r.fill!==sn&&t.length>=3){let c=Li(function(d,h=0){let m=d.length;if(m<3)throw new Error("A curve must have at least three points.");let u=[];if(m===3)u.push(Ri(d[0]),Ri(d[1]),Ri(d[2]),Ri(d[2]));else{let v=[];v.push(d[0],d[0]);for(let k=1;k<d.length;k++)v.push(d[k]),k===d.length-1&&v.push(d[k]);let w=[],y=1-h;u.push(Ri(v[0]));for(let k=1;k+2<v.length;k++){let O=v[k];w[0]=[O[0],O[1]],w[1]=[O[0]+(y*v[k+1][0]-y*v[k-1][0])/6,O[1]+(y*v[k+1][1]-y*v[k-1][1])/6],w[2]=[v[k+1][0]+(y*v[k][0]-y*v[k+2][0])/6,v[k+1][1]+(y*v[k][1]-y*v[k+2][1])/6],w[3]=[v[k+1][0],v[k+1][1]],u.push(w[1],w[2],w[3])}}return u}(t),10,(1+r.roughness)/2);r.fillStyle==="solid"?a.push(Ni(c,r)):a.push(Qr(c,r))}return r.stroke!==sn&&a.push(s),this._d("curve",a,r)}polygon(t,n){let r=this._o(n),a=[],s=yl(t,!0,r);return r.fill&&(r.fillStyle==="solid"?a.push(Ni(t,r)):a.push(Qr(t,r))),r.stroke!==sn&&a.push(s),this._d("polygon",a,r)}path(t,n){let r=this._o(n),a=[];if(!t)return this._d("path",a,r);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");let s=r.fill&&r.fill!=="transparent"&&r.fill!==sn,c=r.stroke!==sn,d=!!(r.simplification&&r.simplification<1),h=function(m,u,v){let w=Yp(Kp(wc(m))),y=[],k=[],O=[0,0],I=[],C=()=>{I.length>=4&&k.push(...Li(I,u)),I=[]},L=()=>{C(),k.length&&(y.push(k),k=[])};for(let{key:H,data:K}of w)switch(H){case"M":L(),O=[K[0],K[1]],k.push(O);break;case"L":C(),k.push([K[0],K[1]]);break;case"C":if(!I.length){let Y=k.length?k[k.length-1]:O;I.push([Y[0],Y[1]])}I.push([K[0],K[1]]),I.push([K[2],K[3]]),I.push([K[4],K[5]]);break;case"Z":C(),k.push([O[0],O[1]])}if(L(),!v)return y;let U=[];for(let H of y){let K=ml(H,v);K.length&&U.push(K)}return U}(t,1,d?4-4*r.simplification:(1+r.roughness)/2);if(s)if(r.combineNestedSvgPaths){let m=[];h.forEach(u=>m.push(...u)),r.fillStyle==="solid"?a.push(Ni(m,r)):a.push(Qr(m,r))}else h.forEach(m=>{r.fillStyle==="solid"?a.push(Ni(m,r)):a.push(Qr(m,r))});return c&&(d?h.forEach(m=>{a.push(yl(m,!1,r))}):a.push(function(m,u){let v=Yp(Kp(wc(m))),w=[],y=[0,0],k=[0,0];for(let{key:O,data:I}of v)switch(O){case"M":{let C=1*(u.maxRandomnessOffset||0);w.push({op:"move",data:I.map(L=>L+Ee(C,u))}),k=[I[0],I[1]],y=[I[0],I[1]];break}case"L":w.push(...qn(k[0],k[1],I[0],I[1],u)),k=[I[0],I[1]];break;case"C":{let[C,L,U,H,K,Y]=I;w.push(...Gv(C,L,U,H,K,Y,k,u)),k=[K,Y];break}case"Z":w.push(...qn(k[0],k[1],y[0],y[1],u)),k=[y[0],y[1]]}return{type:"path",ops:w}}(t,r))),this._d("path",a,r)}opsToPath(t){let n="";for(let r of t.ops){let a=r.data;switch(r.op){case"move":n+=`M${a[0]} ${a[1]} `;break;case"bcurveTo":n+=`C${a[0]} ${a[1]}, ${a[2]} ${a[3]}, ${a[4]} ${a[5]} `;break;case"lineTo":n+=`L${a[0]} ${a[1]} `}}return n.trim()}toPaths(t){let n=t.sets||[],r=t.options||this.defaultOptions,a=[];for(let s of n){let c=null;switch(s.type){case"path":c={d:this.opsToPath(s),stroke:r.stroke,strokeWidth:r.strokeWidth,fill:sn};break;case"fillPath":c={d:this.opsToPath(s),stroke:sn,strokeWidth:0,fill:r.fill||sn};break;case"fillSketch":c=this.fillSketch(s,r)}c&&a.push(c)}return a}fillSketch(t,n){let r=n.fillWeight;return r<0&&(r=n.strokeWidth/2),{d:this.opsToPath(t),stroke:n.fill||sn,strokeWidth:r,fill:sn}}}class Kv{constructor(t,n){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new xl(n)}draw(t){let n=t.sets||[],r=t.options||this.getDefaultOptions(),a=this.ctx;for(let s of n)switch(s.type){case"path":a.save(),a.strokeStyle=r.stroke==="none"?"transparent":r.stroke,a.lineWidth=r.strokeWidth,r.strokeLineDash&&a.setLineDash(r.strokeLineDash),r.strokeLineDashOffset&&(a.lineDashOffset=r.strokeLineDashOffset),this._drawToContext(a,s),a.restore();break;case"fillPath":a.save(),a.fillStyle=r.fill||"";let c=t.shape==="curve"||t.shape==="polygon"?"evenodd":"nonzero";this._drawToContext(a,s,c),a.restore();break;case"fillSketch":this.fillSketch(a,s,r)}}fillSketch(t,n,r){let a=r.fillWeight;a<0&&(a=r.strokeWidth/2),t.save(),r.fillLineDash&&t.setLineDash(r.fillLineDash),r.fillLineDashOffset&&(t.lineDashOffset=r.fillLineDashOffset),t.strokeStyle=r.fill||"",t.lineWidth=a,this._drawToContext(t,n),t.restore()}_drawToContext(t,n,r="nonzero"){t.beginPath();for(let a of n.ops){let s=a.data;switch(a.op){case"move":t.moveTo(s[0],s[1]);break;case"bcurveTo":t.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case"lineTo":t.lineTo(s[0],s[1])}}n.type==="fillPath"?t.fill(r):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,n,r,a,s){let c=this.gen.line(t,n,r,a,s);return this.draw(c),c}rectangle(t,n,r,a,s){let c=this.gen.rectangle(t,n,r,a,s);return this.draw(c),c}ellipse(t,n,r,a,s){let c=this.gen.ellipse(t,n,r,a,s);return this.draw(c),c}circle(t,n,r,a){let s=this.gen.circle(t,n,r,a);return this.draw(s),s}linearPath(t,n){let r=this.gen.linearPath(t,n);return this.draw(r),r}polygon(t,n){let r=this.gen.polygon(t,n);return this.draw(r),r}arc(t,n,r,a,s,c,d=!1,h){let m=this.gen.arc(t,n,r,a,s,c,d,h);return this.draw(m),m}curve(t,n){let r=this.gen.curve(t,n);return this.draw(r),r}path(t,n){let r=this.gen.path(t,n);return this.draw(r),r}}let El="http://www.w3.org/2000/svg";class Yv{constructor(t,n){this.svg=t,this.gen=new xl(n)}draw(t){let n=t.sets||[],r=t.options||this.getDefaultOptions(),a=this.svg.ownerDocument||window.document,s=a.createElementNS(El,"g");for(let c of n){let d=null;switch(c.type){case"path":d=a.createElementNS(El,"path"),d.setAttribute("d",this.opsToPath(c)),d.setAttribute("stroke",r.stroke),d.setAttribute("stroke-width",r.strokeWidth+""),d.setAttribute("fill","none"),r.strokeLineDash&&d.setAttribute("stroke-dasharray",r.strokeLineDash.join(" ").trim()),r.strokeLineDashOffset&&d.setAttribute("stroke-dashoffset",`${r.strokeLineDashOffset}`);break;case"fillPath":d=a.createElementNS(El,"path"),d.setAttribute("d",this.opsToPath(c)),d.setAttribute("stroke","none"),d.setAttribute("stroke-width","0"),d.setAttribute("fill",r.fill||""),t.shape!=="curve"&&t.shape!=="polygon"||d.setAttribute("fill-rule","evenodd");break;case"fillSketch":d=this.fillSketch(a,c,r)}d&&s.appendChild(d)}return s}fillSketch(t,n,r){let a=r.fillWeight;a<0&&(a=r.strokeWidth/2);let s=t.createElementNS(El,"path");return s.setAttribute("d",this.opsToPath(n)),s.setAttribute("stroke",r.fill||""),s.setAttribute("stroke-width",a+""),s.setAttribute("fill","none"),r.fillLineDash&&s.setAttribute("stroke-dasharray",r.fillLineDash.join(" ").trim()),r.fillLineDashOffset&&s.setAttribute("stroke-dashoffset",`${r.fillLineDashOffset}`),s}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t){return this.gen.opsToPath(t)}line(t,n,r,a,s){let c=this.gen.line(t,n,r,a,s);return this.draw(c)}rectangle(t,n,r,a,s){let c=this.gen.rectangle(t,n,r,a,s);return this.draw(c)}ellipse(t,n,r,a,s){let c=this.gen.ellipse(t,n,r,a,s);return this.draw(c)}circle(t,n,r,a){let s=this.gen.circle(t,n,r,a);return this.draw(s)}linearPath(t,n){let r=this.gen.linearPath(t,n);return this.draw(r)}polygon(t,n){let r=this.gen.polygon(t,n);return this.draw(r)}arc(t,n,r,a,s,c,d=!1,h){let m=this.gen.arc(t,n,r,a,s,c,d,h);return this.draw(m)}curve(t,n){let r=this.gen.curve(t,n);return this.draw(r)}path(t,n){let r=this.gen.path(t,n);return this.draw(r)}}let No={canvas:(e,t)=>new Kv(e,t),svg:(e,t)=>new Yv(e,t),generator:e=>new xl(e),newSeed:()=>xl.newSeed()};function rf(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=rf(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Je(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=rf(e))&&(r&&(r+=" "),r+=t);return r}let hr=(()=>{if("top"in self&&self!==top)try{top.location}catch{return!1}else{if("chooseFileSystemEntries"in self)return"chooseFileSystemEntries";if("showOpenFilePicker"in self)return"showOpenFilePicker"}return!1})(),Zv=hr?hr==="chooseFileSystemEntries"?E.e(736).then(E.bind(E,9012)):E.e(736).then(E.bind(E,499)):E.e(736).then(E.bind(E,5034));async function of(...e){return(await Zv).default(...e)}hr?hr==="chooseFileSystemEntries"?E.e(736).then(E.bind(E,6980)):E.e(736).then(E.bind(E,868)):E.e(736).then(E.bind(E,3110));let Xv=hr?hr==="chooseFileSystemEntries"?E.e(736).then(E.bind(E,1170)):E.e(736).then(E.bind(E,7814)):E.e(736).then(E.bind(E,4001));async function kl(...e){return(await Xv).default(...e)}let af=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let r=63&n[e];t+=r<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r<63?"_":"-"}return t};var Mt=function(e){return e!=null&&e.type==="text"},vt=function(e){return e!=null&&qr(e.type)},qr=function(e){return e==="arrow"||e==="line"||e==="draw"},cn=function(e){return e!=null&&lf(e.type)},lf=function(e){return e==="arrow"},Sl=function(e){return e!=null&&(e.type==="rectangle"||e.type==="diamond"||e.type==="ellipse"||e.type==="text")},We=function(e,t,n,r,a){return[(e-n)*Math.cos(a)-(t-r)*Math.sin(a)+n,(e-n)*Math.sin(a)+(t-r)*Math.cos(a)+r]},Cl=function(e,t,n){return We(e[0],e[1],t[0],t[1],n)},xc=function(e,t,n,r,a,s,c,d){var h=Math.cos(r),m=Math.sin(r);return e.e&&e.w?t+=a+c:e.e?(t+=a*(1+h),n+=a*m,t+=c*(1-h),n+=c*-m):e.w&&(t+=a*(1-h),n+=a*-m,t+=c*(1+h),n+=c*m),e.n&&e.s?n+=s+d:e.n?(t+=s*m,n+=s*(1-h),t+=d*-m,n+=d*(1+h)):e.s&&(t+=s*-m,n+=s*(1+h),t+=d*m,n+=d*(1-h)),[t,n]},Jr=function(e,t,n,r){var a=n-e,s=r-t;return Math.hypot(a,s)},eo=function(e,t){if(t===void 0&&(t=1),e.length>=3){var n=[e[0],e[e.length-1]],r=n[0],a=n[1];return Jr(r[0],r[1],a[0],a[1])<=j.qx/t}return!1},sf=function(e,t,n){var r=e.length;if(r<3)return!1;for(var a=[Number.MAX_SAFE_INTEGER,n],s=[t,n],c=0,d=0;d<r;d++){var h=e[d],m=e[(d+1)%r];if($v(h,m,s,a)){if(Hi(h,s,m)===0)return Bi(h,s,m);c++}}return c%2==1},Bi=function(e,t,n){return t[0]<=Math.max(e[0],n[0])&&t[0]>=Math.min(e[0],n[0])&&t[1]<=Math.max(e[1],n[1])&&t[1]>=Math.min(e[1],n[1])},Hi=function(e,t,n){var r=(t[1]-e[1])*(n[0]-t[0])-(t[0]-e[0])*(n[1]-t[1]);return r===0?0:r>0?1:2},$v=function(e,t,n,r){var a=Hi(e,t,n),s=Hi(e,t,r),c=Hi(n,r,e),d=Hi(n,r,t);return a!==s&&c!==d||!(a!==0||!Bi(e,n,t))||!(s!==0||!Bi(e,r,t))||!(c!==0||!Bi(n,e,r))||!(d!==0||!Bi(n,t,r))},Nn=function(e,t,n){return n?[Math.round(e/n)*n,Math.round(t/n)*n]:[e,t]},Ol=function(e,t,n){var r=n.map(function(v){return v[e]}),a=Math.max.apply(Math,r),s=Math.min.apply(Math,r),c=a-s,d=c===0?1:t/c,h=1/0,m=n.map(function(v){return v.map(function(w,y){if(y!==e)return w;var k=w*d;return h=Math.min(k,h),k})});if(m.length===2)return m;var u=s-h;return m.map(function(v){return v.map(function(w,y){return y===e?w+u:w})})},ot=function(e){return vt(e)?Qv(e):[e.x,e.y,e.x+e.width,e.y+e.height]},to=function(e){for(var t=0,n=e.sets;t<n.length;t++){var r=n[t];if(r.type==="path")return r.ops}return e.sets[0].ops},Ml=function(e,t){var n=[0,0],r=e.reduce(function(a,s){var c,d=s.op,h=s.data;if(d==="move")n=h;else if(d==="bcurveTo"){var m=[h[0],h[1]],u=[h[2],h[3]],v=[h[4],h[5]],w=n;n=v;for(var y=function(C,L){return Math.pow(1-C,3)*v[L]+3*C*Math.pow(1-C,2)*u[L]+3*Math.pow(C,2)*(1-C)*m[L]+w[L]*Math.pow(C,3)},k=0;k<=1;){var O=y(k,0),I=y(k,1);t&&(O=(c=t(O,I))[0],I=c[1]),a.minY=Math.min(a.minY,I),a.minX=Math.min(a.minX,O),a.maxX=Math.max(a.maxX,O),a.maxY=Math.max(a.maxY,I),k+=.1}}return a},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[r.minX,r.minY,r.maxX,r.maxY]},Qv=function(e){if(e.points.length<2||!Bn(e)){var t=e.points.reduce(function(y,k){var O=k[0],I=k[1];return y.minY=Math.min(y.minY,I),y.minX=Math.min(y.minX,O),y.maxX=Math.max(y.maxX,O),y.maxY=Math.max(y.maxY,I),y},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),n=t.minX,r=t.minY,a=t.maxX,s=t.maxY;return[n+e.x,r+e.y,a+e.x,s+e.y]}var c=Bn(e),d=to(c[0]),h=Ml(d),m=h[0],u=h[1],v=h[2],w=h[3];return[m+e.x,u+e.y,v+e.x,w+e.y]},Fi=function(e){var t=ot(e),n=t[0],r=t[1],a=t[2],s=t[3],c=(n+a)/2,d=(r+s)/2;if(vt(e))return function(Re,Qe,tt){if(Re.points.length<2||!Bn(Re)){var mt=Re.points.reduce(function(ct,At){var Ln,_t=At[0],Tt=At[1];return _t=(Ln=We(Re.x+_t,Re.y+Tt,Qe,tt,Re.angle))[0],Tt=Ln[1],ct.minY=Math.min(ct.minY,Tt),ct.minX=Math.min(ct.minX,_t),ct.maxX=Math.max(ct.maxX,_t),ct.maxY=Math.max(ct.maxY,Tt),ct},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[mt.minX,mt.minY,mt.maxX,mt.maxY]}var He=Bn(Re),qe=to(He[0]);return Ml(qe,function(ct,At){return We(Re.x+ct,Re.y+At,Qe,tt,Re.angle)})}(e,c,d);if(e.type==="diamond"){var h=We(c,r,c,d,e.angle),m=h[0],u=h[1],v=We(c,s,c,d,e.angle),w=v[0],y=v[1],k=We(n,d,c,d,e.angle),O=k[0],I=k[1],C=We(a,d,c,d,e.angle),L=C[0],U=C[1];return[Math.min(m,w,O,L),Math.min(u,y,I,U),Math.max(m,w,O,L),Math.max(u,y,I,U)]}if(e.type==="ellipse"){var H=(a-n)/2,K=(s-r)/2,Y=Math.cos(e.angle),W=Math.sin(e.angle),Z=Math.hypot(H*Y,K*W),J=Math.hypot(K*Y,H*W);return[c-Z,d-J,c+Z,d+J]}var ee=We(n,r,c,d,e.angle),ae=ee[0],De=ee[1],xe=We(n,s,c,d,e.angle),we=xe[0],ge=xe[1],Se=We(a,s,c,d,e.angle),te=Se[0],be=Se[1],je=We(a,r,c,d,e.angle),Ue=je[0],Ie=je[1];return[Math.min(ae,we,te,Ue),Math.min(De,ge,be,Ie),Math.max(ae,we,te,Ue),Math.max(De,ge,be,Ie)]},bt=function(e){if(!e.length)return[0,0,0,0];var t=1/0,n=-1/0,r=1/0,a=-1/0;return e.forEach(function(s){var c=Fi(s),d=c[0],h=c[1],m=c[2],u=c[3];t=Math.min(t,d),r=Math.min(r,h),n=Math.max(n,m),a=Math.max(a,u)}),[t,r,n,a]},Ro=function(e,t,n){if(!vt(e))return[e.x,e.y,e.x+t,e.y+n];var r=Ol(0,t,Ol(1,n,e.points)),a=No.generator(),s=e.strokeSharpness==="sharp"?a.linearPath(r,er(e)):a.curve(r,er(e)),c=to(s),d=Ml(c),h=d[0],m=d[1],u=d[2],v=d[3];return[h+e.x,m+e.y,u+e.x,v+e.y]},cf=function(e,t,n){var r=No.generator(),a=n==="sharp"?r.linearPath(t,er(e)):r.curve(t,er(e)),s=to(a),c=Ml(s),d=c[0],h=c[1],m=c[2],u=c[3];return[d+e.x,h+e.y,m+e.x,u+e.y]};let ze=JSON.parse('{"ix":"#ffffff","Sn":"#000000","MA":["#f8f9fa","#f1f3f5",0,0,"#ced4da","#adb5bd","#868e96","#495057","#343a40"],"Q6":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"iQ":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"pl":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"ht":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"QN":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"iN":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"sl":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"$C":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"ek":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"LR":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"er":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"$y":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}');var Ec=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e},kc=function(e){return[ze.Q6[e],ze.iQ[e],ze.pl[e],ze.ht[e],ze.QN[e],ze.iN[e],ze.sl[e],ze.$C[e],ze.ek[e],ze.LR[e],ze.er[e],ze.$y[e]]};let mr={canvasBackground:Ec([ze.ix,ze.MA[0],ze.MA[1]],kc(0)),elementBackground:Ec(["transparent",ze.MA[4],ze.MA[6]],kc(6)),elementStroke:Ec([ze.Sn,ze.MA[8],ze.MA[7]],kc(9))};var no=E(6207),Rn=/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),uf=/^Win/.test(window.navigator.platform),qv="Equal",Jv="Minus",ey="NumpadAdd",ty="NumpadSubtract",ny="Numpad0",Pl="BracketRight",Vi="BracketLeft",ry="Digit1",oy="Digit2",iy="Digit9",ay="Quote",ly="Digit0",df="KeyC",pf="KeyG",sy="KeyF",cy="KeyH",ff="KeyV",uy="KeyX",dy="KeyZ",py="KeyR",Ui="ArrowDown",ro="ArrowLeft",oo="ArrowRight",Wi="ArrowUp",fy="Backspace",hy="Alt",Fe=Rn?"metaKey":"ctrlKey",my="Delete",Gi="Enter",io="Escape",hf="?",mf=" ",_l="Tab",gf="a",vf="d",gy="e",vy="l",yy="o",wy="p",by="q",xy="r",Sc="s",Ey="t",ky="v",Sy="x",Cy="y",yf="z",Ki=function(e){return e===ro||e===oo||e===Ui||e===Wi},Cc=function(e){return e.altKey},Oc=function(e){return e.shiftKey},wf=function(e){return e.shiftKey},Bo="http://www.w3.org/2000/svg",Oy=function(){var e=new Date,t=e.getFullYear(),n="".concat(e.getMonth()+1).padStart(2,"0"),r="".concat(e.getDate()).padStart(2,"0"),a="".concat(e.getHours()).padStart(2,"0"),s="".concat(e.getMinutes()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r,"-").concat(a).concat(s)},Yi=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Ho=function(e){return e instanceof HTMLElement&&e.dataset.type==="wysiwyg"||e instanceof HTMLBRElement||e instanceof HTMLTextAreaElement||e instanceof HTMLInputElement&&(e.type==="text"||e.type==="number")},bf=function(e){var t=e.fontFamily;return"".concat(j.ut[t],", ").concat(j._D)},ao=function(e){var t=e.fontSize,n=e.fontFamily;return"".concat(t,"px ").concat(bf({fontFamily:n}))},Zi=function(e,t){var n=document.createElement("div"),r=document.body;n.style.position="absolute",n.style.whiteSpace="pre",n.style.font=t,r.appendChild(n),n.innerText=e.split(`
`).map(function(h){return h||" "}).join(`
`);var a=n.offsetWidth,s=n.offsetHeight,c=document.createElement("span");c.style.display="inline-block",c.style.overflow="hidden",c.style.width="1px",c.style.height="1px",n.appendChild(c);var d=c.offsetTop+c.offsetHeight;return document.body.removeChild(n),{width:a,height:s,baseline:d}},xf=function(e,t){var n=0,r=null,a=function(){for(var s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];r=s,clearTimeout(n),n=window.setTimeout(function(){r=null,e.apply(void 0,s)},t)};return a.flush=function(){if(clearTimeout(n),r){var s=r;r=null,e.apply(void 0,s)}},a.cancel=function(){r=null,clearTimeout(n)},a},wn=function(e,t){return Math.abs(e-t)},Jn=function(e){e&&(e.style.cursor="")},un=function(e,t){e&&(e.style.cursor=t)},gr=function(e,t){e&&(t==="selection"?Jn(e):e.style.cursor=j.oc.CROSSHAIR)},Ef=function(){var e;return((e=document.fullscreenElement)===null||e===void 0?void 0:e.nodeName)==="HTML"},ie=function(e){return e=e.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter").replace(/\bDel\b/i,"Delete"),Rn?e.replace(/\bCtrlOrCmd\b/i,"Cmd").replace(/\bAlt\b/i,"Option"):e.replace(/\bCtrlOrCmd\b/i,"Ctrl")},bn=function(e,t){var n=e.clientX,r=e.clientY,a=t.zoom,s=t.offsetLeft,c=t.offsetTop,d=t.scrollX,h=t.scrollY,m=1/a.value;return{x:(n-a.translation.x-s)*m-d,y:(r-a.translation.y-c)*m-h}},Xi=function(e,t){var n=e.sceneX,r=e.sceneY,a=t.zoom,s=t.offsetLeft,c=t.offsetTop,d=t.scrollX,h=t.scrollY;return{x:(n+d+s)*a.value+a.translation.x,y:(r+h+c)*a.value+a.translation.y}},Tl=function(e){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(e))},My=new RegExp("^[^".concat("A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u0300-\u0590\u0800-\u1FFF\u2C00-\uFB1C\uFDFE-\uFE6F\uFEFD-\uFFFF","]*[").concat("\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC","]")),kf=function(e){return My.test(e)},Fo=function(e){return{x:e[0],y:e[1]}},Mc=function(e){if((e==null?void 0:e.name)!=="AbortError")throw e},at=function(e){return function(t){(0,no.unstable_batchedUpdates)(e,t)}},Py=function(e){for(var t=e.parentElement;t;){if(t.tabIndex>-1)return void t.focus();t=t.parentElement}},lo=function(){return{theme:"light",collaborators:new Map,currentChartType:"bar",currentItemBackgroundColor:"transparent",currentItemEndArrowhead:"arrow",currentItemFillStyle:"hachure",currentItemFontFamily:j.rk,currentItemFontSize:j.n5,currentItemLinearStrokeSharpness:"round",currentItemOpacity:100,currentItemRoughness:1,currentItemStartArrowhead:null,currentItemStrokeColor:ze.Sn,currentItemStrokeSharpness:"sharp",currentItemStrokeStyle:"solid",currentItemStrokeWidth:1,currentItemTextAlign:j.Hg,cursorButton:"up",draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,elementLocked:!1,elementType:"selection",errorMessage:null,exportBackground:!0,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,isBindingEnabled:!0,isLibraryOpen:!1,isLoading:!1,isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:"".concat(_("labels.untitled"),"-").concat(Oy()),openMenu:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectionElement:null,shouldAddWatermark:!1,shouldCacheIgnoreZoom:!1,showHelpDialog:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],toastMessage:null,viewBackgroundColor:ze.ix,zenModeEnabled:!1,zoom:{value:1,translation:{x:0,y:0}},viewModeEnabled:!1}},_y={theme:{browser:!0,export:!1},collaborators:{browser:!1,export:!1},currentChartType:{browser:!0,export:!1},currentItemBackgroundColor:{browser:!0,export:!1},currentItemEndArrowhead:{browser:!0,export:!1},currentItemFillStyle:{browser:!0,export:!1},currentItemFontFamily:{browser:!0,export:!1},currentItemFontSize:{browser:!0,export:!1},currentItemLinearStrokeSharpness:{browser:!0,export:!1},currentItemOpacity:{browser:!0,export:!1},currentItemRoughness:{browser:!0,export:!1},currentItemStartArrowhead:{browser:!0,export:!1},currentItemStrokeColor:{browser:!0,export:!1},currentItemStrokeSharpness:{browser:!0,export:!1},currentItemStrokeStyle:{browser:!0,export:!1},currentItemStrokeWidth:{browser:!0,export:!1},currentItemTextAlign:{browser:!0,export:!1},cursorButton:{browser:!0,export:!1},draggingElement:{browser:!1,export:!1},editingElement:{browser:!1,export:!1},editingGroupId:{browser:!0,export:!1},editingLinearElement:{browser:!1,export:!1},elementLocked:{browser:!0,export:!1},elementType:{browser:!0,export:!1},errorMessage:{browser:!1,export:!1},exportBackground:{browser:!0,export:!1},exportEmbedScene:{browser:!0,export:!1},exportWithDarkMode:{browser:!0,export:!1},fileHandle:{browser:!1,export:!1},gridSize:{browser:!0,export:!0},height:{browser:!1,export:!1},isBindingEnabled:{browser:!1,export:!1},isLibraryOpen:{browser:!1,export:!1},isLoading:{browser:!1,export:!1},isResizing:{browser:!1,export:!1},isRotating:{browser:!1,export:!1},lastPointerDownWith:{browser:!0,export:!1},multiElement:{browser:!1,export:!1},name:{browser:!0,export:!1},offsetLeft:{browser:!1,export:!1},offsetTop:{browser:!1,export:!1},openMenu:{browser:!0,export:!1},pasteDialog:{browser:!1,export:!1},previousSelectedElementIds:{browser:!0,export:!1},resizingElement:{browser:!1,export:!1},scrolledOutside:{browser:!0,export:!1},scrollX:{browser:!0,export:!1},scrollY:{browser:!0,export:!1},selectedElementIds:{browser:!0,export:!1},selectedGroupIds:{browser:!0,export:!1},selectionElement:{browser:!1,export:!1},shouldAddWatermark:{browser:!0,export:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1},showHelpDialog:{browser:!1,export:!1},showStats:{browser:!0,export:!1},startBoundElement:{browser:!1,export:!1},suggestedBindings:{browser:!1,export:!1},toastMessage:{browser:!1,export:!1},viewBackgroundColor:{browser:!0,export:!0},width:{browser:!1,export:!1},zenModeEnabled:{browser:!0,export:!1},zoom:{browser:!0,export:!1},viewModeEnabled:{browser:!1,export:!1}},Ty=function(e,t){for(var n={},r=0,a=Object.keys(e);r<a.length;r++){var s=a[r],c=_y[s];c!=null&&c[t]&&(n[s]=e[s])}return n},Sf=function(e){return Ty(e,"export")};function Cf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Of(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cf(Object(n),!0).forEach(function(r){re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cf(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Iy=lo(),vr=20,Ly=[12,8],Ay=[3,6],Mf=function(e,t,n){switch(n.globalAlpha=e.opacity/100,e.type){case"rectangle":case"diamond":case"ellipse":t.draw(Bn(e));break;case"arrow":case"draw":case"line":Bn(e).forEach(function(y){t.draw(y)});break;default:if(!Mt(e))throw new Error("Unimplemented type ".concat(e.type));var r=kf(e.text),a=r&&!n.canvas.isConnected;a&&document.body.appendChild(n.canvas),n.canvas.setAttribute("dir",r?"rtl":"ltr");var s=n.font;n.font=ao(e);var c=n.fillStyle;n.fillStyle=e.strokeColor;var d=n.textAlign;n.textAlign=e.textAlign;for(var h=e.text.replace(/\r\n?/g,`
`).split(`
`),m=e.height/h.length,u=e.height-e.baseline,v=e.textAlign==="center"?e.width/2:e.textAlign==="right"?e.width:0,w=0;w<h.length;w++)n.fillText(h[w],v,(w+1)*m-u);n.fillStyle=c,n.font=s,n.textAlign=d,a&&n.canvas.remove()}n.globalAlpha=1},Pc=new WeakMap,Il=new WeakMap,Bn=function(e){return Il.get(e)},_c=function(e){return Il.delete(e)},er=function(e){var t={seed:e.seed,strokeLineDash:e.strokeStyle==="dashed"?Ly:e.strokeStyle==="dotted"?Ay:void 0,disableMultiStroke:e.strokeStyle!=="solid",strokeWidth:e.strokeStyle!=="solid"?e.strokeWidth+.5:e.strokeWidth,fillWeight:e.strokeWidth/2,hachureGap:4*e.strokeWidth,roughness:e.roughness,stroke:e.strokeColor};switch(e.type){case"rectangle":case"diamond":case"ellipse":return t.fillStyle=e.fillStyle,t.fill=e.backgroundColor==="transparent"?void 0:e.backgroundColor,e.type==="ellipse"&&(t.curveFitting=1),t;case"line":case"draw":return eo(e.points)&&(t.fillStyle=e.fillStyle,t.fill=e.backgroundColor==="transparent"?void 0:e.backgroundColor),t;case"arrow":return t;default:throw new Error("Unimplemented type ".concat(e.type))}},Tc=function(e,t){var n=Il.get(e)||null;if(!n){switch(Pc.delete(e),e.type){case"rectangle":if(e.strokeSharpness==="round"){var r=e.width,a=e.height,s=.25*Math.min(r,a);n=t.path("M ".concat(s," 0 L ").concat(r-s," 0 Q ").concat(r," 0, ").concat(r," ").concat(s," L ").concat(r," ").concat(a-s," Q ").concat(r," ").concat(a,", ").concat(r-s," ").concat(a," L ").concat(s," ").concat(a," Q 0 ").concat(a,", 0 ").concat(a-s," L 0 ").concat(s," Q 0 0, ").concat(s," 0"),er(e))}else n=t.rectangle(0,0,e.width,e.height,er(e));break;case"diamond":var c=function(W){var Z=Math.floor(W.width/2)+1,J=W.width,ee=Math.floor(W.height/2)+1;return[Z,0,J,ee,Z,W.height,0,ee]}(e),d=c[0],h=c[1],m=c[2],u=c[3],v=c[4],w=c[5],y=c[6],k=c[7];n=t.polygon([[d,h],[m,u],[v,w],[y,k]],er(e));break;case"ellipse":n=t.ellipse(e.width/2,e.height/2,e.width,e.height,er(e));break;case"line":case"draw":case"arrow":var O=er(e),I=e.points.length?e.points:[[0,0]];if(n=e.strokeSharpness==="sharp"?O.fill?[t.polygon(I,O)]:[t.linearPath(I,O)]:[t.curve(I,O)],e.type==="arrow"){var C=e.startArrowhead,L=C===void 0?null:C,U=e.endArrowhead,H=U===void 0?"arrow":U,K=function(W,Z,J,ee){var ae=function(Ie,Re,Qe,tt){var mt=to(Re[0]);if(mt.length<1)return null;var He=Qe==="start"?1:mt.length-1,qe=mt[He].data,ct=[qe[4],qe[5]],At=[qe[2],qe[3]],Ln=[qe[0],qe[1]],_t=mt[He-1],Tt=[0,0];_t.op==="move"?Tt=_t.data:_t.op==="bcurveTo"&&(Tt=[_t.data[4],_t.data[5]]);var or=function(Wn,Gn){return Math.pow(1-Wn,3)*ct[Gn]+3*Wn*Math.pow(1-Wn,2)*At[Gn]+3*Math.pow(Wn,2)*(1-Wn)*Ln[Gn]+Tt[Gn]*Math.pow(Wn,3)},Kt=Qe==="start"?Tt:ct,Yt=Kt[0],Dt=Kt[1],Pr=[or(.3,0),or(.3,1)],_r=Pr[0],An=Pr[1],Tr=Math.hypot(Yt-_r,Dt-An),ls=(Yt-_r)/Tr,Oe=(Dt-An)/Tr,Ne={arrow:30,bar:15,dot:15}[tt],Le=Ie.points.reduce(function(Wn,Gn,ya,Nu){var Ru=Gn[0],Zt=Gn[1],cs=ya>0?Nu[ya-1]:[0,0],bo=cs[0],xo=cs[1];return Wn+Math.hypot(Ru-bo,Zt-xo)},0),Ge=Math.min(Ne,Le/2),xt=Yt-ls*Ge,Et=Dt-Oe*Ge;if(tt==="dot")return[Yt,Dt,Math.hypot(Et-Dt,xt-Yt)];var gt={arrow:20,bar:90}[tt],Rt=We(xt,Et,Yt,Dt,-gt*Math.PI/180),tn=Rt[0],va=Rt[1],ss=We(xt,Et,Yt,Dt,gt*Math.PI/180);return[Yt,Dt,tn,va,ss[0],ss[1]]}(W,Z,J,ee);if(ae===null)return[];if(ee==="dot"){var De=ae[0],xe=ae[1],we=ae[2];return[t.circle(De,xe,we,Of(Of({},O),{},{fill:W.strokeColor,fillStyle:"solid"}))]}var ge=ae[0],Se=ae[1],te=ae[2],be=ae[3],je=ae[4],Ue=ae[5];return W.strokeStyle==="dotted"?O.strokeLineDash=[3,4]:delete O.strokeLineDash,[t.line(te,be,ge,Se,O),t.line(je,Ue,ge,Se,O)]};if(L!==null){var Y=K(e,n,"start",L);n.push.apply(n,Y)}H!==null&&(Y=K(e,n,"end",H),n.push.apply(n,Y))}break;case"text":n=[]}Il.set(e,n)}},Dy=function(e,t){var n=t?t.zoom:Iy.zoom,r=Pc.get(e),a=r&&r.canvasZoom!==n.value&&!(t!=null&&t.shouldCacheIgnoreZoom);if(!r||a){var s=function(c,d){var h=document.createElement("canvas"),m=h.getContext("2d"),u=0,v=0;if(vt(c)){var w=ot(c),y=w[0],k=w[1],O=w[2],I=w[3];h.width=wn(y,O)*window.devicePixelRatio*d.value+vr*d.value*2,h.height=wn(k,I)*window.devicePixelRatio*d.value+vr*d.value*2,u=c.x>y?Math.floor(wn(c.x,y))*window.devicePixelRatio*d.value:0,v=c.y>k?Math.floor(wn(c.y,k))*window.devicePixelRatio*d.value:0,m.translate(u,v)}else h.width=c.width*window.devicePixelRatio*d.value+vr*d.value*2,h.height=c.height*window.devicePixelRatio*d.value+vr*d.value*2;m.translate(vr*d.value,vr*d.value),m.scale(window.devicePixelRatio*d.value,window.devicePixelRatio*d.value);var C=No.canvas(h);return Mf(c,C,m),m.translate(-20*d.value,-20*d.value),m.scale(1/(window.devicePixelRatio*d.value),1/(window.devicePixelRatio*d.value)),{element:c,canvas:h,canvasZoom:d.value,canvasOffsetX:u,canvasOffsetY:v}}(e,n);return Pc.set(e,s),s}return r},Pf=function(e,t,n,r,a){var s=t.generator;switch(e.type){case"selection":n.translate(e.x+a.scrollX,e.y+a.scrollY);var c=n.fillStyle;n.fillStyle="rgba(0, 0, 255, 0.10)",n.fillRect(0,0,e.width,e.height),n.fillStyle=c,n.translate(-e.x-a.scrollX,-e.y-a.scrollY);break;case"rectangle":case"diamond":case"ellipse":case"line":case"draw":case"arrow":case"text":if(Tc(e,s),r)(function(I,C,L,U){var H=I.element,K=ot(H),Y=K[0],W=K[1],Z=K[2],J=K[3],ee=((Y+Z)/2+U.scrollX)*window.devicePixelRatio,ae=((W+J)/2+U.scrollY)*window.devicePixelRatio;L.scale(1/window.devicePixelRatio,1/window.devicePixelRatio),L.translate(ee,ae),L.rotate(H.angle),L.drawImage(I.canvas,-(Z-Y)/2*window.devicePixelRatio-vr*I.canvasZoom/I.canvasZoom,-(J-W)/2*window.devicePixelRatio-vr*I.canvasZoom/I.canvasZoom,I.canvas.width/I.canvasZoom,I.canvas.height/I.canvasZoom),L.rotate(-H.angle),L.translate(-ee,-ae),L.scale(window.devicePixelRatio,window.devicePixelRatio)})(Dy(e,a),0,n,a);else{var d=ot(e),h=d[0],m=d[1],u=d[2],v=d[3],w=(h+u)/2+a.scrollX,y=(m+v)/2+a.scrollY,k=(u-h)/2-(e.x-h),O=(v-m)/2-(e.y-m);n.translate(w,y),n.rotate(e.angle),n.translate(-k,-O),Mf(e,t,n),n.translate(k,O),n.rotate(-e.angle),n.translate(-w,-y)}break;default:throw new Error("Unimplemented type ".concat(e.type))}},_f=function(e){return typeof e=="string"},Ic=function(){function e(){this.callbacks=new Set,this.nonDeletedElements=[],this.elements=[],this.elementsMap=new Map}return e.mapElementToScene=function(t,n){_f(t)?this.sceneMapById.set(t,n):this.sceneMapByElement.set(t,n)},e.getScene=function(t){return _f(t)?this.sceneMapById.get(t)||null:this.sceneMapByElement.get(t)||null},e.prototype.getElementsIncludingDeleted=function(){return this.elements},e.prototype.getElements=function(){return this.nonDeletedElements},e.prototype.getElement=function(t){return this.elementsMap.get(t)||null},e.prototype.getNonDeletedElement=function(t){var n=this.getElement(t);return n&&$c(n)?n:null},e.prototype.getNonDeletedElements=function(t){var n=this,r=[];return t.forEach(function(a){var s=n.getNonDeletedElement(a);s!=null&&r.push(s)}),r},e.prototype.replaceAllElements=function(t){var n=this;this.elements=t,this.elementsMap.clear(),t.forEach(function(r){n.elementsMap.set(r.id,r),e.mapElementToScene(r,n)}),this.nonDeletedElements=Ae(this.elements),this.informMutation()},e.prototype.informMutation=function(){for(var t=0,n=Array.from(this.callbacks);t<n.length;t++)(0,n[t])()},e.prototype.addCallback=function(t){var n=this;if(this.callbacks.has(t))throw new Error;return this.callbacks.add(t),function(){if(!n.callbacks.has(t))throw new Error;n.callbacks.delete(t)}},e.prototype.destroy=function(){var t=this;e.sceneMapById.forEach(function(n,r){n===t&&e.sceneMapById.delete(r)}),this.callbacks.clear()},e}();Ic.sceneMapByElement=new WeakMap,Ic.sceneMapById=new Map;let Jt=Ic;var jy=new Gp(Date.now()),Vo=function(){return Math.floor(jy.next()*Math.pow(2,31))},so=function(){return af()};function Tf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tf(Object(n),!0).forEach(function(r){re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tf(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var _e=function(e,t){var n,r=!1,a=t.points;for(var s in a!==void 0&&(t=$i($i({},function(y){var k=y.map(function(I){return I[0]}),O=y.map(function(I){return I[1]});return{width:Math.max.apply(Math,k)-Math.min.apply(Math,k),height:Math.max.apply(Math,O)-Math.min.apply(Math,O)}}(a)),t)),t){var c=t[s];if(c!==void 0){if(e[s]===c&&(typeof c!="object"||c===null||s==="groupIds"))continue;if(s==="points"){var d=e[s],h=c;if(d.length===h.length){for(var m=!1,u=d.length;--u;){var v=d[u],w=h[u];if(v[0]!==w[0]||v[1]!==w[1]){m=!0;break}}if(!m)continue}}e[s]=c,r=!0}}r&&(t.height===void 0&&t.width===void 0&&a===void 0||_c(e),e.version++,e.versionNonce=Vo(),(n=Jt.getScene(e))===null||n===void 0||n.informMutation())},lt=function(e,t){var n=!1;for(var r in t){var a=t[r];if(a!==void 0){if(e[r]===a&&(typeof a!="object"||a===null||r==="groupIds"))continue;n=!0}}return n?$i($i($i({},e),t),{},{version:e.version+1,versionNonce:Vo()}):e},If=function(e){return e.version=e.version+1,e.versionNonce=Vo(),e},co=function(e){return vt(e)?e.points.length<2:e.width===0&&e.height===0},Lc=function(e,t,n){var r=Math.abs(t),a=Math.abs(n);if(e==="line"||e==="arrow"||e==="draw"){var s=Math.round(Math.atan(a/r)/j.ay)*j.ay;s===0?n=0:s===Math.PI/2?t=0:n=Math.round(r*Math.tan(s))*Math.sign(n)||n}else e!=="selection"&&(n=r*Math.sign(n));return{width:t,height:n}},Lf=function(e){var t={width:e.width,height:e.height,x:e.x,y:e.y};if(e.width<0){var n=Math.abs(e.width);t.width=n,t.x=e.x-n}if(e.height<0){var r=Math.abs(e.height);t.height=r,t.y=e.y-r}return t};function Ll(e,t){if(e==null)return{};var n,r,a=function(c,d){if(c==null)return{};var h,m,u={},v=Object.keys(c);for(m=0;m<v.length;m++)h=v[m],d.indexOf(h)>=0||(u[h]=c[h]);return u}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Af=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e};function Df(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function dn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Df(Object(n),!0).forEach(function(r){re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Df(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var jf=function(e,t,n){var r,a,s=n.filter(function(c){return c.groupIds.includes(e)});return s.length<2?t.selectedGroupIds[e]||t.editingGroupId===e?dn(dn({},t),{},{selectedGroupIds:dn(dn({},t.selectedGroupIds),{},(r={},r[e]=!1,r)),editingGroupId:null}):t:dn(dn({},t),{},{selectedGroupIds:dn(dn({},t.selectedGroupIds),{},(a={},a[e]=!0,a)),selectedElementIds:dn(dn({},t.selectedElementIds),Object.fromEntries(s.map(function(c){return[c.id,!0]})))})},zf=function(e,t){return Nf(e,t)!=null},Nf=function(e,t){return t.groupIds.filter(function(n){return n!==e.editingGroupId}).find(function(n){return e.selectedGroupIds[n]})},Uo=function(e){return Object.entries(e.selectedGroupIds).filter(function(t){return t[0],t[1]}).map(function(t){var n=t[0];return t[1],n})},yr=function(e,t){for(var n=dn({},e),r=0,a=Ze(t,e);r<a.length;r++){var s=a[r].groupIds;if(e.editingGroupId){var c=s.indexOf(e.editingGroupId);c>-1&&(s=s.slice(0,c))}if(s.length>0){var d=s[s.length-1];n=jf(d,n,t)}}return n},Qi=function(e,t){return e.groupIds.includes(t)},tr=function(e,t){return e.filter(function(n){return Qi(n,t)})},zy=function(e,t,n){var r=Af([],e),a=n?r.indexOf(n):-1,s=a>-1?a:r.length;return r.splice(s,0,t),r};function Rf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function qi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rf(Object(n),!0).forEach(function(r){re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rf(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Ac=function(e,t){var n,r,a=t.x,s=t.y,c=t.strokeColor,d=t.backgroundColor,h=t.fillStyle,m=t.strokeWidth,u=t.strokeStyle,v=t.roughness,w=t.opacity,y=t.width,k=y===void 0?0:y,O=t.height,I=O===void 0?0:O,C=t.angle,L=C===void 0?0:C,U=t.groupIds,H=U===void 0?[]:U,K=t.strokeSharpness,Y=t.boundElementIds,W=Y===void 0?null:Y,Z=Ll(t,["x","y","strokeColor","backgroundColor","fillStyle","strokeWidth","strokeStyle","roughness","opacity","width","height","angle","groupIds","strokeSharpness","boundElementIds"]);return{id:Z.id||so(),type:e,x:a,y:s,width:k,height:I,angle:L,strokeColor:c,backgroundColor:d,fillStyle:h,strokeWidth:m,strokeStyle:u,roughness:v,opacity:w,groupIds:H,strokeSharpness:K,seed:(n=Z.seed)!==null&&n!==void 0?n:Vo(),version:Z.version||1,versionNonce:(r=Z.versionNonce)!==null&&r!==void 0?r:0,isDeleted:!1,boundElementIds:W}},Al=function(e){return Ac(e.type,e)},Bf=function(e,t){return{x:e.textAlign==="center"?t.width/2:e.textAlign==="right"?t.width:0,y:e.verticalAlign==="middle"?t.height/2:0}},uo=function(e){var t=Zi(e.text,ao(e)),n=Bf(e,t);return lt(qi(qi({},Ac("text",e)),{},{text:e.text,fontSize:e.fontSize,fontFamily:e.fontFamily,textAlign:e.textAlign,verticalAlign:e.verticalAlign,x:e.x-n.x,y:e.y-n.y,width:t.width,height:t.height,baseline:t.baseline}),{})},Ny=function(e,t){var n=t.text,r=t.isDeleted;return lt(e,qi({text:n,isDeleted:r??e.isDeleted},function(a,s){var c,d,h,m=Zi(s,ao(a)),u=m.width,v=m.height,w=m.baseline,y=a.textAlign,k=a.verticalAlign;if(y==="center"&&k==="middle"){var O=Zi(a.text,ao(a)),I=Bf(a,{width:u-O.width,height:v-O.height});d=a.x-I.x,h=a.y-I.y}else{var C=ot(a),L=C[0],U=C[1],H=C[2],K=C[3],Y=Ro(a,u,v),W=(L-Y[0])/2,Z=(U-Y[1])/2,J=(H-Y[2])/2,ee=(K-Y[3])/2;d=(c=xc({s:!0,e:y==="center"||y==="left",w:y==="center"||y==="right"},a.x,a.y,a.angle,W,Z,J,ee))[0],h=c[1]}return{width:u,height:v,x:Number.isFinite(d)?d:a.x,y:Number.isFinite(h)?h:a.y,baseline:w}}(e,n)))},Wo=function(e){return qi(qi({},Ac(e.type,e)),{},{points:e.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:e.startArrowhead,endArrowhead:e.endArrowhead})},Go=function(e,t){if(t===void 0&&(t=0),e==null||typeof e!="object")return e;if(Object.prototype.toString.call(e)==="[object Object]"){var n=typeof e.constructor=="function"?Object.create(Object.getPrototypeOf(e)):{};for(var r in e)if(e.hasOwnProperty(r)){if(t===0&&(r==="shape"||r==="canvas"))continue;n[r]=Go(e[r],t+1)}return n}if(Array.isArray(e)){for(var a=e.length,s=new Array(a);a--;)s[a]=Go(e[a],t+1);return s}return e},Dc=function(e,t,n,r){var a=Go(n);return a.id=so(),a.seed=Vo(),a.groupIds=function(s,c,d){for(var h=Af([],s),m=c?s.indexOf(c):-1,u=m>-1?m:s.length,v=0;v<u;v++)h[v]=d(h[v]);return h}(a.groupIds,e,function(s){return t.has(s)||t.set(s,so()),t.get(s)}),r&&(a=Object.assign(a,r)),a},Hf={mouse:8,pen:16,touch:28},Ff={e:!0,s:!0,n:!0,w:!0},Ry={e:!0,s:!0,n:!0,w:!0},Vf={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},jc={e:!0,s:!0,n:!0,w:!0,ne:!0,sw:!0},nr=function(e,t,n,r,a,s,c){var d=We(e+n/2,t+r/2,a,s,c);return[d[0]-n/2,d[1]-r/2,n,r]},zc=function(e,t,n,r,a){var s=e[0],c=e[1],d=e[2],h=e[3];a===void 0&&(a={});var m=Hf[r],u=m/n.value,v=m/n.value,w=m/n.value,y=m/n.value,k=d-s,O=h-c,I=(s+d)/2,C=(c+h)/2,L=4/n.value,U=(m-8)/(2*n.value),H={nw:a.nw?void 0:nr(s-L-w+U,c-L-y+U,u,v,I,C,t),ne:a.ne?void 0:nr(d+L-U,c-L-y+U,u,v,I,C,t),sw:a.sw?void 0:nr(s-L-w+U,h+L-U,u,v,I,C,t),se:a.se?void 0:nr(d+L-U,h+L-U,u,v,I,C,t),rotation:a.rotation?void 0:nr(s+k/2-u/2,c-L-y+U-16/n.value,u,v,I,C,t)},K=5*Hf.mouse/n.value;return Math.abs(k)>K&&(a.n||(H.n=nr(s+k/2-u/2,c-L-y+U,u,v,I,C,t)),a.s||(H.s=nr(s+k/2-u/2,h+L-U,u,v,I,C,t))),Math.abs(O)>K&&(a.w||(H.w=nr(s-L-w+U,c+O/2-v/2,u,v,I,C,t)),a.e||(H.e=nr(d+L-U,c+O/2-v/2,u,v,I,C,t))),H},Nc=function(e,t,n){n===void 0&&(n="mouse");var r={};if(e.type==="arrow"||e.type==="line"||e.type==="draw"){if(e.points.length===2){var a=e.points[1];a[0]===0||a[1]===0?r=jc:a[0]>0&&a[1]<0?r=Vf:a[0]>0&&a[1]>0?r=jc:a[0]<0&&a[1]>0?r=Vf:a[0]<0&&a[1]<0&&(r=jc)}}else e.type==="text"&&(r=Ry);return zc(ot(e),e.angle,t,n,r)},Wt=function(e,t){return[0,0,0,0,t,e,1,0]},po=function(e,t){e===void 0&&(e=0),t===void 0&&(t=0);var n=[0,0,0,0,0,0,0,0];if(t<0||t>7)throw new Error("Expected `index` betwen 0 and 7, got `".concat(t,"`"));return e!==0&&(n[t]=e),n},Dl=function(e){return[e[0],e[1],e[2],e[3],-e[4],-e[5],-e[6],-e[7]]},Uf=function(e,t){return Rc(t)?[e[0]-t,e[1],e[2],e[3],e[4],e[5],e[6],e[7]]:[e[0]-t[0],e[1]-t[1],e[2]-t[2],e[3]-t[3],e[4]-t[4],e[5]-t[5],e[6]-t[6],e[7]-t[7]]},Ko=function(e,t){return Rc(t)?[e[0]*t,e[1]*t,e[2]*t,e[3]*t,e[4]*t,e[5]*t,e[6]*t,e[7]*t]:[By(e,t),t[1]*e[0]+t[0]*e[1]-t[4]*e[2]+t[5]*e[3]+t[2]*e[4]-t[3]*e[5]-t[7]*e[6]-t[6]*e[7],t[2]*e[0]+t[0]*e[2]-t[6]*e[3]+t[3]*e[6],t[3]*e[0]+t[6]*e[2]+t[0]*e[3]-t[2]*e[6],t[4]*e[0]+t[2]*e[1]-t[1]*e[2]+t[7]*e[3]+t[0]*e[4]+t[6]*e[5]-t[5]*e[6]+t[3]*e[7],t[5]*e[0]-t[3]*e[1]+t[7]*e[2]+t[1]*e[3]-t[6]*e[4]+t[0]*e[5]+t[4]*e[6]+t[2]*e[7],t[6]*e[0]+t[3]*e[2]-t[2]*e[3]+t[0]*e[6],t[7]*e[0]+t[6]*e[1]+t[5]*e[2]+t[4]*e[3]+t[3]*e[4]+t[2]*e[5]+t[1]*e[6]+t[0]*e[7]]},By=function(e,t){return t[0]*e[0]+t[2]*e[2]+t[3]*e[3]-t[6]*e[6]},Wf=function(e,t){return[Gf(e,t),e[1]*t[7]+e[4]*t[5]-e[5]*t[4]+e[7]*t[1],e[2]*t[7]-e[4]*t[6]+e[6]*t[4]+e[7]*t[2],e[3]*t[7]+e[5]*t[6]-e[6]*t[5]+e[7]*t[3],e[4]*t[7]+e[7]*t[4],e[5]*t[7]+e[7]*t[5],e[6]*t[7]+e[7]*t[6],e[7]*t[7]]},Gf=function(e,t){return e[0]*t[7]+e[1]*t[6]+e[2]*t[5]+e[3]*t[4]+e[4]*t[3]+e[5]*t[2]+e[6]*t[1]+e[7]*t[0]},Kf=function(e){return Math.sqrt(Math.abs(e[0]*e[0]-e[2]*e[2]-e[3]*e[3]+e[6]*e[6]))},jl=function(e){var t=Kf(e);if(t===0||t===1)return e;var n=e[6]<0?-1:1;return Ko(e,n/t)},Hy=function(e){var t=function(n){return Math.sqrt(Math.abs(n[7]*n[7]-n[5]*n[5]-n[4]*n[4]+n[1]*n[1]))}(e);return t===0||t===1?e:Ko(e,1/t)},Rc=function(e){return typeof e=="number"},Ji=(po(1,1),po(1,2),po(1,3),po(1,4),po(1,5),po(1,6),po(1,7),function(e,t,n){return jl([0,n,e,t,0,0,0,0])}),ea=function(e,t){return jl(Wf(t,e))},Fy=function(e,t){return n=e,[(r=t)[0]*n[0]+r[2]*n[2]+r[3]*n[3]-r[6]*n[6],r[1]*n[0]+r[0]*n[1]-r[4]*n[2]+r[5]*n[3]+r[2]*n[4]-r[3]*n[5]-r[7]*n[6]-r[6]*n[7],r[2]*n[0]+r[0]*n[2]-r[6]*n[3]+r[3]*n[6],r[3]*n[0]+r[6]*n[2]+r[0]*n[3]-r[2]*n[6],r[4]*n[0]+r[7]*n[3]+r[0]*n[4]+r[3]*n[7],r[5]*n[0]+r[7]*n[2]+r[0]*n[5]+r[2]*n[7],r[6]*n[0]+r[0]*n[6],r[7]*n[0]+r[0]*n[7]];var n,r},Yo=function(e){var t=e[0];return[0,0,0,0,e[1],t,1,0]},fo=function(e){return[e[5],e[4]]},Vy=function(e,t){return jl((n=e,[(r=t)[0]*n[0],r[1]*n[0]+r[0]*n[1],r[2]*n[0]+r[0]*n[2],r[3]*n[0]+r[0]*n[3],r[4]*n[0]+r[2]*n[1]-r[1]*n[2]+r[0]*n[4],r[5]*n[0]-r[3]*n[1]+r[1]*n[3]+r[0]*n[5],r[6]*n[0]+r[3]*n[2]-r[2]*n[3]+r[0]*n[6],r[7]*n[0]+r[6]*n[1]+r[5]*n[2]+r[4]*n[3]+r[3]*n[4]+r[2]*n[5]+r[1]*n[6]]));var n,r},Yf=function(e,t){return Kf(Wf(e,t))},rr=function(e,t){return Gf(e,t)},Zf=function(e){return[0,0,0,0,e[4],e[5],0,0]},Xf=function(e,t){return n=Ko(e,Math.sin(t/2)),r=Math.cos(t/2),Rc(r)?[n[0]+r,n[1],n[2],n[3],n[4],n[5],n[6],n[7]]:[n[0]+r[0],n[1]+r[1],n[2]+r[2],n[3]+r[3],n[4]+r[4],n[5]+r[5],n[6]+r[6],n[7]+r[7]];var n,r},Hn=function(e,t){return jl(Ko(Ko(e,t),Dl(e)))},$f=function(e,t,n,r){var a=10/t.zoom.value;return!Qf(e,t,[n,r])&&qf(e,[n,r],a)},Qf=function(e,t,n){var r=10/t.zoom.value,a=e.type==="text"?Wy:function(s){if(s.type==="arrow")return!1;var c=s.backgroundColor!=="transparent";return s.type==="line"||s.type==="draw"?c&&eo(s.points):c}(e)?Nl:Gy;return eh({element:e,point:n,threshold:r,check:a})},Uy=function(e,t){return e.selectedElementIds[t.id]},qf=function(e,t,n){var r=t[0],a=t[1],s=ot(e),c=s[0],d=s[1],h=s[2],m=s[3],u=We(r,a,(c+h)/2,(d+m)/2,-e.angle),v=u[0],w=u[1];return v>c-n&&v<h+n&&w>d-n&&w<m+n},Jf=function(e,t){var n=t.x,r=t.y,a=zl(e,e.width,e.height);return eh({element:e,point:[n,r],threshold:a,check:Ky})},zl=function(e,t,n){var r=(e.type==="diamond"?1/Math.sqrt(2):1)*Math.min(t,n);return Math.max(16,Math.min(.25*r,32))},eh=function(e){switch(e.element.type){case"rectangle":case"text":case"diamond":case"ellipse":var t=th(e.element,e.point);return e.check(t,e.threshold);case"arrow":case"line":case"draw":return Qy(e);case"selection":return console.warn("This should not happen, we need to investigate why it does."),!1}},th=function(e,t){switch(e.type){case"rectangle":case"text":return Yy(e,t);case"diamond":return Zy(e,t);case"ellipse":return Xy(e,t)}},Wy=function(e,t){return e<0},Nl=function(e,t){return e<t},Gy=function(e,t){return Math.abs(e)<t},Ky=function(e,t){return 0<=e&&e<t},Yy=function(e,t){var n=Rl(e,t),r=n[1],a=n[2],s=n[3];return Math.max(rr(r,Ji(0,1,-s)),rr(r,Ji(1,0,-a)))},Zy=function(e,t){var n=Rl(e,t),r=n[1],a=n[2],s=n[3],c=Ji(s,a,-s*a);return rr(r,c)},Xy=function(e,t){var n=$y(e,t),r=n[0],a=n[1];return-function(s){return Math.sign(s[1])}(a)*rr(r,a)},$y=function(e,t){var n=Rl(e,t),r=n[1],a=n[2],s=n[3],c=fo(r),d=c[0],h=c[1],m=.707,u=.707,v=a,w=s;[0,1,2,3].forEach(function(O){var I=v*m,C=w*u,L=(v*v-w*w)*Math.pow(m,3)/v,U=(w*w-v*v)*Math.pow(u,3)/w,H=I-L,K=C-U,Y=d-L,W=h-U,Z=Math.hypot(K,H),J=Math.hypot(W,Y);m=Math.min(1,Math.max(0,(Y*Z/J+L)/v)),u=Math.min(1,Math.max(0,(W*Z/J+U)/w));var ee=Math.hypot(u,m);m/=ee,u/=ee});var y,k=Wt(v*m,w*u);return[r,Fy(ea(r,y=k),y)]},Qy=function(e){var t=e.element,n=e.threshold;if(!Bn(t))return!1;var r=Rl(e.element,e.point),a=r[0],s=r[1],c=r[2],d=r[3],h=Ji(0,1,-d),m=Ji(1,0,-c);if(!Nl(rr(s,h),n)||!Nl(rr(s,m),n))return!1;var u=fo(a),v=u[0],w=u[1],y=Bn(t);return e.check===Nl&&y.some(function(k){return a2(k,v,w,t.strokeSharpness)})?!0:y.some(function(k){return l2(k,v,w,n)})},Rl=function(e,t){var n,r=Yo(t),a=ot(e),s=Hc(a),c=Xf(s,e.angle),d=Hn(c,r),h=function(y){return[0,0,0,0,Math.abs(y[4]),Math.abs(y[5]),1,0]}(Uf(d,Zf(s))),m=(n=e.x,[0,0,0,0,e.y,n,0,0]),u=Uf(d,m),v=a[0],w=a[1];return[u,h,(a[2]-v)/2,(a[3]-w)/2]},Bc=function(e){var t=ot(e),n=Hc(t),r=Xf(n,e.angle),a=Dl(function(s){return[1,0,0,0,-.5*s[5],.5*s[4],0,0]}(Zf(n)));return Ko(a,r)},Hc=function(e){var t=e[0],n=e[1],r=e[2],a=e[3];return Wt((t+r)/2,(n+a)/2)},qy=function(e,t,n){var r=Bc(e),a=Hn(r,Yo(t)),s=Hn(r,Yo(n)),c=ea(a,s),d=e.height/e.width,h=e.width/2,m=e.height/2,u=c[2],v=c[3],w=c[1],y=Math.abs(v),k=Math.abs(u);switch(e.type){case"rectangle":case"text":return w/(h*(k+d*y));case"diamond":return y<k?w/(k*h):w/(y*m);case"ellipse":return w/(h*Math.sqrt(Math.pow(u,2)+Math.pow(d,2)*Math.pow(v,2)))}},Jy=function(e,t,n,r){var a;switch(r===void 0&&(r=0),e.type){case"rectangle":case"text":case"diamond":var s=nh(e);a=s.flatMap(function(d,h){var m=[d,s[(h+1)%4]];return e2(t,t2(m,r))}).concat(s.flatMap(function(d){return r2(d,r,t)}));break;case"ellipse":a=n2(e,r,t)}if(a.length<2)return[];var c=a.sort(function(d,h){return Yf(d,n)-Yf(h,n)});return[c[0],c[c.length-1]]},nh=function(e,t){t===void 0&&(t=1);var n=t*e.width/2,r=t*e.height/2;switch(e.type){case"rectangle":case"text":return[Wt(n,r),Wt(n,-r),Wt(-n,-r),Wt(-n,r)];case"diamond":return[Wt(0,r),Wt(n,0),Wt(0,-r),Wt(-n,0)]}},e2=function(e,t){var n=t[0],r=t[1];return rr(n,e)*rr(r,e)>=0?[]:[Vy(e,ea(n,r))]},t2=function(e,t){var n=e[0],r=e[1],a=function(s,c){var d=.5*c;return[1,0,0,0,d*s[4],d*s[5],0,0]}(function(s,c){return Hy([0,0,0,0,c[4]-s[4],c[5]-s[5],0,0])}(n,r),t);return[Hn(a,n),Hn(a,r)]},n2=function(e,t,n){var r=e.width/2+t,a=e.height/2+t,s=n[2],c=n[3],d=n[1],h=r*r*s*s+a*a*c*c,m=h-d*d;if(h===0||m<=0)return[];var u=Math.sqrt(m),v=-r*r*s*d,w=-a*a*c*d;return[Wt((v+r*a*c*u)/h,(w-r*a*s*u)/h),Wt((v-r*a*c*u)/h,(w+r*a*s*u)/h)]},r2=function(e,t,n){if(t===0)return rr(n,e)===0?[e]:[];var r=n[2],a=n[3],s=n[1],c=fo(e),d=c[0],h=c[1],m=r*r+a*a,u=t*t*m-Math.pow(r*d+a*h+s,2);if(m===0||u<=0)return[];var v=Math.sqrt(u),w=d*a*a-h*r*a-r*s,y=h*r*r-d*r*a-a*s;return[Wt((w+a*v)/m,(y-r*v)/m),Wt((w-a*v)/m,(y+r*v)/m)]},o2=function(e,t,n){var r=Math.abs(t),a=e.width*r/2,s=e.height*r/2,c=Math.sign(t),d=fo(n),h=d[0],m=d[1],u=m===0?1e-4:m,v=Math.pow(h,2)*Math.pow(s,2)+Math.pow(u,2)*Math.pow(a,2),w=(-h*Math.pow(s,2)+c*u*Math.sqrt(Math.max(0,v-Math.pow(a,2)*Math.pow(s,2))))/v,y=(-w*h-1)/u,k=-Math.pow(a,2)*w/(Math.pow(y,2)*Math.pow(s,2)+Math.pow(w,2)*Math.pow(a,2));return Wt(k,(-w*k-1)/y)},i2=function(e,t,n){var r=Math.abs(t),a=Math.sign(t),s=nh(e,r),c=0,d=null;return s.forEach(function(h){var m=a*ea(n,h)[1];m>c&&(c=m,d=h)}),d},a2=function(e,t,n,r){for(var a=[],s=!1,c=0,d=to(e);c<d.length;c++){var h=d[c];h.op==="move"?(s=!s)&&a.push([h.data[0],h.data[1]]):h.op==="bcurveTo"&&s&&(a.push([h.data[0],h.data[1]]),a.push([h.data[2],h.data[3]]),a.push([h.data[4],h.data[5]]))}if(a.length>=4){if(r==="sharp")return sf(a,t,n);var m=Li(a,10,5);return sf(m,t,n)}return!1},l2=function(e,t,n,r){var a=to(e),s=[0,0];return a.some(function(c,d){var h=c.op,m=c.data;if(h==="move")s=m;else if(h==="bcurveTo"){var u=[m[0],m[1]],v=[m[2],m[3]],w=[m[4],m[5]],y=s;return s=w,function(k,O,I,C,L,U){for(var H=L[0],K=L[1],Y=function(ee,ae){return Math.pow(1-ee,3)*C[ae]+3*ee*Math.pow(1-ee,2)*I[ae]+3*Math.pow(ee,2)*(1-ee)*O[ae]+k[ae]*Math.pow(ee,3)},W=0;W<=1;){var Z=Y(W,0),J=Y(W,1);if(Math.sqrt(Math.pow(Z-H,2)+Math.pow(J-K,2))<U)return!0;W+=.01}return!1}(y,u,v,w,[t,n],r)}return!1})},Fc=function(e,t,n){return t>=e[0]&&t<=e[0]+e[2]&&n>=e[1]&&n<=e[1]+e[3]},rh=function(e,t,n,r,a,s){return e.reduce(function(c,d){if(c)return c;var h=function(m,u,v,w,y,k){if(!u.selectedElementIds[m.id])return!1;var O=Nc(m,y,k),I=O.rotation,C=Ll(O,["rotation"]);if(I&&Fc(I,v,w))return"rotation";var L=Object.keys(C).filter(function(U){var H=C[U];return!!H&&Fc(H,v,w)});return L.length>0&&L[0]}(d,t,n,r,a,s);return h?{element:d,transformHandleType:h}:null},null)},oh=function(e,t,n,r,a){var s=e[0],c=e[1],d=e[2],h=e[3],m=zc([s,c,d,h],0,r,a,Ff);return Object.keys(m).find(function(u){var v=m[u];return v&&Fc(v,t,n)})||!1},Vc=["ns","nesw","ew","nwse"],Uc=function(e){var t=e.element,n=e.transformHandleType,r=t&&Math.sign(t.height)*Math.sign(t.width)==-1,a=null;switch(n){case"n":case"s":a="ns";break;case"w":case"e":a="ew";break;case"nw":case"se":a=r?"nesw":"nwse";break;case"ne":case"sw":a=r?"nwse":"nesw";break;case"rotation":return"grab"}return a&&t&&(a=function(s,c){var d=Vc.indexOf(s);if(d>=0){var h=Math.round(c/(Math.PI/4));s=Vc[(d+h)%Vc.length]}return s}(a,t.angle)),a?"".concat(a,"-resize"):""},Bl=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e};function ih(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ih(Object(n),!0).forEach(function(r){re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ih(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var st=function(){function e(t,n){this.elementId=t.id,Jt.mapElementToScene(this.elementId,n),e.normalizePoints(t),this.activePointIndex=null,this.lastUncommittedPoint=null,this.isDragging=!1,this.pointerOffset={x:0,y:0},this.startBindingElement="keep",this.endBindingElement="keep"}return e.getElement=function(t){var n,r=(n=Jt.getScene(t))===null||n===void 0?void 0:n.getNonDeletedElement(t);return r||null},e.handlePointDragging=function(t,n,r,a,s){if(!t.editingLinearElement)return!1;var c=t.editingLinearElement,d=c.activePointIndex,h=c.elementId,m=c.isDragging,u=e.getElement(h);if(!u)return!1;if(d!=null&&d>-1){m===!1&&n({editingLinearElement:Gt(Gt({},c),{},{isDragging:!0})});var v=e.createPointAt(u,r-c.pointerOffset.x,a-c.pointerOffset.y,t.gridSize);return e.movePoint(u,d,v),cn(u)&&s(u,d===0?"start":"end"),!0}return!1},e.handlePointerUp=function(t,n,r){var a,s=n.elementId,c=n.activePointIndex,d=n.isDragging,h=e.getElement(s);if(!h)return n;var m={};if(d&&(c===0||c===h.points.length-1)){eo(h.points,r.zoom.value)&&e.movePoint(h,c,c===0?h.points[h.points.length-1]:h.points[0]);var u=ho(r)?mo(Fo(e.getPointAtIndexGlobalCoordinates(h,c)),Jt.getScene(h)):null;(a={})[c===0?"startBindingElement":"endBindingElement"]=u,m=a}return Gt(Gt(Gt({},n),m),{},{isDragging:!1,pointerOffset:{x:0,y:0}})},e.handlePointerDown=function(t,n,r,a,s){var c={didAddPoint:!1,hitElement:null};if(!n.editingLinearElement)return c;var d=n.editingLinearElement.elementId,h=e.getElement(d);if(!h)return c;if(t.altKey)return n.editingLinearElement.lastUncommittedPoint==null&&_e(h,{points:Bl(Bl([],h.points),[e.createPointAt(h,s.x,s.y,n.gridSize)])}),a.resumeRecording(),r({editingLinearElement:Gt(Gt({},n.editingLinearElement),{},{activePointIndex:h.points.length-1,lastUncommittedPoint:null,endBindingElement:mo(s,Jt.getScene(h))})}),c.didAddPoint=!0,c;var m=e.getPointIndexUnderCursor(h,n.zoom,s.x,s.y);if(m>-1)c.hitElement=h;else{var u=n.editingLinearElement,v=u.startBindingElement,w=u.endBindingElement;ho(n)&&cn(h)&&ta(h,v,w)}var y=ot(h),k=y[0],O=y[1],I=(k+y[2])/2,C=(O+y[3])/2,L=m>-1&&We(h.x+h.points[m][0],h.y+h.points[m][1],I,C,h.angle);return r({editingLinearElement:Gt(Gt({},n.editingLinearElement),{},{activePointIndex:m>-1?m:null,pointerOffset:L?{x:s.x-L[0],y:s.y-L[1]}:{x:0,y:0}})}),c},e.handlePointerMove=function(t,n,r,a,s){var c=a.elementId,d=a.lastUncommittedPoint,h=e.getElement(c);if(!h)return a;var m=h.points,u=m[m.length-1];if(!t.altKey)return u===d&&e.movePoint(h,m.length-1,"delete"),Gt(Gt({},a),{},{lastUncommittedPoint:null});var v=e.createPointAt(h,n-a.pointerOffset.x,r-a.pointerOffset.y,s);return u===d?e.movePoint(h,h.points.length-1,v):e.movePoint(h,"new",v),Gt(Gt({},a),{},{lastUncommittedPoint:h.points[h.points.length-1]})},e.getPointsGlobalCoordinates=function(t){var n=ot(t),r=n[0],a=n[1],s=n[2],c=n[3],d=(r+s)/2,h=(a+c)/2;return t.points.map(function(m){var u,v=t.x,w=t.y;return[v=(u=We(v+m[0],w+m[1],d,h,t.angle))[0],w=u[1]]})},e.getPointAtIndexGlobalCoordinates=function(t,n){var r=n<0?t.points.length+n:n,a=ot(t),s=a[0],c=a[1],d=(s+a[2])/2,h=(c+a[3])/2,m=t.points[r],u=t.x,v=t.y;return We(u+m[0],v+m[1],d,h,t.angle)},e.pointFromAbsoluteCoords=function(t,n){var r=ot(t),a=r[0],s=r[1],c=(a+r[2])/2,d=(s+r[3])/2,h=We(n[0],n[1],c,d,-t.angle),m=h[0],u=h[1];return[m-t.x,u-t.y]},e.getPointIndexUnderCursor=function(t,n,r,a){for(var s=this.getPointsGlobalCoordinates(t),c=s.length;--c>-1;){var d=s[c];if(Jr(r,a,d[0],d[1])*n.value<this.POINT_HANDLE_SIZE/2+1)return c}return-1},e.createPointAt=function(t,n,r,a){var s=Nn(n,r,a),c=ot(t),d=c[0],h=c[1],m=(d+c[2])/2,u=(h+c[3])/2,v=We(s[0],s[1],m,u,-t.angle),w=v[0],y=v[1];return[w-t.x,y-t.y]},e.normalizePoints=function(t){var n=t.points,r=n[0][0],a=n[0][1];_e(t,{points:n.map(function(s,c){return[s[0]-r,s[1]-a]}),x:t.x+r,y:t.y+a})},e.movePointByOffset=function(t,n,r){var a=t.points[n],s=a[0],c=a[1];e.movePoint(t,n,[s+r.x,c+r.y])},e.movePoint=function(t,n,r,a){var s,c=t.points,d=0,h=0;if(r==="delete"){if(n==="new")throw new Error("invalid args in movePoint");(s=c.slice()).splice(n,1),n===0&&(d=s[0][0],h=s[0][1],s=s.map(function(L,U){return U===0?[0,0]:[L[0]-d,L[1]-h]}))}else if(n==="new")s=Bl(Bl([],c),[r]);else{var m=r[0]-c[n][0],u=r[1]-c[n][1];s=c.map(function(L,U){return U===n?U===0?(d=m,h=u,L):(d=0,h=0,[L[0]+m,L[1]+u]):d||h?[L[0]-d,L[1]-h]:L})}var v=cf(t,s,t.strokeSharpness||"round"),w=cf(t,c,t.strokeSharpness||"round"),y=(v[0]+v[2])/2,k=(v[1]+v[3])/2,O=(w[0]+w[2])/2,I=(w[1]+w[3])/2,C=We(d,h,O-y,I-k,t.angle);_e(t,Gt(Gt({},a),{},{points:s,x:t.x+C[0],y:t.y+C[1]}))},e}();st.POINT_HANDLE_SIZE=20;var ah=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e};function lh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}var ho=function(e){return e.isBindingEnabled},ta=function(e,t,n){var r=new Set,a=new Set;sh(e,t,n,"start",r,a),sh(e,n,t,"end",r,a);var s=Array.from(a).filter(function(c){return!r.has(c)});Jt.getScene(e).getNonDeletedElements(s).forEach(function(c){var d;_e(c,{boundElementIds:(d=c.boundElementIds)===null||d===void 0?void 0:d.filter(function(h){return h!==e.id})})})},sh=function(e,t,n,r,a,s){if(t!=="keep")if(t!=null)n!=null&&(n==="keep"?Kc(e,t,r):r!=="start"&&n.id===t.id)||(Gc(e,t,r),a.add(t.id));else{var c=c2(e,r);c!=null&&s.add(c)}},ch=function(e){e.forEach(function(t){cn(t)?ta(t,Hl(t,"start"),Hl(t,"end")):Sl(t)&&s2(t)})},s2=function(e){mh(e).forEach(function(t){var n=t[0],r=t[1];return ta(n,r==="end"?"keep":e,r==="start"?"keep":e)})},Wc=function(e,t,n,r){t.startBoundElement!=null&&Gc(e,t.startBoundElement,"start");var a=mo(r,n);a==null||Kc(e,a,"end")||Gc(e,a,"end")},Gc=function(e,t,n){var r,a;_e(e,((r={})[n==="start"?"startBinding":"endBinding"]=function(s){for(var c=1;c<arguments.length;c++){var d=arguments[c]!=null?arguments[c]:{};c%2?lh(Object(d),!0).forEach(function(h){re(s,h,d[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(d)):lh(Object(d)).forEach(function(h){Object.defineProperty(s,h,Object.getOwnPropertyDescriptor(d,h))})}return s}({elementId:t.id},u2(e,t,n)),r)),_e(t,{boundElementIds:Array.from(new Set(ah(ah([],(a=t.boundElementIds)!==null&&a!==void 0?a:[]),[e.id])))})},Kc=function(e,t,n){var r=e[n==="start"?"endBinding":"startBinding"];return uh(e,r==null?void 0:r.elementId,t)},uh=function(e,t,n){return t===n.id&&e.points.length<3},dh=function(e){e.forEach(function(t){cn(t)&&ta(t,null,null)})},c2=function(e,t){var n,r=t==="start"?"startBinding":"endBinding",a=e[r];return a==null?null:(_e(e,((n={})[r]=null,n)),a.elementId)},mo=function(e,t){return E2(t.getElements(),function(n){return Sl(n)&&Jf(n,e)})},u2=function(e,t,n){var r=n==="start"?-1:1,a=r===-1?0:e.points.length-1,s=a-r,c=st.getPointAtIndexGlobalCoordinates(e,a),d=st.getPointAtIndexGlobalCoordinates(e,s);return{focus:qy(t,d,c),gap:Math.max(1,th(t,c))}},wr=function(e,t){var n,r=(n=e.boundElementIds)!==null&&n!==void 0?n:[];if(r.length!==0){var a=t??{},s=a.newSize,c=a.simultaneouslyUpdated,d=p2(c);Jt.getScene(e).getNonDeletedElements(r).forEach(function(h){var m=e;if(d2(h,m)){var u=fh(m,h.startBinding,s),v=fh(m,h.endBinding,s);d.has(h.id)?_e(h,{startBinding:u,endBinding:v}):(ph(h,"start",u,e),ph(h,"end",v,e))}})}},d2=function(e,t){var n,r;return((n=e.startBinding)===null||n===void 0?void 0:n.elementId)===t.id||((r=e.endBinding)===null||r===void 0?void 0:r.elementId)===t.id},p2=function(e){return new Set((e||[]).map(function(t){return t.id}))},ph=function(e,t,n,r){var a;if(!(n==null||n.elementId!==r.id&&e.points.length>2)){var s=Jt.getScene(e).getElement(n.elementId);if(s!=null){var c,d=t==="start"?-1:1,h=d===-1?0:e.points.length-1,m=h-d,u=st.getPointAtIndexGlobalCoordinates(e,m),v=function(y,k,O){if(k===0){var I=ot(y),C=Hc(I);return fo(C)}var L,U=Bc(y),H=Hn(U,Yo(O)),K=Dl(U);switch(y.type){case"rectangle":case"text":case"diamond":L=i2(y,k,H);break;case"ellipse":L=o2(y,k,H)}return fo(Hn(K,L))}(s,n.focus,u);if(n.gap===0)c=v;else{var w=function(y,k,O,I){I===void 0&&(I=0);var C=Bc(y),L=Hn(C,Yo(k)),U=Hn(C,Yo(O)),H=ea(L,U),K=Dl(C);return Jy(y,H,L,I).map(function(Y){return fo(Hn(K,Y))})}(s,u,v,n.gap);c=w.length===0?v:w[0]}st.movePoint(e,h,st.pointFromAbsoluteCoords(e,c),((a={})[t==="start"?"startBinding":"endBinding"]=n,a))}}},fh=function(e,t,n){if(t==null||n==null)return t;var r=t.gap,a=t.focus,s=t.elementId,c=n.width,d=n.height,h=e.width,m=e.height;return{elementId:s,gap:Math.max(1,Math.min(zl(e,c,d),r*(c<d?c/h:d/m))),focus:a}},f2=function(e){return[Hl(e,"start"),Hl(e,"end")].filter(function(t){return t!=null})},Hl=function(e,t){return mo(hh(e,t),Jt.getScene(e))},hh=function(e,t){var n=t==="start"?0:-1;return Fo(st.getPointAtIndexGlobalCoordinates(e,n))},mh=function(e){return Jt.getScene(e).getElements().map(function(t){if(!cn(t))return null;var n=gh(t,"start",e),r=gh(t,"end",e);return n||r?[t,n&&r?"both":n?"start":"end",e]:null}).filter(function(t){return t!=null})},gh=function(e,t,n){return e[t==="start"?"startBinding":"endBinding"]==null&&!Kc(e,n,t)&&Jf(n,hh(e,t))},Yc=function(e,t,n,r){var a=new Set,s=new Set,c=r==="duplicatesServeAsOld";t.forEach(function(d){var h=d.boundElementIds;if(h!=null&&h.length>0&&(h.forEach(function(u){c&&!n.has(u)&&a.add(u)}),s.add(n.get(d.id))),cn(d)){if(d.startBinding!=null){var m=d.startBinding.elementId;c&&!n.has(m)&&s.add(m)}d.endBinding!=null&&(m=d.endBinding.elementId,c&&!n.has(m)&&s.add(m)),d.startBinding==null&&d.endBinding==null||a.add(n.get(d.id))}}),e.filter(function(d){var h=d.id;return a.has(h)}).forEach(function(d){var h=d.startBinding,m=d.endBinding;_e(d,{startBinding:vh(h,n),endBinding:vh(m,n)})}),e.filter(function(d){var h=d.id;return s.has(h)}).forEach(function(d){var h=d.boundElementIds;h!=null&&h.length>0&&_e(d,{boundElementIds:h.map(function(m){var u;return(u=n.get(m))!==null&&u!==void 0?u:m})})})},vh=function(e,t){var n;if(e==null)return null;var r=e.elementId;return{focus:e.focus,gap:e.gap,elementId:(n=t.get(r))!==null&&n!==void 0?n:r}},Zc=function(e,t){var n=new Set(t.map(function(a){return a.id})),r=new Set;t.forEach(function(a){var s;Sl(a)&&((s=a.boundElementIds)===null||s===void 0||s.forEach(function(c){n.has(c)||r.add(c)}))}),e.filter(function(a){var s=a.id;return r.has(s)}).forEach(function(a){var s=a.startBinding,c=a.endBinding;_e(a,{startBinding:yh(s,n),endBinding:yh(c,n)})})},yh=function(e,t){return e==null||t.has(e.elementId)?null:e},na=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e};function wh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ra(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wh(Object(n),!0).forEach(function(r){re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var br=function(e){return e>=2*Math.PI?e-2*Math.PI:e},h2=function(e,t,n,r){var a=ot(e),s=a[0],c=a[1],d=(s+a[2])/2,h=(c+a[3])/2,m=5*Math.PI/2+Math.atan2(n-h,t-d);r&&(m+=j.ay/2,m-=m%j.ay),m=br(m),_e(e,{angle:m})},m2=function(e,t,n,r,a){var s,c=ot(e),d=c[0],h=c[1],m=c[2],u=c[3],v=We(r,a,(d+m)/2,(h+u)/2,-e.angle),w=v[0],y=v[1],k=t==="end"?[w-e.x,y-e.y]:[e.x+e.points[1][0]-w,e.y+e.points[1][1]-y],O=k[0],I=k[1];n&&(O=(s=function(H,K,Y,W){var Z=Lc.apply(void 0,na([H],We(K,Y,0,0,W)));return We(Z.width,Z.height,0,0,-W)}(e.type,O,I,e.angle))[0],I=s[1]);var C=xc(t==="end"?{s:!0,e:!0}:{n:!0,w:!0},e.x,e.y,e.angle,0,0,(e.points[1][0]-O)/2,(e.points[1][1]-I)/2),L=C[0],U=C[1];_e(e,{x:L,y:U,points:[[0,0],[O,I]]})},bh=function(e,t,n){return vt(e)?{points:Ol(0,t,Ol(1,n,e.points))}:{}},xh=function(e,t,n){var r=e.fontSize*(t/e.width);if(r<1)return null;var a=Zi(e.text,ao({fontSize:r,fontFamily:e.fontFamily}));return{size:r,baseline:a.baseline+(n-a.height)}},g2=function(e,t,n,r,a){var s,c=ot(e),d=c[0],h=c[1],m=c[2],u=c[3],v=We(r,a,(d+m)/2,(h+u)/2,-e.angle),w=v[0],y=v[1];switch(t){case"se":s=Math.max((w-d)/(m-d),(y-h)/(u-h));break;case"nw":s=Math.max((m-w)/(m-d),(u-y)/(u-h));break;case"ne":s=Math.max((w-d)/(m-d),(u-y)/(u-h));break;case"sw":s=Math.max((m-w)/(m-d),(y-h)/(u-h))}if(s>0){var k=e.width*s,O=e.height*s,I=xh(e,k,O);if(I===null)return;var C=Ro(e,k,O),L=(d-C[0])/2,U=(h-C[1])/2,H=(m-C[2])/2,K=(u-C[3])/2,Y=xc(function(J,ee){return{n:/^(n|ne|nw)$/.test(J)||ee&&/^(s|se|sw)$/.test(J),s:/^(s|se|sw)$/.test(J)||ee&&/^(n|ne|nw)$/.test(J),w:/^(w|nw|sw)$/.test(J)||ee&&/^(e|ne|se)$/.test(J),e:/^(e|ne|se)$/.test(J)||ee&&/^(w|nw|sw)$/.test(J)}}(t,n),e.x,e.y,e.angle,L,U,H,K),W=Y[0],Z=Y[1];_e(e,{fontSize:I.size,width:k,height:O,baseline:I.baseline,x:W,y:Z})}},Eh=function(e,t,n,r,a,s,c){var d,h,m=Ro(e,e.width,e.height),u=[m[0],m[1]],v=[m[2],m[3]],w=[((d=u)[0]+(h=v)[0])/2,(d[1]+h[1])/2],y=Cl([s,c],w,-e.angle),k=Ro(n,n.width,n.height),O=k[0],I=k[1],C=k[2]-O,L=k[3]-I,U=(v[0]-u[0])/C,H=(v[1]-u[1])/L;r.includes("e")&&(U=(y[0]-u[0])/C),r.includes("s")&&(H=(y[1]-u[1])/L),r.includes("w")&&(U=(v[0]-y[0])/C),r.includes("n")&&(H=(v[1]-y[1])/L);var K=e.width,Y=e.height,W=n.width*U,Z=n.height*H;if(a&&(W=2*W-K,Z=2*Z-Y),t){var J=Math.abs(W)/K,ee=Math.abs(Z)/Y;if(r.length===1&&(Z*=J,W*=ee),r.length===2){var ae=Math.max(J,ee);W=K*ae*Math.sign(W),Z=Y*ae*Math.sign(Z)}}var De=Ro(e,W,Z),xe=De[0],we=De[1],ge=De[2]-xe,Se=De[3]-we,te=na([],u);if(["n","w","nw"].includes(r)&&(te=[v[0]-Math.abs(ge),v[1]-Math.abs(Se)]),r==="ne"){var be=[u[0],v[1]];te=[be[0],be[1]-Math.abs(Se)]}if(r==="sw"){var je=[v[0],u[1]];te=[je[0]-Math.abs(ge),je[1]]}t&&(["s","n"].includes(r)&&(te[0]=w[0]-ge/2),["e","w"].includes(r)&&(te[1]=w[1]-Se/2)),W<0&&(r.includes("e")&&(te[0]-=Math.abs(ge)),r.includes("w")&&(te[0]+=Math.abs(ge))),Z<0&&(r.includes("s")&&(te[1]-=Math.abs(Se)),r.includes("n")&&(te[1]+=Math.abs(Se))),a&&(te[0]=w[0]-Math.abs(ge)/2,te[1]=w[1]-Math.abs(Se)/2);var Ue=e.angle,Ie=Cl(te,w,Ue),Re=[te[0]+Math.abs(ge)/2,te[1]+Math.abs(Se)/2],Qe=Cl(Re,w,Ue);te=Cl(Ie,Qe,-Ue);var tt=bh(e,W,Z),mt=na([],te);mt[0]+=e.x-xe,mt[1]+=e.y-we;var He=ra({width:Math.abs(W),height:Math.abs(Z),x:mt[0],y:mt[1]},tt);He.width!==0&&He.height!==0&&Number.isFinite(He.x)&&Number.isFinite(He.y)&&(wr(n,{newSize:{width:He.width,height:He.height}}),_e(n,He))},v2=function(e,t,n,r){var a,s,c=bt(e),d=c[0],h=c[1],m=c[2],u=c[3];switch(t){case"se":a=Math.max((n-d)/(m-d),(r-h)/(u-h)),s=function(w,y,k){var O=y[0],I=y[1],C=k[0],L=k[1];return{x:w.x+(O-d)*(a-1)+O-C,y:w.y+(I-h)*(a-1)+I-L}};break;case"nw":a=Math.max((m-n)/(m-d),(u-r)/(u-h)),s=function(w,y,k){var O=y[2],I=y[3],C=k[2],L=k[3];return{x:w.x-(m-O)*(a-1)+O-C,y:w.y-(u-I)*(a-1)+I-L}};break;case"ne":a=Math.max((n-d)/(m-d),(u-r)/(u-h)),s=function(w,y,k){var O=y[0],I=y[3],C=k[0],L=k[3];return{x:w.x+(O-d)*(a-1)+O-C,y:w.y-(u-I)*(a-1)+I-L}};break;case"sw":a=Math.max((m-n)/(m-d),(r-h)/(u-h)),s=function(w,y,k){var O=y[1],I=y[2],C=k[1],L=k[2];return{x:w.x-(m-I)*(a-1)+I-L,y:w.y+(O-h)*(a-1)+O-C}}}if(a>0){var v=e.reduce(function(w,y){if(!w)return w;var k=y.width*a,O=y.height*a,I={};if(y.type==="text"){var C=xh(y,k,O);if(C===null)return null;I={fontSize:C.size,baseline:C.baseline}}var L=ot(y),U=bh(y,k,O);wr(y,{newSize:{width:k,height:O},simultaneouslyUpdated:e});var H=Ro(ra(ra({},y),U),k,O),K=s(y,L,H),Y=K.x,W=K.y;return na(na([],w),[ra(ra({width:k,height:O,x:Y,y:W},U),I)])},[]);v&&e.forEach(function(w,y){_e(w,v[y])})}},y2=function(e,t,n,r,a,s,c){var d=5*Math.PI/2+Math.atan2(r-c,n-s);a&&(d+=j.ay/2,d-=d%j.ay),t.forEach(function(h,m){var u,v,w=ot(h),y=w[0],k=w[1],O=(y+w[2])/2,I=(k+w[3])/2,C=(u=(v=e.originalElements.get(h.id))===null||v===void 0?void 0:v.angle)!==null&&u!==void 0?u:h.angle,L=We(O,I,s,c,d+C-h.angle),U=L[0],H=L[1];_e(h,{x:h.x+(U-O),y:h.y+(H-I),angle:br(d+C)})})},kh=function(e,t,n,r,a,s,c,d,h,m){var u;h&&(c=(u=Lc(t,c,s<r?-d:d)).width,(d=u.height)<0&&(d=-d));var v=a<n?n-c:n,w=s<r?r-d:r;m&&(v=n-(c+=c)/2,w=r-(d+=d)/2),c!==0&&d!==0&&_e(e,{x:v,y:w,width:c,height:d})},Sh=function(e){return e.replace(/\t/g,"        ").replace(/\r?\n|\r/g,`
`)},w2=function(e,t,n,r,a){var s=r.zoom,c=r.offsetTop,d=r.offsetLeft,h=180*n/Math.PI,m=(e-2*d)*(s.value-1)/2,u=(t-2*c)*(s.value-1)/2;return e>a&&s.value!==1&&(m=a/2*(s.value-1)),"translate(".concat(m,"px, ").concat(u,"px) scale(").concat(s.value,") rotate(").concat(h,"deg)")},Fl=function(e){var t=Zi(e.text,ao(e));_e(e,{width:t.width,height:t.height,baseline:t.baseline})},Xc=function(e,t){return Boolean(!e.viewModeEnabled&&(e.editingElement||Ze(t,e).length||e.elementType!=="selection"))};function Ch(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Oh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ch(Object(n),!0).forEach(function(r){re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ch(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Zo=function(e){return e.reduce(function(t,n){return t[n.id]=n,t},{})},b2=function(e){return e.reduce(function(t,n){return t+n.version},0)},Ae=function(e){return e.filter(function(t){return!t.isDeleted})},$c=function(e){return!e.isDeleted},x2=function(e){return Ae(e).map(function(t){return qr(t.type)?Oh(Oh({},t),{},{lastCommittedPoint:null}):t})},Mh=function(e){return x2(e)},Ph=function(e,t,n){var r=[e.horizontal,e.vertical].map(function(c){return c!=null&&c.x<=t&&t<=c.x+c.width&&c.y<=n&&n<=c.y+c.height}),a=r[0],s=r[1];return{isOverEither:a||s,isOverHorizontal:a,isOverVertical:s}},Lt=function(e,t){return e.some(function(n){return t.selectedElementIds[n.id]})},Ze=function(e,t){return e.filter(function(n){return t.selectedElementIds[n.id]})},Qc=function(e,t){return t.editingElement?[t.editingElement]:Ze(e,t)},qc=function(e){var t=e.scenePoint,n=e.viewportDimensions,r=e.zoom;return{scrollX:n.width/2*(1/r.value)-t.x-r.translation.x*(1/r.value),scrollY:n.height/2*(1/r.value)-t.y-r.translation.y*(1/r.value)}},oa=function(e,t,n){var r;if(!(e=function(m){return m.filter(function(u){return!u.isDeleted&&!co(u)})}(e)).length)return{scrollX:0,scrollY:0};var a=bt(e),s=a[0],c=a[1],d=a[2],h=a[3];return function(m,u,v){var w=v[0],y=v[1],k=v[2],O=v[3],I=Xi({sceneX:w,sceneY:y},m),C=I.x,L=I.y,U=Xi({sceneX:k,sceneY:O},m),H=U.x,K=U.y;return H-C>m.width||K-L>m.height}(t,0,[s,c,d,h])&&(s=(r=function(m,u){if(!m.length)return[0,0,0,0];var v=1/0,w=m[0];return m.forEach(function(y){var k=Fi(y),O=k[0],I=k[1],C=k[2],L=k[3],U=Jr((O+C)/2,(I+L)/2,u.x,u.y);U<v&&(v=U,w=y)}),Fi(w)}(e,bn({clientX:t.scrollX,clientY:t.scrollY},t)))[0],c=r[1],d=r[2],h=r[3]),qc({scenePoint:{x:(s+d)/2,y:(c+h)/2},viewportDimensions:{width:t.width,height:t.height},zoom:t.zoom})},Vl=function(e){return e==="rectangle"||e==="ellipse"||e==="diamond"||e==="draw"||e==="line"},_h=function(e){return e==="rectangle"||e==="ellipse"||e==="diamond"||e==="arrow"||e==="draw"||e==="line"},Jc=function(e){return e==="rectangle"||e==="arrow"||e==="draw"||e==="line"},Th=function(e){return e==="text"},Ul=function(e){return e==="arrow"},E2=function(e,t){for(var n=null,r=e.length-1;r>=0;--r){var a=e[r];if(!a.isDeleted&&t(a)){n=a;break}}return n},go=function(e,t,n,r){return r===void 0&&(r={x:0,y:0}),{value:e,translation:{x:r.x-n.left-(r.x-n.left-t.translation.x)*(e/t.value),y:r.y-n.top-(r.y-n.top-t.translation.y)*(e/t.value)}}},ia=function(e){var t=parseFloat(e.toFixed(2));return Math.max(.1,Math.min(t,10))},Ve=(E(5422),f().forwardRef(function(e,t){var n=f().useRef(null);f().useImperativeHandle(t,function(){return n.current});var r="ToolIcon_size_".concat(e.size||"m");return e.type==="button"?f().createElement("button",{className:Je("ToolIcon_type_button",r,e.className,e.visible&&!e.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!e.hidden,"ToolIcon--selected":e.selected}),"data-testid":e["data-testid"],hidden:e.hidden,title:e.title,"aria-label":e["aria-label"],type:"button",onClick:e.onClick,ref:n},f().createElement("div",{className:"ToolIcon__icon","aria-hidden":"true"},e.icon||e.label,e.keyBindingLabel&&f().createElement("span",{className:"ToolIcon__keybinding"},e.keyBindingLabel)),e.showAriaLabel&&f().createElement("div",{className:"ToolIcon__label"},e["aria-label"]),e.children):f().createElement("label",{className:Je("ToolIcon",e.className),title:e.title},f().createElement("input",{className:"ToolIcon_type_radio ".concat(r),type:"radio",name:e.name,"aria-label":e["aria-label"],"aria-keyshortcuts":e["aria-keyshortcuts"],"data-testid":e["data-testid"],id:e.id,onChange:e.onChange,checked:e.checked,ref:n}),f().createElement("div",{className:"ToolIcon__icon"},e.icon,e.keyBindingLabel&&f().createElement("span",{className:"ToolIcon__keybinding"},e.keyBindingLabel)))}));Ve.defaultProps={visible:!0,className:""};var pt=function(e){return e==="light"?ze.$y[4]:ze.$y[9]},se=function(e){return e==="light"?ze.Sn:ze.MA[4]},Fn=function(e){return e==="light"?ze.ix:"#1e1e1e"},ce=function(e,t){t===void 0&&(t=512);var n=typeof t=="number"?{width:t}:t,r=n.width,a=r===void 0?512:r,s=n.height,c=s===void 0?a:s,d=n.mirror,h=n.style;return f().createElement("svg",{"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(a," ").concat(c),className:Je({"rtl-mirror":d}),style:h},typeof e=="string"?f().createElement("path",{fill:"currentColor",d:e}):e)},k2=ce("M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z",{mirror:!0}),S2=ce("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),C2=ce("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",{width:448,height:512}),Ih=ce("M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z",{width:576,height:512,mirror:!0}),O2=ce("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",{width:384,height:512}),eu=ce("M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z",{width:448,height:512}),M2=ce("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"),Lh=ce("M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z",{width:576,height:512,mirror:!0}),P2=ce("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),_2=ce("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),T2=ce("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"),I2=ce("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),L2=ce("M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z",{mirror:!0}),A2=ce("M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z",{mirror:!0}),Ah=ce("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",{mirror:!0}),D2=(ce("M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z",{width:24,height:24}),ce("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",{width:24,height:24}),ce(f().createElement(f().Fragment,null,f().createElement("path",{stroke:"currentColor",fill:"currentColor",d:"M40 5.6v6.1l-4.1.7c-8.9 1.4-16.5 6.9-20.6 15C13 32 10.9 43 12.4 43c.4 0 2.4-1.3 4.4-3 5-3.9 12.1-7 18.2-7.7l5-.6v12.8l11.2-11.3L62.5 22 51.2 10.8 40-.5v6.1zm10.2 22.6L44 34.5v-6.8l-6.9.6c-3.9.3-9.8 1.7-13.2 3.1-3.5 1.4-6.5 2.4-6.7 2.2-.9-1 3-7.5 6.4-10.8C28 18.6 34.4 16 40.1 16c3.7 0 3.9-.1 3.9-3.2V9.5l6.2 6.3 6.3 6.2-6.3 6.2z"}),f().createElement("path",{stroke:"currentColor",fill:"currentColor",d:"M0 36v20h48v-6.2c0-6 0-6.1-2-4.3-1.1 1-2 2.9-2 4.2V52H4V34c0-17.3-.1-18-2-18s-2 .7-2 20z"})),{width:64,height:64}),ce(f().createElement("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024})),j2=f().memo(function(e){var t=e.theme;return ce(f().createElement(f().Fragment,null,f().createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H16v8H8v4.444C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:se(t),stroke:se(t),strokeWidth:"2"}),f().createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:pt(t),stroke:pt(t),strokeWidth:"2"})),{width:24,mirror:!0})}),z2=f().memo(function(e){var t=e.theme;return ce(f().createElement(f().Fragment,null,f().createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:pt(t),stroke:pt(t),strokeWidth:"2"}),f().createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H9.556C8.696 8 8 8.697 8 9.556v10.888C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:se(t),stroke:se(t),strokeWidth:"2"})),{width:24,mirror:!0})}),N2=f().memo(function(e){var t=e.theme;return ce(f().createElement(f().Fragment,null,f().createElement("path",{d:"M13 21a1 1 0 001 1h7a1 1 0 001-1v-7a1 1 0 00-1-1h-3v5h-5v3zM11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h3V6h5V3z",fill:se(t),stroke:se(t),strokeWidth:"2"}),f().createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:pt(t),stroke:pt(t),strokeWidth:"2"})),{width:24,mirror:!0})}),R2=f().memo(function(e){var t=e.theme;return ce(f().createElement(f().Fragment,null,f().createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:pt(t),stroke:pt(t),strokeLinejoin:"round",strokeWidth:"2"}),f().createElement("path",{d:"M11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h8V3zM22 14a1 1 0 00-1-1h-7a1 1 0 00-1 1v7a1 1 0 001 1h8v-8z",fill:se(t),stroke:se(t),strokeLinejoin:"round",strokeWidth:"2"})),{width:24,mirror:!0})}),B2=f().memo(function(e){var t=e.theme;return ce(f().createElement(f().Fragment,null,f().createElement("path",{d:"M 2,5 H 22",fill:se(t),stroke:se(t),strokeWidth:"2",strokeLinecap:"round"}),f().createElement("path",{d:"M 6,7 C 5.446,7 5,7.446 5,8 v 9.999992 c 0,0.554 0.446,1 1,1 h 3.0000001 c 0.554,0 0.9999999,-0.446 0.9999999,-1 V 8 C 10,7.446 9.5540001,7 9.0000001,7 Z m 9,0 c -0.554,0 -1,0.446 -1,1 v 5.999992 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 V 8 C 19,7.446 18.554,7 18,7 Z",fill:pt(t),stroke:pt(t),strokeWidth:"2"})),{width:24,mirror:!0})}),H2=f().memo(function(e){var t=e.theme;return ce(f().createElement(f().Fragment,null,f().createElement("path",{d:"M 2,19 H 22",fill:se(t),stroke:se(t),strokeWidth:"2",strokeLinecap:"round"}),f().createElement("path",{d:"m 6,16.999992 c -0.554,0 -1,-0.446 -1,-1 V 6 C 5,5.446 5.446,5 6,5 H 9.0000001 C 9.5540001,5 10,5.446 10,6 v 9.999992 c 0,0.554 -0.4459999,1 -0.9999999,1 z m 9,0 c -0.554,0 -1,-0.446 -1,-1 V 10 c 0,-0.554 0.446,-1 1,-1 h 3 c 0.554,0 1,0.446 1,1 v 5.999992 c 0,0.554 -0.446,1 -1,1 z",fill:pt(t),stroke:pt(t),strokeWidth:"2"})),{width:24,mirror:!0})}),F2=f().memo(function(e){var t=e.theme;return ce(f().createElement(f().Fragment,null,f().createElement("path",{d:"M 5,2 V 22",fill:se(t),stroke:se(t),strokeWidth:"2",strokeLinecap:"round"}),f().createElement("path",{d:"m 7.000004,5.999996 c 0,-0.554 0.446,-1 1,-1 h 9.999992 c 0.554,0 1,0.446 1,1 v 3.0000001 c 0,0.554 -0.446,0.9999999 -1,0.9999999 H 8.000004 c -0.554,0 -1,-0.4459999 -1,-0.9999999 z m 0,9 c 0,-0.554 0.446,-1 1,-1 h 5.999992 c 0.554,0 1,0.446 1,1 v 3 c 0,0.554 -0.446,1 -1,1 H 8.000004 c -0.554,0 -1,-0.446 -1,-1 z",fill:pt(t),stroke:pt(t),strokeWidth:"2"})),{width:24})}),V2=f().memo(function(e){var t=e.theme;return ce(f().createElement(f().Fragment,null,f().createElement("path",{d:"M 19,2 V 22",fill:se(t),stroke:se(t),strokeWidth:"2",strokeLinecap:"round"}),f().createElement("path",{d:"m 16.999996,5.999996 c 0,-0.554 -0.446,-1 -1,-1 H 6.000004 c -0.554,0 -1,0.446 -1,1 v 3.0000001 c 0,0.554 0.446,0.9999999 1,0.9999999 h 9.999992 c 0.554,0 1,-0.4459999 1,-0.9999999 z m 0,9 c 0,-0.554 -0.446,-1 -1,-1 h -5.999992 c -0.554,0 -1,0.446 -1,1 v 3 c 0,0.554 0.446,1 1,1 h 5.999992 c 0.554,0 1,-0.446 1,-1 z",fill:pt(t),stroke:pt(t),strokeWidth:"2"})),{width:24})}),U2=f().memo(function(e){var t=e.theme;return ce(f().createElement(f().Fragment,null,f().createElement("path",{d:"M5 5V19Z",fill:"black"}),f().createElement("path",{d:"M19 5V19M5 5V19",stroke:se(t),strokeWidth:"2",strokeLinecap:"round"}),f().createElement("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:pt(t),stroke:pt(t),strokeWidth:"2"})),{width:24})}),W2=f().memo(function(e){var t=e.theme;return ce(f().createElement(f().Fragment,null,f().createElement("path",{d:"M5 5L19 5M5 19H19",fill:se(t),stroke:se(t),strokeWidth:"2",strokeLinecap:"round"}),f().createElement("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:pt(t),stroke:pt(t),strokeWidth:"2"})),{width:24})}),G2=f().memo(function(e){var t=e.theme;return ce(f().createElement(f().Fragment,null,f().createElement("path",{d:"m 5.000004,16.999996 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -10 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z m 9,-2 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -6 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z",fill:pt(t),stroke:pt(t),strokeWidth:"2"}),f().createElement("path",{d:"M 2,12 H 22",fill:se(t),stroke:se(t),strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})),{width:24,mirror:!0})}),K2=f().memo(function(e){var t=e.theme;return ce(f().createElement(f().Fragment,null,f().createElement("path",{d:"M 7 5 C 6.446 5 6 5.446 6 6 L 6 9 C 6 9.554 6.446 10 7 10 L 17 10 C 17.554 10 18 9.554 18 9 L 18 6 C 18 5.446 17.554 5 17 5 L 7 5 z M 9 14 C 8.446 14 8 14.446 8 15 L 8 18 C 8 18.554 8.446 19 9 19 L 15 19 C 15.554 19 16 18.554 16 18 L 16 15 C 16 14.446 15.554 14 15 14 L 9 14 z ",fill:pt(t),stroke:pt(t),strokeWidth:"2"}),f().createElement("path",{d:"M 12,2 V 22",fill:se(t),stroke:se(t),strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})),{width:24})}),Y2=ce("M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z",{width:640,height:512,mirror:!0}),tu=(ce("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),ce("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),ce("M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",{width:352,height:512})),Z2=ce("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),X2=ce("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",{mirror:!0}),$2=ce("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),Q2=f().memo(function(e){var t=e.theme;return ce(f().createElement(f().Fragment,null,f().createElement("path",{d:"M25 26H111V111H25",fill:se(t)}),f().createElement("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:se(t),strokeWidth:"2"}),f().createElement("path",{d:"M100 100H160V160H100",fill:se(t)}),f().createElement("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:se(t),strokeWidth:"2"}),f().createElement("rect",{x:"2.5",y:"2.5",width:"30",height:"30",fill:Fn(t),stroke:se(t),strokeWidth:"6"}),f().createElement("rect",{x:"2.5",y:"149.5",width:"30",height:"30",fill:Fn(t),stroke:se(t),strokeWidth:"6"}),f().createElement("rect",{x:"147.5",y:"149.5",width:"30",height:"30",fill:Fn(t),stroke:se(t),strokeWidth:"6"}),f().createElement("rect",{x:"147.5",y:"2.5",width:"30",height:"30",fill:Fn(t),stroke:se(t),strokeWidth:"6"})),{width:182,height:182,mirror:!0})}),q2=f().memo(function(e){var t=e.theme;return ce(f().createElement(f().Fragment,null,f().createElement("path",{d:"M25 26H111V111H25",fill:se(t)}),f().createElement("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:se(t),strokeWidth:"2"}),f().createElement("path",{d:"M100 100H160V160H100",fill:se(t)}),f().createElement("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:se(t),strokeWidth:"2"}),f().createElement("rect",{x:"2.5",y:"2.5",width:"30",height:"30",fill:Fn(t),stroke:se(t),strokeWidth:"6"}),f().createElement("rect",{x:"78.5",y:"149.5",width:"30",height:"30",fill:Fn(t),stroke:se(t),strokeWidth:"6"}),f().createElement("rect",{x:"147.5",y:"149.5",width:"30",height:"30",fill:Fn(t),stroke:se(t),strokeWidth:"6"}),f().createElement("rect",{x:"147.5",y:"78.5",width:"30",height:"30",fill:Fn(t),stroke:se(t),strokeWidth:"6"}),f().createElement("rect",{x:"105.5",y:"2.5",width:"30",height:"30",fill:Fn(t),stroke:se(t),strokeWidth:"6"}),f().createElement("rect",{x:"2.5",y:"102.5",width:"30",height:"30",fill:Fn(t),stroke:se(t),strokeWidth:"6"})),{width:182,height:182,mirror:!0})}),J2=f().memo(function(e){var t=e.theme;return ce(f().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z",fill:se(t)}),{width:40,height:20})}),ew=f().memo(function(e){var t=e.theme;return ce(f().createElement("g",{fill:se(t),fillRule:"evenodd",clipRule:"evenodd"},f().createElement("path",{d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z"}),f().createElement("path",{d:"M14.0001 18L3.00006 4.00002L4.5727 2.76438L15.5727 16.7644L14.0001 18ZM25.0001 18L14.0001 4.00002L15.5727 2.76438L26.5727 16.7644L25.0001 18ZM36.0001 18L25.0001 4.00002L26.5727 2.76438L37.5727 16.7644L36.0001 18Z"})),{width:40,height:20})}),tw=f().memo(function(e){var t=e.theme;return ce(f().createElement("path",{d:"M2 2H38V18H2V2Z",fill:se(t)}),{width:40,height:20})}),nu=f().memo(function(e){var t=e.theme,n=e.strokeWidth;return ce(f().createElement("path",{d:"M6 10H34",stroke:se(t),strokeWidth:n,fill:"none"}),{width:40,height:20})}),nw=f().memo(function(e){var t=e.theme;return ce(f().createElement("path",{d:"M6 10H34",stroke:se(t),strokeWidth:2,fill:"none"}),{width:40,height:20})}),rw=f().memo(function(e){var t=e.theme;return ce(f().createElement("path",{d:"M6 10H34",stroke:se(t),strokeWidth:2.5,strokeDasharray:"10, 8",fill:"none"}),{width:40,height:20})}),ow=f().memo(function(e){var t=e.theme;return ce(f().createElement("path",{d:"M6 10H34",stroke:se(t),strokeWidth:2.5,strokeDasharray:"4, 4",fill:"none"}),{width:40,height:20})}),iw=f().memo(function(e){var t=e.theme;return ce(f().createElement("path",{d:"M3.00098 16.1691C6.28774 13.9744 19.6399 2.8905 22.7215 3.00082C25.8041 3.11113 19.1158 15.5488 21.4962 16.8309C23.8757 18.1131 34.4155 11.7148 37.0001 10.6919",stroke:se(t),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),aw=f().memo(function(e){var t=e.theme;return ce(f().createElement("path",{d:"M3 17C6.68158 14.8752 16.1296 9.09849 22.0648 6.54922C28 3.99995 22.2896 13.3209 25 14C27.7104 14.6791 36.3757 9.6471 36.3757 9.6471M6.40706 15C13 11.1918 20.0468 1.51045 23.0234 3.0052C26 4.49995 20.457 12.8659 22.7285 16.4329C25 20 36.3757 13 36.3757 13",stroke:se(t),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),lw=f().memo(function(e){var t=e.theme;return ce(f().createElement("path",{d:"M3 15.6468C6.93692 13.5378 22.5544 2.81528 26.6206 3.00242C30.6877 3.18956 25.6708 15.3346 27.4009 16.7705C29.1309 18.2055 35.4001 12.4762 37 11.6177M3.97143 10.4917C6.61158 9.24563 16.3706 2.61886 19.8104 3.01724C23.2522 3.41472 22.0773 12.2013 24.6181 12.8783C27.1598 13.5536 33.3179 8.04068 35.0571 7.07244",stroke:se(t),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),sw=f().memo(function(e){var t=e.theme;return ce(f().createElement("path",{d:"M10 17L10 5L35 5",stroke:se(t),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),cw=f().memo(function(e){var t=e.theme;return ce(f().createElement("path",{d:"M10 17V15C10 8 13 5 21 5L33.5 5",stroke:se(t),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),Dh=f().memo(function(e){var t=e.theme;return ce(f().createElement("path",{d:"M6 10H34",stroke:se(t),strokeWidth:2,fill:"none"}),{width:40,height:20})}),jh=f().memo(function(e){var t=e.theme,n=e.flip,r=n!==void 0&&n;return ce(f().createElement("g",{transform:r?"translate(40, 0) scale(-1, 1)":"",stroke:se(t),strokeWidth:2,fill:"none"},f().createElement("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),f().createElement("path",{d:"M27.5 5L34.5 10L27.5 15"})),{width:40,height:20})}),zh=f().memo(function(e){var t=e.theme,n=e.flip,r=n!==void 0&&n;return ce(f().createElement("g",{stroke:se(t),fill:se(t),transform:r?"translate(40, 0) scale(-1, 1)":""},f().createElement("path",{d:"M32 10L6 10",strokeWidth:2}),f().createElement("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})),{width:40,height:20})}),Nh=f().memo(function(e){var t=e.theme,n=e.flip,r=n!==void 0&&n;return ce(f().createElement("g",{transform:r?"translate(40, 0) scale(-1, 1)":""},f().createElement("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:se(t),strokeWidth:2,fill:"none"})),{width:40,height:20})}),uw=f().memo(function(e){var t=e.theme;return ce(f().createElement("path",{fill:se(t),d:"M 0 69.092 L 0 55.03 A 124.24 124.24 0 0 0 4.706 57.02 Q 6.826 57.863 8.708 58.5 A 53.466 53.466 0 0 0 12.231 59.571 Q 17.236 60.889 21.387 60.889 A 20.909 20.909 0 0 0 24.265 60.704 Q 25.719 60.502 26.903 60.077 A 8.649 8.649 0 0 0 29.028 58.985 Q 31.689 57.08 31.689 53.321 Q 31.689 51.221 30.518 49.585 A 10.126 10.126 0 0 0 29.282 48.177 Q 28.352 47.287 27.075 46.436 A 23.719 23.719 0 0 0 25.752 45.627 Q 23.774 44.492 20.176 42.735 A 254.44 254.44 0 0 0 17.822 41.602 Q 11.503 38.631 8.236 35.888 A 19.742 19.742 0 0 1 8.008 35.694 A 22.18 22.18 0 0 1 2.783 29.102 Q 0.83 25.342 0.83 20.313 A 22.471 22.471 0 0 1 1.733 13.778 A 17.283 17.283 0 0 1 7.251 5.42 A 21.486 21.486 0 0 1 15.177 1.272 Q 18.361 0.338 22.166 0.09 A 43.573 43.573 0 0 1 25 0 A 42.399 42.399 0 0 1 34.349 1.01 A 39.075 39.075 0 0 1 35.62 1.319 A 67.407 67.407 0 0 1 42.108 3.382 A 83.357 83.357 0 0 1 46.191 5.03 L 41.309 16.797 Q 35.596 14.453 31.86 13.526 A 30.762 30.762 0 0 0 25.417 12.612 A 28.337 28.337 0 0 0 24.512 12.598 A 14.846 14.846 0 0 0 22.022 12.793 Q 19.498 13.224 17.92 14.6 Q 15.625 16.602 15.625 19.824 Q 15.625 21.826 16.553 23.316 Q 17.48 24.805 19.507 26.197 A 18.343 18.343 0 0 0 20.659 26.912 Q 22.596 28.035 26.516 29.953 A 299.99 299.99 0 0 0 29.102 31.201 Q 37.91 35.412 41.841 39.642 A 16.553 16.553 0 0 1 42.822 40.796 A 17.675 17.675 0 0 1 46.301 49.233 A 23.517 23.517 0 0 1 46.533 52.588 A 21.581 21.581 0 0 1 45.471 59.515 A 17.733 17.733 0 0 1 39.575 67.823 Q 33.745 72.486 24.094 73.243 A 49.683 49.683 0 0 1 20.215 73.389 A 51.712 51.712 0 0 1 9.448 72.315 A 40.672 40.672 0 0 1 0 69.092 Z"}),{width:47,height:77})}),dw=f().memo(function(e){var t=e.theme;return ce(f().createElement("path",{fill:se(t),d:"M 44.092 71.387 L 30.225 71.387 L 13.037 15.381 L 12.598 15.381 A 1505.093 1505.093 0 0 1 12.959 22.313 Q 13.426 31.715 13.508 36.4 A 102.991 102.991 0 0 1 13.525 38.184 L 13.525 71.387 L 0 71.387 L 0 0 L 20.605 0 L 37.5 54.59 L 37.793 54.59 L 55.713 0 L 76.318 0 L 76.318 71.387 L 62.207 71.387 L 62.207 37.598 Q 62.207 35.205 62.28 32.08 A 160.703 160.703 0 0 1 62.326 30.544 Q 62.452 26.754 62.866 17.168 A 5390.536 5390.536 0 0 1 62.939 15.479 L 62.5 15.479 L 44.092 71.387 Z"}),{width:77,height:75})}),pw=f().memo(function(e){var t=e.theme;return ce(f().createElement("path",{fill:se(t),d:"M 44.092 71.387 L 0 71.387 L 0 0 L 15.137 0 L 15.137 58.887 L 44.092 58.887 L 44.092 71.387 Z"}),{width:45,height:75})}),fw=f().memo(function(e){var t=e.theme;return ce(f().createElement("path",{fill:se(t),d:"M 42.578 35.4 L 66.699 71.387 L 49.414 71.387 L 32.813 44.385 L 16.211 71.387 L 0 71.387 L 23.682 34.57 L 1.514 0 L 18.213 0 L 33.594 25.684 L 48.682 0 L 64.99 0 L 42.578 35.4 Z M 119.775 71.387 L 75.684 71.387 L 75.684 0 L 90.82 0 L 90.82 58.887 L 119.775 58.887 L 119.775 71.387 Z"}),{width:120,height:75})}),hw=f().memo(function(e){var t=e.theme;return ce(f().createElement("path",{fill:se(t),d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"}),{width:448,height:512})}),mw=f().memo(function(e){var t=e.theme;return ce(f().createElement(f().Fragment,null,f().createElement("path",{fill:se(t),d:"M 63.818 71.68 L 54.492 71.68 L 45.898 49.561 L 17.578 49.561 L 9.082 71.68 L 0 71.68 L 27.881 0 L 35.986 0 L 63.818 71.68 Z M 20.605 41.602 L 43.213 41.602 L 35.205 19.971 L 31.787 9.277 Q 30.322 15.137 28.711 19.971 L 20.605 41.602 Z"}),f().createElement("path",{fill:se(t),d:"M 68.994 71.68 L 52.686 71.68 L 47.51 54.688 L 21.484 54.688 L 16.309 71.68 L 0 71.68 L 25.195 0 L 43.701 0 L 68.994 71.68 Z M 25.293 41.992 L 43.896 41.992 A 27590.463 27590.463 0 0 1 42.2 36.532 Q 36.965 19.676 35.937 16.273 A 120.932 120.932 0 0 1 35.815 15.869 A 131.65 131.65 0 0 1 35.396 14.435 Q 34.951 12.879 34.675 11.741 A 34.866 34.866 0 0 1 34.521 11.084 A 141.762 141.762 0 0 1 33.706 14.075 Q 31.482 21.957 25.293 41.992 Z"})),{width:70,height:78})}),gw=f().memo(function(e){var t=e.theme;return ce(f().createElement(f().Fragment,null,f().createElement("path",{fill:se(t),d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"})),{width:640,height:512})}),vw=f().memo(function(e){var t=e.theme;return ce(f().createElement("path",{d:"M12.83 352h262.34A12.82 12.82 0 00288 339.17v-38.34A12.82 12.82 0 00275.17 288H12.83A12.82 12.82 0 000 300.83v38.34A12.82 12.82 0 0012.83 352zm0-256h262.34A12.82 12.82 0 00288 83.17V44.83A12.82 12.82 0 00275.17 32H12.83A12.82 12.82 0 000 44.83v38.34A12.82 12.82 0 0012.83 96zM432 160H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16zm0 256H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16z",fill:se(t)}),{width:448,height:512})}),yw=f().memo(function(e){var t=e.theme;return ce(f().createElement("path",{d:"M432 160H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16zm0 256H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16zM108.1 96h231.81A12.09 12.09 0 00352 83.9V44.09A12.09 12.09 0 00339.91 32H108.1A12.09 12.09 0 0096 44.09V83.9A12.1 12.1 0 00108.1 96zm231.81 256A12.09 12.09 0 00352 339.9v-39.81A12.09 12.09 0 00339.91 288H108.1A12.09 12.09 0 0096 300.09v39.81a12.1 12.1 0 0012.1 12.1z",fill:se(t)}),{width:448,height:512})}),ww=f().memo(function(e){var t=e.theme;return ce(f().createElement("path",{d:"M16 224h416a16 16 0 0016-16v-32a16 16 0 00-16-16H16a16 16 0 00-16 16v32a16 16 0 0016 16zm416 192H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16zm3.17-384H172.83A12.82 12.82 0 00160 44.83v38.34A12.82 12.82 0 00172.83 96h262.34A12.82 12.82 0 00448 83.17V44.83A12.82 12.82 0 00435.17 32zm0 256H172.83A12.82 12.82 0 00160 300.83v38.34A12.82 12.82 0 00172.83 352h262.34A12.82 12.82 0 00448 339.17v-38.34A12.82 12.82 0 00435.17 288z",fill:se(t)}),{width:448,height:512})}),ru=[],pe=function(e){return ru=ru.concat(e),e};function Rh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function pn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rh(Object(n),!0).forEach(function(r){re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Bh=function(e,t){var n;if(e.editingGroupId){var r=tr(Ae(t),e.editingGroupId);if(r.length)return pn(pn({},e),{},{selectedElementIds:(n={},n[r[0].id]=!0,n)})}return e},ou=pe({name:"deleteSelectedElements",perform:function(e,t){if(t.editingLinearElement){var n=t.editingLinearElement,r=n.elementId,a=n.activePointIndex,s=n.startBindingElement,c=n.endBindingElement,d=st.getElement(r);if(!d)return!1;if(a==null||a===-1||d.points.length<2){var h=e.filter(function(y){return y.id!==d.id});return{elements:h,appState:pn(pn({},Bh(t,h)),{},{editingLinearElement:null}),commitToHistory:!1}}var m={startBindingElement:a===0?null:s,endBindingElement:a===d.points.length-1?null:c};return st.movePoint(d,a,"delete"),{elements:e,appState:pn(pn({},t),{},{editingLinearElement:pn(pn(pn({},t.editingLinearElement),m),{},{activePointIndex:a>0?a-1:0})}),commitToHistory:!0}}var u=function(y,k){return{elements:y.map(function(O){return k.selectedElementIds[O.id]?lt(O,{isDeleted:!0}):O}),appState:pn(pn({},k),{},{selectedElementIds:{}})}}(e,t),v=u.elements,w=u.appState;return Zc(v,e.filter(function(y){var k=y.id;return t.selectedElementIds[k]})),{elements:v,appState:pn(pn({},w=Bh(w,v)),{},{elementType:"selection",multiElement:null}),commitToHistory:Lt(Ae(e),t)}},contextItemLabel:"labels.delete",keyTest:function(e){return e.key===fy||e.key===my},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return f().createElement(Ve,{type:"button",icon:eu,title:_("labels.delete"),"aria-label":_("labels.delete"),onClick:function(){return r(null)},visible:Lt(Ae(t),n)})}}),en=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e},Hh=function(e,t){for(var n=[],r=[],a=null,s=-1;++s<e.length;)t.selectedElementIds[e[s].id]?(r.length&&(n=n.concat(r),r=[]),n.push(s),a=s+1):e[s].isDeleted&&a===s?(a=s+1,r.push(s)):r=[];return n},bw=function(e,t,n,r){var a=t[n],s=function(u){return!u.isDeleted&&(!e.editingGroupId||u.groupIds.includes(e.editingGroupId))},c=r==="left"?function(u,v,w){w===void 0&&(w=u.length-1),w<0&&(w=u.length+w);for(var y=(w=Math.min(u.length-1,Math.max(w,0)))+1;--y>-1;)if(v(u[y],y,u))return y;return-1}(t,s,Math.max(0,n-1)):function(u,v,w){w===void 0&&(w=0),w<0&&(w=u.length+w);for(var y=(w=Math.min(u.length,Math.max(w,0)))-1;++y<u.length;)if(v(u[y],y,u))return y;return-1}(t,s,n+1),d=t[c];if(!d)return-1;if(e.editingGroupId){if((a==null?void 0:a.groupIds.join(""))===(d==null?void 0:d.groupIds.join("")))return c;if(d==null||!d.groupIds.includes(e.editingGroupId))return-1}if(!d.groupIds.length)return c;var h=e.editingGroupId?d.groupIds[d.groupIds.indexOf(e.editingGroupId)-1]:d.groupIds[d.groupIds.length-1],m=tr(t,h);return m.length?r==="left"?t.indexOf(m[0]):t.indexOf(m[m.length-1]):c},Fh=function(e,t){return t.reduce(function(n,r){var a=e[r];return n[a.id]=a,n},{})},Vh=function(e,t,n){var r,a,s=Hh(t,e),c=Fh(t,s),d=(a=0,(r=s).reduce(function(h,m,u){return u>0&&r[u-1]!==m-1&&(a=++a),(h[a]||(h[a]=[])).push(m),h},[]));return n==="right"&&(d=d.reverse()),d.forEach(function(h,m){var u=h[0],v=h[h.length-1],w=n==="left"?u:v,y=bw(e,t,w,n);if(y!==-1&&w!==y){var k=n==="left"?t.slice(0,y):t.slice(0,u),O=t.slice(u,v+1),I=n==="left"?t.slice(y,u):t.slice(v+1,y+1),C=n==="left"?t.slice(v+1):t.slice(y+1);t=en(n==="left"?en(en(en([],k),O),I):en(en(en([],k),I),O),C)}}),t.map(function(h){return c[h.id]?If(h):h})},Uh=function(e,t,n){var r,a,s=Hh(e,t),c=Fh(e,s),d=[];if(n==="left"){if(t.editingGroupId){if(!(h=tr(e,t.editingGroupId)).length)return e;r=e.indexOf(h[0])}else r=0;a=s[s.length-1]}else{if(t.editingGroupId){var h;if(!(h=tr(e,t.editingGroupId)).length)return e;a=e.indexOf(h[h.length-1])}else a=e.length-1;r=s[0]}for(var m=r;m<a+1;m++)s.includes(m)||d.push(e[m]);var u=Object.values(c).map(function(y){return If(y)}),v=e.slice(0,r),w=e.slice(a+1);return en(n==="left"?en(en(en([],v),u),d):en(en(en([],v),d),u),w)},xw=function(e,t){return Vh(t,e,"left")},Ew=function(e,t){return Vh(t,e,"right")},kw=function(e,t){return Uh(e,t,"left")},Sw=function(e,t){return Uh(e,t,"right")},Cw=pe({name:"sendBackward",perform:function(e,t){return{elements:xw(e,t),appState:t,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(e){return e[Fe]&&!e.shiftKey&&e.code===Vi},PanelComponent:function(e){var t=e.updateData,n=e.appState;return f().createElement("button",{type:"button",className:"zIndexButton",onClick:function(){return t(null)},title:"".concat(_("labels.sendBackward")," \u2014 ").concat(ie("CtrlOrCmd+["))},f().createElement(z2,{theme:n.theme}))}}),Ow=pe({name:"bringForward",perform:function(e,t){return{elements:Ew(e,t),appState:t,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(e){return e[Fe]&&!e.shiftKey&&e.code===Pl},PanelComponent:function(e){var t=e.updateData,n=e.appState;return f().createElement("button",{type:"button",className:"zIndexButton",onClick:function(){return t(null)},title:"".concat(_("labels.bringForward")," \u2014 ").concat(ie("CtrlOrCmd+]"))},f().createElement(j2,{theme:n.theme}))}}),Mw=pe({name:"sendToBack",perform:function(e,t){return{elements:kw(e,t),appState:t,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(e){return Rn?e[Fe]&&e.altKey&&e.code===Vi:e[Fe]&&e.shiftKey&&e.code===Vi},PanelComponent:function(e){var t=e.updateData,n=e.appState;return f().createElement("button",{type:"button",className:"zIndexButton",onClick:function(){return t(null)},title:"".concat(_("labels.sendToBack")," \u2014 ").concat(ie(Rn?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+["))},f().createElement(R2,{theme:n.theme}))}}),Pw=pe({name:"bringToFront",perform:function(e,t){return{elements:Sw(e,t),appState:t,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(e){return Rn?e[Fe]&&e.altKey&&e.code===Pl:e[Fe]&&e.shiftKey&&e.code===Pl},PanelComponent:function(e){var t=e.updateData,n=e.appState;return f().createElement("button",{type:"button",className:"zIndexButton",onClick:function(r){return t(null)},title:"".concat(_("labels.bringToFront")," \u2014 ").concat(ie(Rn?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]"))},f().createElement(N2,{theme:n.theme}))}});function Wh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Gh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wh(Object(n),!0).forEach(function(r){re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var _w=pe({name:"selectAll",perform:function(e,t){return!t.editingLinearElement&&{appState:yr(Gh(Gh({},t),{},{editingGroupId:null,selectedElementIds:e.reduce(function(n,r){return r.isDeleted||(n[r.id]=!0),n},{})}),Ae(e)),commitToHistory:!0}},contextItemLabel:"labels.selectAll",keyTest:function(e){return e[Fe]&&e.key===gf}}),aa=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e};function Kh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kh(Object(n),!0).forEach(function(r){re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Tw=pe({name:"duplicateSelection",perform:function(e,t){if(t.editingLinearElement){var n=t.editingLinearElement,r=n.activePointIndex,a=n.elementId,s=st.getElement(a);if(!s||r===null)return!1;var c=s.points,d=c[r],h=c[r+1];return _e(s,{points:aa(aa(aa([],c.slice(0,r+1)),[h?[(d[0]+h[0])/2,(d[1]+h[1])/2]:[d[0]+30,d[1]+30]]),c.slice(r+1))}),{appState:xr(xr({},t),{},{editingLinearElement:xr(xr({},t.editingLinearElement),{},{activePointIndex:r+1})}),elements:e,commitToHistory:!0}}return xr(xr({},Iw(e,t)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(e){return e[Fe]&&e.key===vf},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return f().createElement(Ve,{type:"button",icon:X2,title:"".concat(_("labels.duplicateSelection")," \u2014 ").concat(ie("CtrlOrCmd+D")),"aria-label":_("labels.duplicateSelection"),onClick:function(){return r(null)},visible:Lt(Ae(t),n)})}}),Iw=function(e,t){for(var n=new Map,r=[],a=[],s=new Map,c=function(w){var y=Dc(t.editingGroupId,n,w,{x:w.x+j.k/2,y:w.y+j.k/2});return s.set(w.id,y.id),a.push(w),r.push(y),y},d=[],h=0;h<e.length;){var m=e[h];if(t.selectedElementIds[m.id]){if(m.groupIds.length){var u=Nf(t,m);if(u){var v=tr(e,u);d.push.apply(d,aa(aa([],v),v.map(function(w){return c(w)}))),h+=v.length;continue}}d.push(m,c(m))}else d.push(m);h++}return Yc(d,a,s),{elements:d,appState:yr(xr(xr({},t),{},{selectedGroupIds:{},selectedElementIds:r.reduce(function(w,y){return w[y.id]=!0,w},{})}),Ae(d))}},Er=function(e){var t=e.options,n=e.value,r=e.onChange,a=e.group;return f().createElement("div",{className:"buttonList buttonListIcon"},t.map(function(s){return f().createElement("label",{key:s.text,className:Je({active:n===s.value}),title:s.text},f().createElement("input",{type:"radio",name:a,onChange:function(){return r(s.value)},checked:n===s.value}),s.icon)}))},iu=(E(4301),function(e){var t=e.children,n=e.left,r=e.top,a=e.onCloseRequest,s=e.fitInViewport,c=s!==void 0&&s,d=(0,B.useRef)(null);return(0,B.useLayoutEffect)(function(){if(c&&d.current){var h=d.current,m=h.getBoundingClientRect(),u=m.x,v=m.y,w=m.width,y=m.height,k=window.innerWidth;u+w>k&&(h.style.left="".concat(k-w,"px"));var O=window.innerHeight;v+y>O&&(h.style.top="".concat(O-y,"px"))}},[c]),(0,B.useEffect)(function(){if(a){var h=function(m){var u;(u=d.current)!==null&&u!==void 0&&u.contains(m.target)||(0,no.unstable_batchedUpdates)(function(){return a(m)})};return document.addEventListener("pointerdown",h,!1),function(){return document.removeEventListener("pointerdown",h,!1)}}},[a]),f().createElement("div",{className:"popover",style:{top:r,left:n},ref:d},t)}),Yh=(E(4220),function(e){var t=new Option().style;return t.color=e,!!t.color}),la=[["1","2","3","4","5"],["q","w","e","r","t"],["a","s","d","f","g"]].flat(),Lw=function(e){var t=e.colors,n=e.color,r=e.onChange,a=e.onClose,s=e.label,c=e.showInput,d=c===void 0||c,h=e.type,m=f().useRef(),u=f().useRef(),v=f().useRef(),w=f().useRef();return f().useEffect(function(){u.current?u.current.focus():w.current?w.current.focus():v.current&&v.current.focus()},[]),f().createElement("div",{className:"color-picker color-picker-type-".concat(h),role:"dialog","aria-modal":"true","aria-label":_("labels.colorPicker"),onKeyDown:function(y){if(y.key===_l){var k,O=document.activeElement;if(y.shiftKey)O===m.current&&((k=w.current)===null||k===void 0||k.focus(),y.preventDefault());else if(O===w.current){var I;(I=m.current)===null||I===void 0||I.focus(),y.preventDefault()}}else if(Ki(y.key)){O=document.activeElement;var C=q().rtl;if((H=Array.prototype.indexOf.call(v.current.children,O))!==-1){var L=v.current.children.length-(d?1:0),U=y.key===(C?ro:oo)?(H+1)%L:y.key===(C?oo:ro)?(L+H-1)%L:y.key===Ui?(H+5)%L:y.key===Wi?(L+H-5)%L:H;v.current.children[U].focus()}y.preventDefault()}else if(la.includes(y.key.toLowerCase())&&!Ho(y.target)){var H=la.indexOf(y.key.toLowerCase());v.current.children[H].focus(),y.preventDefault()}else y.key!==io&&y.key!==Gi||(y.preventDefault(),a());y.nativeEvent.stopImmediatePropagation(),y.stopPropagation()}},f().createElement("div",{className:"color-picker-triangle color-picker-triangle-shadow"}),f().createElement("div",{className:"color-picker-triangle"}),f().createElement("div",{className:"color-picker-content",ref:function(y){y&&(v.current=y)},tabIndex:0},t.map(function(y,k){return f().createElement("button",{className:"color-picker-swatch",onClick:function(O){O.currentTarget.focus(),r(y)},title:"".concat(y," \u2014 ").concat(la[k].toUpperCase()),"aria-label":y,"aria-keyshortcuts":la[k],style:{color:y},key:y,ref:function(O){O&&k===0&&(m.current=O),O&&y===n&&(u.current=O)},onFocus:function(){r(y)}},y==="transparent"?f().createElement("div",{className:"color-picker-transparent"}):void 0,f().createElement("span",{className:"color-picker-keybinding"},la[k]))}),d&&f().createElement(Zh,{color:n,label:s,onChange:function(y){r(y)},ref:w})))},Zh=f().forwardRef(function(e,t){var n=e.color,r=e.onChange,a=e.label,s=f().useState(n),c=s[0],d=s[1],h=f().useRef(null);f().useEffect(function(){d(n)},[n]),f().useImperativeHandle(t,function(){return h.current});var m=f().useCallback(function(u){var v=u.toLowerCase(),w=function(y){return y==="transparent"||Yh(y)?y:Yh("#".concat(y))?"#".concat(y):null}(v);w&&r(w),d(v)},[r]);return f().createElement("label",{className:"color-input-container"},f().createElement("div",{className:"color-picker-hash"},"#"),f().createElement("input",{spellCheck:!1,className:"color-picker-input","aria-label":a,onChange:function(u){return m(u.target.value)},value:(c||"").replace(/^#/,""),onBlur:function(){return d(n)},ref:h}))}),au=function(e){var t=e.type,n=e.color,r=e.onChange,a=e.label,s=f().useState(!1),c=s[0],d=s[1],h=f().useRef(null);return f().createElement("div",null,f().createElement("div",{className:"color-picker-control-container"},f().createElement("button",{className:"color-picker-label-swatch","aria-label":a,style:n?{"--swatch-color":n}:void 0,onClick:function(){return d(!c)},ref:h}),f().createElement(Zh,{color:n,label:a,onChange:function(m){r(m)}})),f().createElement(f().Suspense,{fallback:""},c?f().createElement(iu,{onCloseRequest:function(m){return m.target!==h.current&&d(!1)}},f().createElement(Lw,{colors:mr[t],color:n||null,onChange:function(m){r(m)},onClose:function(){var m;d(!1),(m=h.current)===null||m===void 0||m.focus()},label:a,showInput:!1,type:t})):null))};function Wl(){return(Wl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}E(7117);function Aw(e){var t=e.options,n=e.value,r=e.label,a=e.onChange,s=e.onClose,c=f().useRef(),d=f().useRef(),h=f().useRef(null);return f().useEffect(function(){d.current?d.current.focus():h.current&&h.current.focus()},[]),f().createElement("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":r,onKeyDown:function(m){var u=t.find(function(I){return I.keyBinding===m.key.toLowerCase()});if(m.metaKey||m.altKey||m.ctrlKey||!u)if(m.key===_l)setTimeout(function(){d.current!==document.activeElement&&s()},0);else if(Ki(m.key)){var v=document.activeElement,w=q().rtl;if((O=Array.prototype.indexOf.call(h.current.children,v))!==-1){var y=t.length,k=O;switch(m.key){case(w?ro:oo):case Ui:k=(O+1)%y;break;case(w?oo:ro):case Wi:k=(y+O-1)%y}h.current.children[k].focus()}m.preventDefault()}else m.key!==io&&m.key!==Gi||(m.preventDefault(),s());else{var O=t.indexOf(u);h.current.children[O].focus(),m.preventDefault()}m.nativeEvent.stopImmediatePropagation(),m.stopPropagation()}},f().createElement("div",{className:"picker-content",ref:h},t.map(function(m,u){return f().createElement("button",{className:"picker-option",onClick:function(v){v.currentTarget.focus(),a(m.value)},title:"".concat(m.text," \u2014 ").concat(m.keyBinding.toUpperCase()),"aria-label":m.text||"none","aria-keyshortcuts":m.keyBinding,key:m.text,ref:function(v){v&&u===0&&(c.current=v),v&&m.value===n&&(d.current=v)},onFocus:function(){a(m.value)}},m.icon,f().createElement("span",{className:"picker-keybinding"},m.keyBinding))})))}function Xh(e){var t,n=e.value,r=e.label,a=e.options,s=e.onChange,c=e.group,d=c===void 0?"":c,h=f().useState(!1),m=h[0],u=h[1],v=f().useRef(null),w=q().rtl;return f().createElement("label",{className:"picker-container"},f().createElement("button",{name:d,className:m?"active":"","aria-label":r,onClick:function(){return u(!m)},ref:v},(t=a.find(function(y){return y.value===n}))===null||t===void 0?void 0:t.icon),f().createElement(f().Suspense,{fallback:""},m?f().createElement(f().Fragment,null,f().createElement(iu,Wl({onCloseRequest:function(y){return y.target!==v.current&&u(!1)}},w?{right:5.5}:{left:-5.5}),f().createElement(Aw,{options:a,value:n,label:r,onChange:s,onClose:function(){var y;u(!1),(y=v.current)===null||y===void 0||y.focus()}})),f().createElement("div",{className:"picker-triangle"})):null))}function $h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$h(Object(n),!0).forEach(function(r){re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$h(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var xn=function(e,t,n){return e.map(function(r){var a;return t.selectedElementIds[r.id]||r.id===((a=t.editingElement)===null||a===void 0?void 0:a.id)?n(r):r})},fn=function(e,t,n,r){var a,s,c=t.editingElement,d=Ae(e);return(a=(s=c&&n(c))!==null&&s!==void 0?s:Lt(d,t)?function(h,m,u){var v=Array.from(new Set(Ze(h,m).map(function(w){return u(w)})));return v.length===1?v[0]:null}(d,t,n):r)!==null&&a!==void 0?a:null};pe({name:"changeStrokeColor",perform:function(e,t,n){return{elements:xn(e,t,function(r){return lt(r,{strokeColor:n})}),appState:ft(ft({},t),{},{currentItemStrokeColor:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return f().createElement(f().Fragment,null,f().createElement("h3",{"aria-hidden":"true"},_("labels.stroke")),f().createElement(au,{type:"elementStroke",label:_("labels.stroke"),color:fn(t,n,function(a){return a.strokeColor},n.currentItemStrokeColor),onChange:r}))}}),pe({name:"changeBackgroundColor",perform:function(e,t,n){return{elements:xn(e,t,function(r){return lt(r,{backgroundColor:n})}),appState:ft(ft({},t),{},{currentItemBackgroundColor:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return f().createElement(f().Fragment,null,f().createElement("h3",{"aria-hidden":"true"},_("labels.background")),f().createElement(au,{type:"elementBackground",label:_("labels.background"),color:fn(t,n,function(a){return a.backgroundColor},n.currentItemBackgroundColor),onChange:r}))}}),pe({name:"changeFillStyle",perform:function(e,t,n){return{elements:xn(e,t,function(r){return lt(r,{fillStyle:n})}),appState:ft(ft({},t),{},{currentItemFillStyle:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return f().createElement("fieldset",null,f().createElement("legend",null,_("labels.fill")),f().createElement(Er,{options:[{value:"hachure",text:_("labels.hachure"),icon:f().createElement(J2,{theme:n.theme})},{value:"cross-hatch",text:_("labels.crossHatch"),icon:f().createElement(ew,{theme:n.theme})},{value:"solid",text:_("labels.solid"),icon:f().createElement(tw,{theme:n.theme})}],group:"fill",value:fn(t,n,function(a){return a.fillStyle},n.currentItemFillStyle),onChange:function(a){r(a)}}))}}),pe({name:"changeStrokeWidth",perform:function(e,t,n){return{elements:xn(e,t,function(r){return lt(r,{strokeWidth:n})}),appState:ft(ft({},t),{},{currentItemStrokeWidth:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return f().createElement("fieldset",null,f().createElement("legend",null,_("labels.strokeWidth")),f().createElement(Er,{group:"stroke-width",options:[{value:1,text:_("labels.thin"),icon:f().createElement(nu,{theme:n.theme,strokeWidth:2})},{value:2,text:_("labels.bold"),icon:f().createElement(nu,{theme:n.theme,strokeWidth:6})},{value:4,text:_("labels.extraBold"),icon:f().createElement(nu,{theme:n.theme,strokeWidth:10})}],value:fn(t,n,function(a){return a.strokeWidth},n.currentItemStrokeWidth),onChange:function(a){return r(a)}}))}}),pe({name:"changeSloppiness",perform:function(e,t,n){return{elements:xn(e,t,function(r){return lt(r,{seed:Vo(),roughness:n})}),appState:ft(ft({},t),{},{currentItemRoughness:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return f().createElement("fieldset",null,f().createElement("legend",null,_("labels.sloppiness")),f().createElement(Er,{group:"sloppiness",options:[{value:0,text:_("labels.architect"),icon:f().createElement(iw,{theme:n.theme})},{value:1,text:_("labels.artist"),icon:f().createElement(aw,{theme:n.theme})},{value:2,text:_("labels.cartoonist"),icon:f().createElement(lw,{theme:n.theme})}],value:fn(t,n,function(a){return a.roughness},n.currentItemRoughness),onChange:function(a){return r(a)}}))}}),pe({name:"changeStrokeStyle",perform:function(e,t,n){return{elements:xn(e,t,function(r){return lt(r,{strokeStyle:n})}),appState:ft(ft({},t),{},{currentItemStrokeStyle:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return f().createElement("fieldset",null,f().createElement("legend",null,_("labels.strokeStyle")),f().createElement(Er,{group:"strokeStyle",options:[{value:"solid",text:_("labels.strokeStyle_solid"),icon:f().createElement(nw,{theme:n.theme})},{value:"dashed",text:_("labels.strokeStyle_dashed"),icon:f().createElement(rw,{theme:n.theme})},{value:"dotted",text:_("labels.strokeStyle_dotted"),icon:f().createElement(ow,{theme:n.theme})}],value:fn(t,n,function(a){return a.strokeStyle},n.currentItemStrokeStyle),onChange:function(a){return r(a)}}))}}),pe({name:"changeOpacity",perform:function(e,t,n){return{elements:xn(e,t,function(r){return lt(r,{opacity:n})}),appState:ft(ft({},t),{},{currentItemOpacity:n}),commitToHistory:!0}},PanelComponent:function(e){var t,n=e.elements,r=e.appState,a=e.updateData;return f().createElement("label",{className:"control-label"},_("labels.opacity"),f().createElement("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(s){return a(+s.target.value)},onWheel:function(s){s.stopPropagation();var c=+s.target.value;s.deltaY<0&&c<100?a(c+10):s.deltaY>0&&c>0&&a(c-10)},value:(t=fn(n,r,function(s){return s.opacity},r.currentItemOpacity))!==null&&t!==void 0?t:void 0}))}}),pe({name:"changeFontSize",perform:function(e,t,n){return{elements:xn(e,t,function(r){if(Mt(r)){var a=lt(r,{fontSize:n});return Fl(a),a}return r}),appState:ft(ft({},t),{},{currentItemFontSize:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return f().createElement("fieldset",null,f().createElement("legend",null,_("labels.fontSize")),f().createElement(Er,{group:"font-size",options:[{value:16,text:_("labels.small"),icon:f().createElement(uw,{theme:n.theme})},{value:20,text:_("labels.medium"),icon:f().createElement(dw,{theme:n.theme})},{value:28,text:_("labels.large"),icon:f().createElement(pw,{theme:n.theme})},{value:36,text:_("labels.veryLarge"),icon:f().createElement(fw,{theme:n.theme})}],value:fn(t,n,function(a){return Mt(a)&&a.fontSize},n.currentItemFontSize||j.n5),onChange:function(a){return r(a)}}))}}),pe({name:"changeFontFamily",perform:function(e,t,n){return{elements:xn(e,t,function(r){if(Mt(r)){var a=lt(r,{fontFamily:n});return Fl(a),a}return r}),appState:ft(ft({},t),{},{currentItemFontFamily:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=[{value:1,text:_("labels.handDrawn"),icon:f().createElement(hw,{theme:n.theme})},{value:2,text:_("labels.normal"),icon:f().createElement(mw,{theme:n.theme})},{value:3,text:_("labels.code"),icon:f().createElement(gw,{theme:n.theme})}];return f().createElement("fieldset",null,f().createElement("legend",null,_("labels.fontFamily")),f().createElement(Er,{group:"font-family",options:a,value:fn(t,n,function(s){return Mt(s)&&s.fontFamily},n.currentItemFontFamily||j.rk),onChange:function(s){return r(s)}}))}}),pe({name:"changeTextAlign",perform:function(e,t,n){return{elements:xn(e,t,function(r){if(Mt(r)){var a=lt(r,{textAlign:n});return Fl(a),a}return r}),appState:ft(ft({},t),{},{currentItemTextAlign:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return f().createElement("fieldset",null,f().createElement("legend",null,_("labels.textAlign")),f().createElement(Er,{group:"text-align",options:[{value:"left",text:_("labels.left"),icon:f().createElement(vw,{theme:n.theme})},{value:"center",text:_("labels.center"),icon:f().createElement(yw,{theme:n.theme})},{value:"right",text:_("labels.right"),icon:f().createElement(ww,{theme:n.theme})}],value:fn(t,n,function(a){return Mt(a)&&a.textAlign},n.currentItemTextAlign),onChange:function(a){return r(a)}}))}}),pe({name:"changeSharpness",perform:function(e,t,n){var r=Qc(Ae(e),t),a=r.length?r.every(function(c){return!vt(c)}):!qr(t.elementType),s=r.length?r.every(vt):qr(t.elementType);return{elements:xn(e,t,function(c){return lt(c,{strokeSharpness:n})}),appState:ft(ft({},t),{},{currentItemStrokeSharpness:a?n:t.currentItemStrokeSharpness,currentItemLinearStrokeSharpness:s?n:t.currentItemLinearStrokeSharpness}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return f().createElement("fieldset",null,f().createElement("legend",null,_("labels.edges")),f().createElement(Er,{group:"edges",options:[{value:"sharp",text:_("labels.sharp"),icon:f().createElement(sw,{theme:n.theme})},{value:"round",text:_("labels.round"),icon:f().createElement(cw,{theme:n.theme})}],value:fn(t,n,function(a){return a.strokeSharpness},Jc(n.elementType)&&(qr(n.elementType)?n.currentItemLinearStrokeSharpness:n.currentItemStrokeSharpness)||null),onChange:function(a){return r(a)}}))}}),pe({name:"changeArrowhead",perform:function(e,t,n){var r;return{elements:xn(e,t,function(a){if(vt(a)){var s=n.position,c=n.type;if(s==="start")return lt(a,{startArrowhead:c});if(s==="end")return lt(a,{endArrowhead:c})}return a}),appState:ft(ft({},t),{},(r={},r[n.position==="start"?"currentItemStartArrowhead":"currentItemEndArrowhead"]=n.type,r)),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=q().rtl;return f().createElement("fieldset",null,f().createElement("legend",null,_("labels.arrowheads")),f().createElement("div",{className:"iconSelectList"},f().createElement(Xh,{label:"arrowhead_start",options:[{value:null,text:_("labels.arrowhead_none"),icon:f().createElement(Dh,{theme:n.theme}),keyBinding:"q"},{value:"arrow",text:_("labels.arrowhead_arrow"),icon:f().createElement(jh,{theme:n.theme,flip:!a}),keyBinding:"w"},{value:"bar",text:_("labels.arrowhead_bar"),icon:f().createElement(Nh,{theme:n.theme,flip:!a}),keyBinding:"e"},{value:"dot",text:_("labels.arrowhead_dot"),icon:f().createElement(zh,{theme:n.theme,flip:!a}),keyBinding:"r"}],value:fn(t,n,function(s){return vt(s)&&Ul(s.type)?s.startArrowhead:n.currentItemStartArrowhead},n.currentItemStartArrowhead),onChange:function(s){return r({position:"start",type:s})}}),f().createElement(Xh,{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:_("labels.arrowhead_none"),keyBinding:"q",icon:f().createElement(Dh,{theme:n.theme})},{value:"arrow",text:_("labels.arrowhead_arrow"),keyBinding:"w",icon:f().createElement(jh,{theme:n.theme,flip:a})},{value:"bar",text:_("labels.arrowhead_bar"),keyBinding:"e",icon:f().createElement(Nh,{theme:n.theme,flip:a})},{value:"dot",text:_("labels.arrowhead_dot"),keyBinding:"r",icon:f().createElement(zh,{theme:n.theme,flip:a})}],value:fn(t,n,function(s){return vt(s)&&Ul(s.type)?s.endArrowhead:n.currentItemEndArrowhead},n.currentItemEndArrowhead),onChange:function(s){return r({position:"end",type:s})}})))}});function Qh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function hn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qh(Object(n),!0).forEach(function(r){re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}pe({name:"changeViewBackgroundColor",perform:function(e,t,n){return{appState:hn(hn({},t),{},{viewBackgroundColor:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return f().createElement("div",{style:{position:"relative"}},f().createElement(au,{label:_("labels.canvasBackground"),type:"canvasBackground",color:t.viewBackgroundColor,onChange:function(r){return n(r)},"data-testid":"canvas-background-picker"}))}}),pe({name:"clearCanvas",perform:function(e,t){return{elements:e.map(function(n){return lt(n,{isDeleted:!0})}),appState:hn(hn({},lo()),{},{theme:t.theme,elementLocked:t.elementLocked,exportBackground:t.exportBackground,exportEmbedScene:t.exportEmbedScene,gridSize:t.gridSize,shouldAddWatermark:t.shouldAddWatermark,showStats:t.showStats,pasteDialog:t.pasteDialog}),commitToHistory:!0}},PanelComponent:function(e){var t=e.updateData;return f().createElement(Ve,{type:"button",icon:eu,title:_("buttons.clearReset"),"aria-label":_("buttons.clearReset"),showAriaLabel:mn(),onClick:function(){window.confirm(_("alerts.clearReset"))&&t(null)},"data-testid":"clear-canvas-button"})}}),pe({name:"zoomIn",perform:function(e,t){var n=go(ia(t.zoom.value+j.V4),t.zoom,{left:t.offsetLeft,top:t.offsetTop},{x:t.width/2,y:t.height/2});return{appState:hn(hn({},t),{},{zoom:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.updateData;return f().createElement(Ve,{type:"button",icon:P2,title:"".concat(_("buttons.zoomIn")," \u2014 ").concat(ie("CtrlOrCmd++")),"aria-label":_("buttons.zoomIn"),onClick:function(){t(null)}})},keyTest:function(e){return(e.code===qv||e.code===ey)&&(e[Fe]||e.shiftKey)}}),pe({name:"zoomOut",perform:function(e,t){var n=go(ia(t.zoom.value-j.V4),t.zoom,{left:t.offsetLeft,top:t.offsetTop},{x:t.width/2,y:t.height/2});return{appState:hn(hn({},t),{},{zoom:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.updateData;return f().createElement(Ve,{type:"button",icon:_2,title:"".concat(_("buttons.zoomOut")," \u2014 ").concat(ie("CtrlOrCmd+-")),"aria-label":_("buttons.zoomOut"),onClick:function(){t(null)}})},keyTest:function(e){return(e.code===Jv||e.code===ty)&&(e[Fe]||e.shiftKey)}}),pe({name:"resetZoom",perform:function(e,t){return{appState:hn(hn({},t),{},{zoom:go(1,t.zoom,{left:t.offsetLeft,top:t.offsetTop},{x:t.width/2,y:t.height/2})}),commitToHistory:!1}},PanelComponent:function(e){var t=e.updateData;return f().createElement(Ve,{type:"button",icon:D2,title:_("buttons.resetZoom"),"aria-label":_("buttons.resetZoom"),onClick:function(){t(null)}})},keyTest:function(e){return(e.code===ly||e.code===ny)&&(e[Fe]||e.shiftKey)}});var qh=function(e,t,n){var r=Ae(e),a=Ze(r,t),s=n&&a.length>0?bt(a):bt(r),c=function(w,y){var k=w[0],O=w[1],I=w[2],C=w[3],L=I-k,U=y.width/L,H=C-O,K=y.height/H,Y=Math.min(U,K),W=Math.floor(Y/j.V4)*j.V4;return Math.min(Math.max(W,j.V4),1)}(s,{width:t.width,height:t.height}),d=go(c,t.zoom,{left:t.offsetLeft,top:t.offsetTop}),h=s[0],m=s[1],u=(h+s[2])/2,v=(m+s[3])/2;return{appState:hn(hn(hn({},t),qc({scenePoint:{x:u,y:v},viewportDimensions:{width:t.width,height:t.height},zoom:d})),{},{zoom:d}),commitToHistory:!1}};pe({name:"zoomToSelection",perform:function(e,t){return qh(e,t,!0)},keyTest:function(e){return e.code===oy&&e.shiftKey&&!e.altKey&&!e[Fe]}}),pe({name:"zoomToFit",perform:function(e,t){return qh(e,t,!1)},keyTest:function(e){return e.code===ry&&e.shiftKey&&!e.altKey&&!e[Fe]}});function Jh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Xo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jh(Object(n),!0).forEach(function(r){re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var lu,su,kr,Gl=pe({name:"finalize",perform:function(e,t,n,r){var a,s,c=r.canvas,d=r.focusContainer;if(t.editingLinearElement){var h=t.editingLinearElement,m=h.elementId,u=h.startBindingElement,v=h.endBindingElement,w=st.getElement(m);if(w)return cn(w)&&ta(w,u,v),{elements:w.points.length<2||co(w)?e.filter(function(W){return W.id!==w.id}):void 0,appState:Xo(Xo({},t),{},{editingLinearElement:null}),commitToHistory:!0}}var y=e;window.document.activeElement instanceof HTMLElement&&d();var k=t.multiElement?t.multiElement:((s=t.editingElement)===null||s===void 0?void 0:s.type)==="draw"?t.editingElement:null;if(k){if(k.type!=="draw"&&t.lastPointerDownWith!=="touch"){var O=k.points,I=k.lastCommittedPoint;I&&O[O.length-1]===I||_e(k,{points:k.points.slice(0,-1)})}co(k)&&(y=y.slice(0,-1));var C=eo(k.points,t.zoom.value);if((k.type==="line"||k.type==="draw")&&C){var L=k.points,U=L[0];_e(k,{points:L.map(function(W,Z){return Z===L.length-1?[U[0],U[1]]:W})})}if(cn(k)&&!C&&k.points.length>1){var H=st.getPointAtIndexGlobalCoordinates(k,-1),K=H[0],Y=H[1];Wc(k,t,Jt.getScene(k),{x:K,y:Y})}t.elementLocked||t.elementType==="draw"||(t.selectedElementIds[k.id]=!0)}return(t.elementLocked||t.elementType==="draw")&&k||Jn(c),{elements:y,appState:Xo(Xo({},t),{},{elementType:(t.elementLocked||t.elementType==="draw")&&k?t.elementType:"selection",draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:k&&!t.elementLocked&&t.elementType!=="draw"?Xo(Xo({},t.selectedElementIds),{},(a={},a[k.id]=!0,a)):t.selectedElementIds}),commitToHistory:t.elementType==="draw"}},keyTest:function(e,t){return e.key===io&&(t.editingLinearElement!==null||!t.draggingElement&&t.multiElement===null)||(e.key===io||e.key===Gi)&&t.multiElement!==null},PanelComponent:function(e){var t=e.appState,n=e.updateData;return f().createElement(Ve,{type:"button",icon:T2,title:_("buttons.done"),"aria-label":_("buttons.done"),onClick:n,visible:t.multiElement!=null})}}),$o=typeof process!="undefined"&&(lu=process.env)!==null&&lu!==void 0&&lu.REACT_APP_GOOGLE_ANALYTICS_ID&&typeof window!="undefined"&&window.gtag?function(e,t,n,r){window.gtag("event",t,{event_category:e,event_label:n,value:r})}:(typeof process!="undefined"&&(su=process.env)!==null&&su!==void 0&&su.JEST_WORKER_ID,function(e,t,n,r){}),Dw=(E(518),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])})(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}()),jw=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var a,s,c=this;return c=e.apply(this,n)||this,a=s=c,c.state={fileName:c.props.value},c.handleBlur=function(d){Py(d.target);var h=d.target.value;h!==s.props.value&&s.props.onChange(h)},c.handleKeyDown=function(d){if(d.key==="Enter"){if(d.preventDefault(),d.nativeEvent.isComposing||d.keyCode===229)return;d.currentTarget.blur()}},a}return Dw(t,e),t.prototype.render=function(){var n=this;return f().createElement(f().Fragment,null,f().createElement("label",{htmlFor:"file-name"},"".concat(this.props.label).concat(this.props.isNameEditable?"":":")),this.props.isNameEditable?f().createElement("input",{className:"TextInput",onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,id:"file-name",value:this.state.fileName,onChange:function(r){return n.setState({fileName:r.target.value})}}):f().createElement("span",{className:"TextInput TextInput--readonly",id:"file-name"},this.props.value))},t}(B.Component),cu=(E(6781),function(e){var t=e.children,n=e.label,r=e.position,a=r===void 0?"below":r,s=e.long,c=s!==void 0&&s;return f().createElement("div",{className:"Tooltip"},f().createElement("span",{className:a==="above"?"Tooltip__label Tooltip__label--above":"Tooltip__label Tooltip__label--below",style:{width:c?"50ch":"10ch"}},n),t)}),e1=function(e){var t=e.title?e.title:e.value==="dark"?_("buttons.lightMode"):_("buttons.darkMode");return f().createElement("label",{className:"ToolIcon ToolIcon_type_floating ToolIcon_size_M","data-testid":"toggle-dark-mode",title:t},f().createElement("input",{className:"ToolIcon_type_checkbox ToolIcon_toggle_opaque",type:"checkbox",onChange:function(n){return e.onChange(n.target.checked?"dark":"light")},checked:e.value==="dark","aria-label":t}),f().createElement("div",{className:"ToolIcon__icon"},e.value==="light"?t1.MOON:t1.SUN))},t1={SUN:f().createElement("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512"},f().createElement("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})),MOON:f().createElement("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512"},f().createElement("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"}))},uu=function(e,t){if(t!=null&&t.collaborators){var n=t.collaborators.get(e);if(n!=null&&n.color)return n.color}var r=e.split("").reduce(function(c,d){return c+d.charCodeAt(0)},0),a=mr.elementBackground.slice(1),s=mr.elementStroke.slice(1);return{background:a[r%a.length],stroke:s[r%s.length]}};(function(e){e.ACTIVE="active",e.AWAY="away",e.IDLE="idle"})(kr||(kr={}));var du=function(){var e=document.createElement("canvas").getContext("2d");return e?(e.fillStyle="#f00",e.textBaseline="top",e.font="32px Arial",e.fillText("\u{1F600}",0,0),e.getImageData(12,12,1,1).data[0]!==0):!1}(),Kl=function(e,t,n,r,a,s,c,d,h){h===void 0&&(h=!1),e.translate(s,c),e.rotate(d),h&&e.fillRect(t-s,n-c,r,a),e.strokeRect(t-s,n-c,r,a),e.rotate(-d),e.translate(-s,-c)},pu=function(e,t,n,r){e.beginPath(),e.arc(t,n,r,0,2*Math.PI),e.fill(),e.stroke()},n1=function(e,t,n,r,a,s,c,d){var h=d===void 0?{}:d,m=h.renderScrollbars,u=m===void 0||m,v=h.renderSelection,w=v===void 0||v,y=h.renderOptimizations,k=y!==void 0&&y,O=h.renderGrid,I=O===void 0||O;if(!s)return{atLeastOneVisibleElement:!1};var C=s.getContext("2d");C.scale(r,r);var L=s.width/r,U=s.height/r;if(c.exportWithDarkMode&&(C.filter=j.ZF),typeof c.viewBackgroundColor=="string"){(c.viewBackgroundColor==="transparent"||c.viewBackgroundColor.length===5||c.viewBackgroundColor.length===9||/(hsla|rgba)\(/.test(c.viewBackgroundColor))&&C.clearRect(0,0,L,U);var H=C.fillStyle;C.fillStyle=c.viewBackgroundColor,C.fillRect(0,0,L,U),C.fillStyle=H}else C.clearRect(0,0,L,U);var K=c.zoom.translation.x,Y=c.zoom.translation.y;C.translate(K,Y),C.scale(c.zoom.value,c.zoom.value),I&&t.gridSize&&function(Oe,Ne,Le,Ge,xt,Et){var gt=Oe.strokeStyle;Oe.strokeStyle="rgba(0,0,0,0.1)",Oe.beginPath();for(var Rt=Le;Rt<Le+xt+2*Ne;Rt+=Ne)Oe.moveTo(Rt,Ge-Ne),Oe.lineTo(Rt,Ge+Et+2*Ne);for(var tn=Ge;tn<Ge+Et+2*Ne;tn+=Ne)Oe.moveTo(Le-Ne,tn),Oe.lineTo(Le+xt+2*Ne,tn);Oe.stroke(),Oe.strokeStyle=gt}(C,t.gridSize,-Math.ceil(K/c.zoom.value/t.gridSize)*t.gridSize+c.scrollX%t.gridSize,-Math.ceil(Y/c.zoom.value/t.gridSize)*t.gridSize+c.scrollY%t.gridSize,L/c.zoom.value,U/c.zoom.value);var W,Z=e.filter(function(Oe){return Hw(Oe,L,U,{zoom:c.zoom,offsetLeft:t.offsetLeft,offsetTop:t.offsetTop,scrollX:c.scrollX,scrollY:c.scrollY})});if(Z.forEach(function(Oe){Pf(Oe,a,C,k,c)}),t.editingLinearElement){var J=st.getElement(t.editingLinearElement.elementId);J&&function(Oe,Ne,Le,Ge){Oe.translate(Le.scrollX,Le.scrollY);var xt=Oe.strokeStyle,Et=Oe.lineWidth;Oe.lineWidth=1/Le.zoom.value,st.getPointsGlobalCoordinates(Ge).forEach(function(gt,Rt){var tn;Oe.strokeStyle="red",Oe.setLineDash([]),Oe.fillStyle=((tn=Ne.editingLinearElement)===null||tn===void 0?void 0:tn.activePointIndex)===Rt?"rgba(255, 127, 127, 0.9)":"rgba(255, 255, 255, 0.9)";var va=st.POINT_HANDLE_SIZE;pu(Oe,gt[0],gt[1],va/2/Le.zoom.value)}),Oe.setLineDash([]),Oe.lineWidth=Et,Oe.translate(-Le.scrollX,-Le.scrollY),Oe.strokeStyle=xt}(C,t,c,J)}if(n&&Pf(n,a,C,k,c),ho(t)&&t.suggestedBindings.filter(function(Oe){return Oe!=null}).forEach(function(Oe){Nw(C,c,Oe)}),w&&!t.multiElement&&!t.editingLinearElement){for(var ee=e.reduce(function(Oe,Ne){var Le=[];if(t.selectedElementIds[Ne.id]&&!zf(t,Ne)&&Le.push(ze.Sn),c.remoteSelectedElementIds[Ne.id]&&Le.push.apply(Le,c.remoteSelectedElementIds[Ne.id].map(function(tn){return uu(tn,t).background})),Le.length){var Ge=ot(Ne),xt=Ge[0],Et=Ge[1],gt=Ge[2],Rt=Ge[3];Oe.push({angle:Ne.angle,elementX1:xt,elementY1:Et,elementX2:gt,elementY2:Rt,selectionColors:Le})}return Oe},[]),ae=function(Oe){var Ne=tr(e,Oe),Le=bt(Ne),Ge=Le[0],xt=Le[1],Et=Le[2],gt=Le[3];ee.push({angle:0,elementX1:Ge,elementX2:Et,elementY1:xt,elementY2:gt,selectionColors:[ze.Sn]})},De=0,xe=Uo(t);De<xe.length;De++)ae(xe[De]);t.editingGroupId&&ae(t.editingGroupId),ee.forEach(function(Oe){return zw(C,c,Oe)});var we=Ze(e,t);if(C.translate(c.scrollX,c.scrollY),we.length===1){C.fillStyle=ze.ix;var ge=Nc(we[0],c.zoom,"mouse");t.viewModeEnabled||r1(C,c,ge,we[0].angle)}else if(we.length>1&&!t.isRotating){var Se=4/c.zoom.value;C.fillStyle=ze.ix;var te=bt(we),be=te[0],je=te[1],Ue=te[2],Ie=te[3],Re=C.getLineDash();C.setLineDash([2/c.zoom.value]);var Qe=C.lineWidth;C.lineWidth=1/c.zoom.value,Kl(C,be-Se,je-Se,Ue-be+2*Se,Ie-je+2*Se,(be+Ue)/2,(je+Ie)/2,0),C.lineWidth=Qe,C.setLineDash(Re),ge=zc([be,je,Ue,Ie],0,c.zoom,"mouse",Ff),r1(C,c,ge,0)}C.translate(-c.scrollX,-c.scrollY)}for(var tt in C.scale(1/c.zoom.value,1/c.zoom.value),C.translate(-K,-Y),c.remotePointerViewportCoords){var mt=c.remotePointerViewportCoords[tt],He=mt.x,qe=mt.y;He-=t.offsetLeft,qe-=t.offsetTop;var ct=He<0||He>L-9||qe<0||qe>U-14;He=Math.max(He,0),He=Math.min(He,L-9),qe=Math.max(qe,0),qe=Math.min(qe,U-14);var At=uu(tt,t),Ln=At.background,_t=At.stroke,Tt=C.strokeStyle,or=(H=C.fillStyle,C.globalAlpha);C.strokeStyle=_t,C.fillStyle=Ln;var Kt=c.remotePointerUserStates[tt];(ct||Kt===kr.AWAY)&&(C.globalAlpha=.48),c.remotePointerButton&&c.remotePointerButton[tt]==="down"&&(C.beginPath(),C.arc(He,qe,15,0,2*Math.PI,!1),C.lineWidth=3,C.strokeStyle="#ffffff88",C.stroke(),C.closePath(),C.beginPath(),C.arc(He,qe,15,0,2*Math.PI,!1),C.lineWidth=1,C.strokeStyle=_t,C.stroke(),C.closePath()),C.beginPath(),C.moveTo(He,qe),C.lineTo(He+1,qe+14),C.lineTo(He+4,qe+9),C.lineTo(He+9,qe+10),C.lineTo(He,qe),C.fill(),C.stroke();var Yt=c.remotePointerUsernames[tt],Dt="";Kt===kr.AWAY?Dt=du?"\u26AB\uFE0F":" (".concat(kr.AWAY,")"):Kt===kr.IDLE?Dt=du?"\u{1F4A4}":" (".concat(kr.IDLE,")"):Kt===kr.ACTIVE&&(Dt=du?"\u{1F7E2}":"");var Pr="".concat(Yt?"".concat(Yt," "):"").concat(Dt);if(!ct&&Pr){var _r=He+9,An=qe+14,Tr=C.measureText(Pr),ls=Tr.actualBoundingBoxDescent+Tr.actualBoundingBoxAscent;C.fillStyle=_t,C.fillRect(_r-1,An-1,Tr.width+8+2,ls+8+2),C.fillStyle=Ln,C.fillRect(_r,An,Tr.width+8,ls+8),C.fillStyle=ze.ix,C.fillText(Pr,_r+4,An+4+Tr.actualBoundingBoxAscent)}C.strokeStyle=Tt,C.fillStyle=H,C.globalAlpha=or,C.closePath()}return u&&(W=function(Oe,Ne,Le,Ge){var xt=Ge.scrollX,Et=Ge.scrollY,gt=Ge.zoom;if(Oe.length===0)return{horizontal:null,vertical:null};var Rt=bt(Oe),tn=Rt[0],va=Rt[1],ss=Rt[2],Wn=Rt[3],Gn=Ne/gt.value,ya=Le/gt.value,Nu=Ne-Gn,Ru=Le-ya,Zt={top:parseInt(Tl("sat")),bottom:parseInt(Tl("sab")),left:parseInt(Tl("sal")),right:parseInt(Tl("sar"))},cs=q().rtl,bo=Nu/2-xt+Zt.left,xo=Ru/2-Et+Zt.top,Bu=bo+Gn-Zt.right,Hu=xo+ya-Zt.bottom,us=Math.min(tn,bo),ds=Math.min(va,xo),Fu=Math.max(ss,Bu),Vu=Math.max(Wn,Hu);return{horizontal:bo===us&&Bu===Fu?null:{x:Math.max(Zt.left,4)+(bo-us)/(Fu-us)*Ne,y:Le-6-Math.max(4,Zt.bottom),width:(Bu-bo)/(Fu-us)*Ne-Math.max(8,Zt.left+Zt.right),height:6},vertical:xo===ds&&Hu===Vu?null:{x:cs?Math.max(Zt.left,4):Ne-6-Math.max(Zt.right,4),y:(xo-ds)/(Vu-ds)*Le+Math.max(Zt.top,4),width:6,height:(Hu-xo)/(Vu-ds)*Le-Math.max(8,Zt.top+Zt.bottom)}}}(e,L,U,c),H=C.fillStyle,Tt=C.strokeStyle,C.fillStyle="rgba(0,0,0,0.3)",C.strokeStyle="rgba(255,255,255,0.8)",[W.horizontal,W.vertical].forEach(function(Oe){Oe&&function(Ne,Le,Ge,xt,Et,gt){Ne.beginPath(),Ne.moveTo(Le+gt,Ge),Ne.lineTo(Le+xt-gt,Ge),Ne.quadraticCurveTo(Le+xt,Ge,Le+xt,Ge+gt),Ne.lineTo(Le+xt,Ge+Et-gt),Ne.quadraticCurveTo(Le+xt,Ge+Et,Le+xt-gt,Ge+Et),Ne.lineTo(Le+gt,Ge+Et),Ne.quadraticCurveTo(Le,Ge+Et,Le,Ge+Et-gt),Ne.lineTo(Le,Ge+gt),Ne.quadraticCurveTo(Le,Ge,Le+gt,Ge),Ne.closePath(),Ne.fill(),Ne.stroke()}(C,Oe.x,Oe.y,Oe.width,Oe.height,3)}),C.fillStyle=H,C.strokeStyle=Tt),C.scale(1/r,1/r),{atLeastOneVisibleElement:Z.length>0,scrollBars:W}},r1=function(e,t,n,r){Object.keys(n).forEach(function(a){var s=n[a];if(s!==void 0){var c=e.lineWidth;e.lineWidth=1/t.zoom.value,a==="rotation"?pu(e,s[0]+s[2]/2,s[1]+s[3]/2,s[2]/2):Kl(e,s[0],s[1],s[2],s[3],s[0]+s[2]/2,s[1]+s[3]/2,r,!0),e.lineWidth=c}})},zw=function(e,t,n){var r=n.angle,a=n.elementX1,s=n.elementY1,c=n.elementX2,d=n.elementY2,h=n.selectionColors,m=c-a,u=d-s,v=e.getLineDash(),w=e.lineWidth,y=e.lineDashOffset,k=e.strokeStyle,O=4/t.zoom.value,I=8/t.zoom.value,C=4/t.zoom.value;e.lineWidth=1/t.zoom.value,e.translate(t.scrollX,t.scrollY);for(var L=h.length,U=0;U<L;++U)e.strokeStyle=h[U],e.setLineDash([I,C+(I+C)*(L-1)]),e.lineDashOffset=(I+C)*U,Kl(e,a-O,s-O,m+2*O,u+2*O,a+m/2,s+u/2,r);e.lineDashOffset=y,e.strokeStyle=k,e.lineWidth=w,e.setLineDash(v),e.translate(-t.scrollX,-t.scrollY)},Nw=function(e,t,n){var r=e.strokeStyle,a=e.lineWidth,s=Array.isArray(n)?Bw:Rw;e.translate(t.scrollX,t.scrollY),s(e,n),e.strokeStyle=r,e.lineWidth=a,e.translate(-t.scrollX,-t.scrollY)},Rw=function(e,t){var n=ot(t),r=n[0],a=n[1],s=n[2]-r,c=n[3]-a,d=zl(t,s,c);e.strokeStyle="rgba(0,0,0,.05)",e.lineWidth=d-4;var h=2+d/2;switch(t.type){case"rectangle":case"text":Kl(e,r-h,a-h,s+2*h,c+2*h,r+s/2,a+c/2,t.angle);break;case"diamond":var m=Math.hypot(s,c);(function(u,v,w,y,k,O){u.translate(y,k),u.rotate(O),u.beginPath(),u.moveTo(0,w/2),u.lineTo(v/2,0),u.lineTo(0,-w/2),u.lineTo(-v/2,0),u.closePath(),u.stroke(),u.rotate(-O),u.translate(-y,-k)})(e,s+2*(h*m/c),c+2*(h*m/s),r+s/2,a+c/2,t.angle);break;case"ellipse":(function(u,v,w,y,k,O){u.beginPath(),u.ellipse(y,k,v/2,w/2,O,0,2*Math.PI),u.stroke()})(e,s+2*h,c+2*h,r+s/2,a+c/2,t.angle)}},Bw=function(e,t){var n=t[0],r=t[1],a=t[2],s=zl(a,a.width,a.height);e.strokeStyle="rgba(0,0,0,0)",e.fillStyle="rgba(0,0,0,.05)",(r==="both"?[0,-1]:r==="start"?[0]:[-1]).forEach(function(c){var d=st.getPointAtIndexGlobalCoordinates(n,c),h=d[0],m=d[1];pu(e,h,m,s)})},Hw=function(e,t,n,r){var a=Fi(e),s=a[0],c=a[1],d=a[2],h=a[3],m=bn({clientX:r.offsetLeft,clientY:r.offsetTop},r),u=bn({clientX:r.offsetLeft+t,clientY:r.offsetTop+n},r);return m.x<=d&&m.y<=h&&u.x>=s&&u.y>=c},Fw=function(e,t,n,r){var a=r===void 0?{}:r,s=a.offsetX,c=s===void 0?0:s,d=a.offsetY,h=d===void 0?0:d;n&&e.forEach(function(m){m.isDeleted||function(u,v,w,y,k){var O=ot(u),I=O[0],C=O[1],L=O[2],U=O[3],H=(L-I)/2-(u.x-I),K=(U-C)/2-(u.y-C),Y=180*u.angle/Math.PI,W=v.generator;switch(u.type){case"selection":throw new Error("Selection rendering is not supported for SVG");case"rectangle":case"diamond":case"ellipse":Tc(u,W);var Z=v.draw(Bn(u));(ae=u.opacity/100)!=1&&(Z.setAttribute("stroke-opacity","".concat(ae)),Z.setAttribute("fill-opacity","".concat(ae))),Z.setAttribute("transform","translate(".concat(y||0," ").concat(k||0,") rotate(").concat(Y," ").concat(H," ").concat(K,")")),w.appendChild(Z);break;case"line":case"draw":case"arrow":Tc(u,W);var J=w.ownerDocument.createElementNS(Bo,"g"),ee=u.opacity/100;Bn(u).forEach(function(Ue){var Ie=v.draw(Ue);ee!==1&&(Ie.setAttribute("stroke-opacity","".concat(ee)),Ie.setAttribute("fill-opacity","".concat(ee))),Ie.setAttribute("transform","translate(".concat(y||0," ").concat(k||0,") rotate(").concat(Y," ").concat(H," ").concat(K,")")),u.type!=="line"&&u.type!=="draw"||!eo(u.points)||u.backgroundColor==="transparent"||Ie.setAttribute("fill-rule","evenodd"),J.appendChild(Ie)}),w.appendChild(J);break;default:if(!Mt(u))throw new Error("Unimplemented type ".concat(u.type));var ae=u.opacity/100;Z=w.ownerDocument.createElementNS(Bo,"g"),ae!==1&&(Z.setAttribute("stroke-opacity","".concat(ae)),Z.setAttribute("fill-opacity","".concat(ae))),Z.setAttribute("transform","translate(".concat(y||0," ").concat(k||0,") rotate(").concat(Y," ").concat(H," ").concat(K,")"));for(var De=u.text.replace(/\r\n?/g,`
`).split(`
`),xe=u.height/De.length,we=u.height-u.baseline,ge=u.textAlign==="center"?u.width/2:u.textAlign==="right"?u.width:0,Se=kf(u.text)?"rtl":"ltr",te=u.textAlign==="center"?"middle":u.textAlign==="right"||Se==="rtl"?"end":"start",be=0;be<De.length;be++){var je=w.ownerDocument.createElementNS(Bo,"text");je.textContent=De[be],je.setAttribute("x","".concat(ge)),je.setAttribute("y","".concat((be+1)*xe-we)),je.setAttribute("font-family",bf(u)),je.setAttribute("font-size","".concat(u.fontSize,"px")),je.setAttribute("fill",u.strokeColor),je.setAttribute("text-anchor",te),je.setAttribute("style","white-space: pre;"),je.setAttribute("direction",Se),Z.appendChild(je)}w.appendChild(Z)}}(m,t,n,m.x+c,m.y+h)})},fu=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e},o1="<!-- svg-source:excalidraw -->",hu=function(e,t,n,r){var a=n.exportBackground,s=n.exportPadding,c=s===void 0?10:s,d=n.viewBackgroundColor,h=n.scale,m=h===void 0?1:h,u=n.shouldAddWatermark;r===void 0&&(r=function(L,U){var H=document.createElement("canvas");return H.width=L*m,H.height=U*m,{canvas:H,scale:m}});var v=mu(e,u),w=gu(v,c,u),y=w[0],k=w[1],O=r(w[2],w[3]),I=O.canvas,C=O.scale;return n1(v,t,null,C===void 0?m:C,No.canvas(I),I,{viewBackgroundColor:a?d:null,exportWithDarkMode:t.exportWithDarkMode,scrollX:-y+c,scrollY:-k+c,zoom:lo().zoom,remotePointerViewportCoords:{},remoteSelectedElementIds:{},shouldCacheIgnoreZoom:!1,remotePointerUsernames:{},remotePointerUserStates:{}},{renderScrollbars:!1,renderSelection:!1,renderOptimizations:!1,renderGrid:!1}),I},Yl=function(e,t){var n=t.exportBackground,r=t.exportPadding,a=r===void 0?10:r,s=t.viewBackgroundColor,c=t.exportWithDarkMode,d=t.scale,h=d===void 0?1:d,m=t.shouldAddWatermark,u=t.metadata,v=u===void 0?"":u,w=mu(e,m),y=gu(w,a,m),k=y[0],O=y[1],I=y[2],C=y[3],L=document.createElementNS(Bo,"svg");if(L.setAttribute("version","1.1"),L.setAttribute("xmlns",Bo),L.setAttribute("viewBox","0 0 ".concat(I," ").concat(C)),L.setAttribute("width","".concat(I*h)),L.setAttribute("height","".concat(C*h)),c&&L.setAttribute("filter",j.ZF),L.innerHTML=`
  `.concat(o1,`
  `).concat(v,`
  <defs>
    <style>
      @font-face {
        font-family: "Virgil";
        src: url("https://excalidraw.com/Virgil.woff2");
      }
      @font-face {
        font-family: "Cascadia";
        src: url("https://excalidraw.com/Cascadia.woff2");
      }
    </style>
  </defs>
  `),n&&s){var U=L.ownerDocument.createElementNS(Bo,"rect");U.setAttribute("x","0"),U.setAttribute("y","0"),U.setAttribute("width","".concat(I)),U.setAttribute("height","".concat(C)),U.setAttribute("fill",s),L.appendChild(U)}var H=No.svg(L);return Fw(w,H,L,{offsetX:-k+a,offsetY:-O+a}),L},mu=function(e,t){var n=fu([],e);if(t){var r=bt(e),a=r[2],s=r[3];n=fu(fu([],n),[Vw(a,s)])}return n},Vw=function(e,t){return uo({text:_("labels.madeWithExcalidraw"),fontSize:16,fontFamily:j.rk,textAlign:"right",verticalAlign:j.hs,x:e,y:t+16,strokeColor:ze.MA[5],backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:1,strokeStyle:"solid",roughness:1,opacity:100,strokeSharpness:"sharp"})},gu=function(e,t,n){var r=bt(e),a=r[0],s=r[1],c=r[2],d=r[3];return[a,s,wn(a,c)+2*t,wn(s,d)+t+(n?0:t)]},Tn=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e};function i1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i1(Object(n),!0).forEach(function(r){re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var a1=32,En=12,vo=256,yo="NOT_SPREADSHEET",sa="VALID_SPREADSHEET",ca=function(e){var t=/^[$]?([0-9,]+(\.[0-9]+)?)$/.exec(e);return t?parseFloat(t[1].replace(/,/g,"")):null},vu=function(e,t){return e.slice(1).every(function(n){return ca(n[t])!==null})},l1=function(e){var t=e[0].length;if(t>2)return{type:yo,reason:"More than 2 columns"};if(t===1){if(!vu(e,0))return{type:yo,reason:"Value is not numeric"};var n=ca(e[0][0])===null,r=(n?e.slice(1):e).map(function(h){return ca(h[0])});return r.length<2?{type:yo,reason:"Less than two rows"}:{type:sa,spreadsheet:{title:n?e[0][0]:null,labels:null,values:r}}}var a=vu(e,0)?0:1;if(!vu(e,a))return{type:yo,reason:"Value is not numeric"};var s=(a+1)%2,c=ca(e[0][a])===null,d=c?e.slice(1):e;return d.length<2?{type:yo,reason:"Less than 2 rows"}:{type:sa,spreadsheet:{title:c?e[0][a]:null,labels:d.map(function(h){return h[s]}),values:d.map(function(h){return ca(h[a])})}}},Zl=mr.elementBackground.slice(2,mr.elementBackground.length),kn={fillStyle:"hachure",fontFamily:j.rk,fontSize:j.n5,opacity:100,roughness:1,strokeColor:mr.elementStroke[0],strokeSharpness:"sharp",strokeStyle:"solid",strokeWidth:1,verticalAlign:"middle"},s1=function(e){return{chartWidth:44*e.values.length+En,chartHeight:280}},c1=function(e,t,n,r,a,s){var c=s1(e),d=c.chartWidth,h=c.chartHeight,m=e.title?uo(ht(ht({backgroundColor:a,groupIds:[r]},kn),{},{text:e.title,x:t+d/2,y:n-vo-24-j.n5,strokeSharpness:"sharp",strokeStyle:"solid",textAlign:"center"})):null,u=s?Al(ht(ht({backgroundColor:a,groupIds:[r]},kn),{},{type:"rectangle",x:t,y:n-h,width:d,height:h,strokeColor:mr.elementStroke[0],fillStyle:"solid",opacity:6})):null;return Tn(Tn(Tn(Tn(Tn([],u?[u]:[]),m?[m]:[]),function(v,w,y,k,O){var I;return((I=v.labels)===null||I===void 0?void 0:I.map(function(C,L){return uo(ht(ht({groupIds:[k],backgroundColor:O},kn),{},{text:C.length>8?"".concat(C.slice(0,5),"..."):C,x:w+44*L+24,y:y+6,width:a1,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))}))||[]}(e,t,n,r,a)),function(v,w,y,k,O){var I=uo(ht(ht({groupIds:[k],backgroundColor:O},kn),{},{x:w-En,y:y-En,text:"0",textAlign:"right"}));return[I,uo(ht(ht({groupIds:[k],backgroundColor:O},kn),{},{x:w-En,y:y-vo-I.height/2,text:Math.max.apply(Math,v.values).toLocaleString(),textAlign:"right"}))]}(e,t,n,r,a)),function(v,w,y,k,O){var I=s1(v),C=I.chartWidth,L=I.chartHeight;return[Wo(ht(ht({backgroundColor:O,groupIds:[k]},kn),{},{type:"line",x:w,y,startArrowhead:null,endArrowhead:null,width:C,points:[[0,0],[C,0]]})),Wo(ht(ht({backgroundColor:O,groupIds:[k]},kn),{},{type:"line",x:w,y,startArrowhead:null,endArrowhead:null,height:L,points:[[0,0],[0,-L]]})),Wo(ht(ht({backgroundColor:O,groupIds:[k]},kn),{},{type:"line",x:w,y:y-vo-En,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:C,opacity:50,points:[[0,0],[C,0]]}))]}(e,t,n,r,a))},Uw=function(e,t,n,r){return e==="line"?function(a,s,c){for(var d=Math.max.apply(Math,a.values),h=so(),m=Zl[Math.floor(Math.random()*Zl.length)],u=0,v=[],w=0,y=a.values;w<y.length;w++){var k=44*u,O=-y[w]/d*vo;v.push([k,O]),u++}var I=Math.max.apply(Math,v.map(function(W){return W[0]})),C=Math.max.apply(Math,v.map(function(W){return W[1]})),L=Math.min.apply(Math,v.map(function(W){return W[0]})),U=Math.min.apply(Math,v.map(function(W){return W[1]})),H=Wo(ht(ht({backgroundColor:m,groupIds:[h]},kn),{},{type:"line",x:s+En+16,y:c-En,startArrowhead:null,endArrowhead:null,height:C-U,width:I-L,strokeWidth:2,points:v})),K=a.values.map(function(W,Z){var J=44*Z+6,ee=-W/d*vo+6;return Al(ht(ht({backgroundColor:m,groupIds:[h]},kn),{},{fillStyle:"solid",strokeWidth:2,type:"ellipse",x:s+J+16,y:c+ee-24,width:En,height:En}))}),Y=a.values.map(function(W,Z){var J=44*Z+6,ee=W/d*vo+6+En;return Wo(ht(ht({backgroundColor:m,groupIds:[h]},kn),{},{type:"line",x:s+J+16+6,y:c-ee,startArrowhead:null,endArrowhead:null,height:ee,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,ee]]}))});return Tn(Tn(Tn(Tn([],c1(a,s,c,h,m,j.Vi.DEVELOPMENT==="production")),[H]),Y),K)}(t,n,r):function(a,s,c){var d=Math.max.apply(Math,a.values),h=so(),m=Zl[Math.floor(Math.random()*Zl.length)],u=a.values.map(function(v,w){var y=v/d*vo;return Al(ht(ht({backgroundColor:m,groupIds:[h]},kn),{},{type:"rectangle",x:s+44*w+En,y:c-y-En,width:a1,height:y}))});return Tn(Tn([],u),c1(a,s,c,h,m,j.Vi.DEVELOPMENT==="production"))}(t,n,r)},Ww=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])})(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),yu=function(e){function t(n,r){n===void 0&&(n="Couldn't export canvas."),r===void 0&&(r="CANVAS_ERROR");var a=e.call(this)||this;return a.name=r,a.message=n,a}return Ww(t,e),t}(Error),Xl=function(e,t){var n,r,a,s,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function d(h){return function(m){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&u[0]?r.return:u[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,u[1])).done)return a;switch(r=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return c.label++,{value:u[1],done:!1};case 5:c.label++,r=u[1],u=[0];continue;case 7:u=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!((a=a.length>0&&a[a.length-1])||u[0]!==6&&u[0]!==2)){c=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){c.label=u[1];break}if(u[0]===6&&c.label<a[1]){c.label=a[1],a=u;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(u);break}a[2]&&c.ops.pop(),c.trys.pop();continue}u=t.call(e,c)}catch(v){u=[6,v],r=0}finally{n=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([h,m])}}},wu=function(e,t){var n={type:j.r8.excalidraw,version:2,source:j.pb,elements:Mh(e),appState:Sf(t)};return JSON.stringify(n,null,2)},u1=function(){var e=(0,Q.Z)(function(t,n){var r;return Xl(this,function(a){switch(a.label){case 0:return r=wu(t,n),[4,kl(new Blob([r],{type:j.LO.excalidraw}),{fileName:"".concat(n.name,".excalidraw"),description:"Excalidraw file",extensions:[".excalidraw"]},n.fileHandle)];case 1:return[2,{fileHandle:a.sent()}]}})});return function(t,n){return e.apply(this,arguments)}}(),Gw=function(){var e=(0,Q.Z)(function(t){var n;return Xl(this,function(r){switch(r.label){case 0:return[4,of({description:"Excalidraw files"})];case 1:return n=r.sent(),[2,ql(n,t)]}})});return function(t){return e.apply(this,arguments)}}(),Kw=function(){var e=(0,Q.Z)(function(t){var n,r,a;return Xl(this,function(s){switch(s.label){case 0:return[4,t.loadLibrary()];case 1:return n=s.sent(),r={type:j.r8.excalidrawLibrary,version:1,source:j.pb,library:n},a=JSON.stringify(r,null,2),[4,kl(new Blob([a],{type:j.LO.excalidrawlib}),{fileName:"library.excalidrawlib",description:"Excalidraw library file",extensions:[".excalidrawlib"]})];case 2:return s.sent(),[2]}})});return function(t){return e.apply(this,arguments)}}(),Yw=function(){var e=(0,Q.Z)(function(t){var n;return Xl(this,function(r){switch(r.label){case 0:return[4,of({description:"Excalidraw library files"})];case 1:return n=r.sent(),[4,t.importLibrary(n)];case 2:return r.sent(),[2]}})});return function(t){return e.apply(this,arguments)}}();function d1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ua(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d1(Object(n),!0).forEach(function(r){re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var bu=function(e,t){var n,r,a,s,c,d,h,m,u={type:e.type,version:e.version||1,versionNonce:(n=e.versionNonce)!==null&&n!==void 0?n:0,isDeleted:(r=e.isDeleted)!==null&&r!==void 0&&r,id:e.id||so(),fillStyle:e.fillStyle||"hachure",strokeWidth:e.strokeWidth||1,strokeStyle:(a=e.strokeStyle)!==null&&a!==void 0?a:"solid",roughness:(s=e.roughness)!==null&&s!==void 0?s:1,opacity:e.opacity==null?100:e.opacity,angle:e.angle||0,x:e.x||0,y:e.y||0,strokeColor:e.strokeColor,backgroundColor:e.backgroundColor,width:e.width||0,height:e.height||0,seed:(c=e.seed)!==null&&c!==void 0?c:1,groupIds:(d=e.groupIds)!==null&&d!==void 0?d:[],strokeSharpness:(h=e.strokeSharpness)!==null&&h!==void 0?h:qr(e.type)?"round":"sharp",boundElementIds:(m=e.boundElementIds)!==null&&m!==void 0?m:[]};return ua(ua(ua({},u),Lf(u)),t)},Zw=function(e){var t;switch(e.type){case"text":var n=e.fontSize,r=e.fontFamily;if("font"in e){var a=e.font.split(" "),s=a[0],c=a[1];n=parseInt(s,10),r=function(v){for(var w=0,y=Object.entries(j.ut);w<y.length;w++){var k=y[w],O=k[0];if(k[1].includes(v))return parseInt(O)}return j.rk}(c)}return bu(e,{fontSize:n,fontFamily:r,text:(t=e.text)!==null&&t!==void 0?t:"",baseline:e.baseline,textAlign:e.textAlign||j.Hg,verticalAlign:e.verticalAlign||j.hs});case"draw":case"line":case"arrow":var d=e.startArrowhead,h=d===void 0?null:d,m=e.endArrowhead,u=m===void 0?e.type==="arrow"?"arrow":null:m;return bu(e,{startBinding:e.startBinding,endBinding:e.endBinding,points:!Array.isArray(e.points)||e.points.length<2?[[0,0],[e.width,e.height]]:e.points,lastCommittedPoint:null,startArrowhead:h,endArrowhead:u});case"ellipse":case"rectangle":case"diamond":return bu(e,{})}},$l=function(e){return(e||[]).reduce(function(t,n){if(n.type!=="selection"&&!co(n)){var r=Zw(n);r&&t.push(r)}return t},[])},p1=function(e,t){e=e||{};for(var n=lo(),r={},a=0,s=Object.entries(n);a<s.length;a++){var c=s[a],d=c[0],h=c[1],m=e[d],u=t?t[d]:void 0;r[d]=m!==void 0?m:u!==void 0?u:h}return ua(ua({},r),{},{zoom:typeof e.zoom=="number"?{value:e.zoom,translation:n.zoom.translation}:e.zoom||n.zoom})},da=function(e,t){return{elements:$l(e==null?void 0:e.elements),appState:p1(e==null?void 0:e.appState,t||null)}},Ql=function(e,t){var n,r,a,s,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function d(h){return function(m){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&u[0]?r.return:u[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,u[1])).done)return a;switch(r=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return c.label++,{value:u[1],done:!1};case 5:c.label++,r=u[1],u=[0];continue;case 7:u=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!((a=a.length>0&&a[a.length-1])||u[0]!==6&&u[0]!==2)){c=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){c.label=u[1];break}if(u[0]===6&&c.label<a[1]){c.label=a[1],a=u;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(u);break}a[2]&&c.ops.pop(),c.trys.pop();continue}u=t.call(e,c)}catch(v){u=[6,v],r=0}finally{n=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([h,m])}}};function f1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function h1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f1(Object(n),!0).forEach(function(r){re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var m1=function(){var e=(0,Q.Z)(function(t){var n;return Ql(this,function(r){switch(r.label){case 0:if(t.type!=="image/png")return[3,6];r.label=1;case 1:return r.trys.push([1,4,,5]),[4,Promise.all([E.e(736),E.e(9)]).then(E.bind(E,8527))];case 2:return[4,r.sent().decodePngMetadata(t)];case 3:return[2,r.sent()];case 4:throw r.sent().message==="INVALID"?new Error(_("alerts.imageDoesNotContainScene")):new Error(_("alerts.cannotRestoreFromImage"));case 5:return[3,15];case 6:return"text"in Blob?[4,t.text()]:[3,8];case 7:return n=r.sent(),[3,10];case 8:return[4,new Promise(function(a){var s=new FileReader;s.readAsText(t,"utf8"),s.onloadend=function(){s.readyState===FileReader.DONE&&a(s.result)}})];case 9:n=r.sent(),r.label=10;case 10:if(t.type!=="image/svg+xml")return[3,15];r.label=11;case 11:return r.trys.push([11,14,,15]),[4,Promise.all([E.e(736),E.e(9)]).then(E.bind(E,8527))];case 12:return[4,r.sent().decodeSvgMetadata({svg:n})];case 13:return[2,r.sent()];case 14:throw r.sent().message==="INVALID"?new Error(_("alerts.imageDoesNotContainScene")):new Error(_("alerts.cannotRestoreFromImage"));case 15:return[2,n]}})});return function(t){return e.apply(this,arguments)}}(),ql=function(){var e=(0,Q.Z)(function(t,n){var r,a;return Ql(this,function(s){switch(s.label){case 0:return[4,m1(t)];case 1:r=s.sent();try{if(!function(c){return(c==null?void 0:c.type)===j.r8.excalidraw&&(!c.elements||Array.isArray(c.elements)&&(!c.appState||typeof c.appState=="object"))}(a=JSON.parse(r)))throw new Error(_("alerts.couldNotLoadInvalidFile"));return[2,da({elements:Mh(a.elements||[]),appState:h1(h1({theme:n==null?void 0:n.theme,fileHandle:!t.type.startsWith("image/")&&t.handle||null},Sf(a.appState||{})),n?oa(a.elements||[],n):{})},n)]}catch(c){throw console.error(c.message),new Error(_("alerts.couldNotLoadInvalidFile"))}return[2]}})});return function(t,n){return e.apply(this,arguments)}}(),Xw=function(){var e=(0,Q.Z)(function(t){var n,r;return Ql(this,function(a){switch(a.label){case 0:return[4,m1(t)];case 1:if(n=a.sent(),(r=JSON.parse(n)).type!==j.r8.excalidrawLibrary)throw new Error(_("alerts.couldNotLoadInvalidFile"));return[2,r]}})});return function(t){return e.apply(this,arguments)}}(),xu=function(){var e=(0,Q.Z)(function(t){return Ql(this,function(n){return[2,new Promise(function(r,a){try{t.toBlob(function(s){if(!s)return a(new yu(_("canvasError.canvasTooBig"),"CANVAS_POSSIBLY_TOO_BIG"));r(s)})}catch(s){a(s)}})]})});return function(t){return e.apply(this,arguments)}}(),pa=function(e,t){var n,r,a,s,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function d(h){return function(m){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&u[0]?r.return:u[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,u[1])).done)return a;switch(r=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return c.label++,{value:u[1],done:!1};case 5:c.label++,r=u[1],u=[0];continue;case 7:u=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!((a=a.length>0&&a[a.length-1])||u[0]!==6&&u[0]!==2)){c=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){c.label=u[1];break}if(u[0]===6&&c.label<a[1]){c.label=a[1],a=u;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(u);break}a[2]&&c.ops.pop(),c.trys.pop();continue}u=t.call(e,c)}catch(v){u=[6,v],r=0}finally{n=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([h,m])}}},Eu="",ku=!1,$w="clipboard"in navigator&&"readText"in navigator.clipboard,Jl="clipboard"in navigator&&"writeText"in navigator.clipboard,es="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,g1=function(){var e=(0,Q.Z)(function(t,n){var r,a,s;return pa(this,function(c){switch(c.label){case 0:r={type:j.r8.excalidrawClipboard,elements:Ze(t,n)},a=JSON.stringify(r),Eu=a,c.label=1;case 1:return c.trys.push([1,3,,4]),ku=!1,[4,y1(a)];case 2:return c.sent(),[3,4];case 3:return s=c.sent(),ku=!0,console.error(s),[3,4];case 4:return[2]}})});return function(t,n){return e.apply(this,arguments)}}(),v1=function(){if(!Eu)return{};try{return JSON.parse(Eu)}catch(e){return console.error(e),{}}},Qw=function(e){var t=function(n){var r=n.trim().split(`
`).map(function(d){return d.trim().split("	")});if(r.length&&r[0].length!==2&&(r=n.trim().split(`
`).map(function(d){return d.trim().split(",")})),r.length===0)return{type:yo,reason:"No values"};var a=r[0].length;if(!r.every(function(d){return d.length===a}))return{type:yo,reason:"All rows don't have same number of columns"};var s=l1(r);if(s.type!==sa){var c=l1(function(d){for(var h=[],m=0;m<d[0].length;m++){for(var u=[],v=0;v<d.length;v++)u.push(d[v][m]);h.push(u)}return h}(r));if(c.type===sa)return c}return s}(e);return t.type===sa?{spreadsheet:t.spreadsheet}:null},qw=function(){var e=(0,Q.Z)(function(t){var n,r,a;return pa(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),t?(r=(n=t.clipboardData)===null||n===void 0?void 0:n.getData("text/plain").trim(),[3,4]):[3,1];case 1:return(a=$w)?[4,navigator.clipboard.readText()]:[3,3];case 2:a=s.sent(),s.label=3;case 3:r=a,s.label=4;case 4:return[2,r||""];case 5:return s.sent(),[2,""];case 6:return[2]}})});return function(t){return e.apply(this,arguments)}}(),Jw=function(){var e=(0,Q.Z)(function(t){var n,r,a,s;return pa(this,function(c){switch(c.label){case 0:return[4,qw(t)];case 1:if(!(n=c.sent())||n.includes(o1))return[2,v1()];if(r=Qw(n))return[2,r];a=v1();try{return s=JSON.parse(n),d=s,[j.r8.excalidraw,j.r8.excalidrawClipboard].includes(d==null?void 0:d.type)&&Array.isArray(d.elements)?[2,{elements:s.elements}]:[2,a]}catch(h){return[2,ku&&a.elements?a:{text:n}]}return[2]}var d})});return function(t){return e.apply(this,arguments)}}(),eb=function(){var e=(0,Q.Z)(function(t){var n;return pa(this,function(r){switch(r.label){case 0:return[4,xu(t)];case 1:return n=r.sent(),[4,navigator.clipboard.write([new window.ClipboardItem({"image/png":n})])];case 2:return r.sent(),[2]}})});return function(t){return e.apply(this,arguments)}}(),y1=function(){var e=(0,Q.Z)(function(t){var n,r;return pa(this,function(a){switch(a.label){case 0:if(n=!1,!Jl)return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,navigator.clipboard.writeText(t||"")];case 2:return a.sent(),n=!0,[3,4];case 3:return r=a.sent(),console.error(r),[3,4];case 4:if(!n&&!tb(t||" "))throw new Error("couldn't copy");return[2]}})});return function(t){return e.apply(this,arguments)}}(),tb=function(e){var t=document.documentElement.getAttribute("dir")==="rtl",n=document.createElement("textarea");n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[t?"right":"left"]="-9999px";var r=window.pageYOffset||document.documentElement.scrollTop;n.style.top="".concat(r,"px"),n.style.fontSize="12pt",n.setAttribute("readonly",""),n.value=e,document.body.appendChild(n);var a=!1;try{n.select(),n.setSelectionRange(0,n.value.length),a=document.execCommand("copy")}catch(s){console.error(s)}return n.remove(),a},nb=function(e,t){var n,r,a,s,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function d(h){return function(m){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&u[0]?r.return:u[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,u[1])).done)return a;switch(r=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return c.label++,{value:u[1],done:!1};case 5:c.label++,r=u[1],u=[0];continue;case 7:u=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!((a=a.length>0&&a[a.length-1])||u[0]!==6&&u[0]!==2)){c=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){c.label=u[1];break}if(u[0]===6&&c.label<a[1]){c.label=a[1],a=u;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(u);break}a[2]&&c.ops.pop(),c.trys.pop();continue}u=t.call(e,c)}catch(v){u=[6,v],r=0}finally{n=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([h,m])}}},Su=function(){var e=(0,Q.Z)(function(t,n,r,a,s){var c,d,h,m,u,v,w,y,k,O=s.exportBackground,I=s.exportPadding,C=I===void 0?10:I,L=s.viewBackgroundColor,U=s.name,H=s.scale,K=H===void 0?1:H,Y=s.shouldAddWatermark;return nb(this,function(W){switch(W.label){case 0:if(n.length===0)throw new Error(_("alerts.cannotExportEmptyCanvas"));return t!=="svg"&&t!=="clipboard-svg"?[3,7]:(d=Yl,h=[n],m={exportBackground:O,exportWithDarkMode:r.exportWithDarkMode,viewBackgroundColor:L,exportPadding:C,scale:K,shouldAddWatermark:Y},r.exportEmbedScene&&t==="svg"?[4,Promise.all([E.e(736),E.e(9)]).then(E.bind(E,8527))]:[3,3]);case 1:return[4,W.sent().encodeSvgMetadata({text:wu(n,r)})];case 2:return u=W.sent(),[3,4];case 3:u=void 0,W.label=4;case 4:return c=d.apply(void 0,h.concat([(m.metadata=u,m)])),t!=="svg"?[3,6]:[4,kl(new Blob([c.outerHTML],{type:"image/svg+xml"}),{fileName:"".concat(U,".svg"),extensions:[".svg"]})];case 5:return W.sent(),[2];case 6:if(t==="clipboard-svg")return y1(c.outerHTML),[2];W.label=7;case 7:return(v=hu(n,r,{exportBackground:O,viewBackgroundColor:L,exportPadding:C,scale:K,shouldAddWatermark:Y})).style.display="none",document.body.appendChild(v),t!=="png"?[3,13]:(w="".concat(U,".png"),[4,xu(v)]);case 8:return y=W.sent(),r.exportEmbedScene?[4,Promise.all([E.e(736),E.e(9)]).then(E.bind(E,8527))]:[3,11];case 9:return[4,W.sent().encodePngMetadata({blob:y,metadata:wu(n,r)})];case 10:y=W.sent(),W.label=11;case 11:return[4,kl(y,{fileName:w,extensions:[".png"]})];case 12:return W.sent(),[3,17];case 13:if(t!=="clipboard")return[3,17];W.label=14;case 14:return W.trys.push([14,16,,17]),[4,eb(v)];case 15:return W.sent(),[3,17];case 16:throw(k=W.sent()).name==="CANVAS_POSSIBLY_TOO_BIG"?k:new Error(_("alerts.couldNotCopyToClipboard"));case 17:return v!==a&&v.remove(),[2]}})});return function(t,n,r,a,s){return e.apply(this,arguments)}}(),Cu=function(e,t){var n,r,a,s,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function d(h){return function(m){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&u[0]?r.return:u[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,u[1])).done)return a;switch(r=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return c.label++,{value:u[1],done:!1};case 5:c.label++,r=u[1],u=[0];continue;case 7:u=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!((a=a.length>0&&a[a.length-1])||u[0]!==6&&u[0]!==2)){c=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){c.label=u[1];break}if(u[0]===6&&c.label<a[1]){c.label=a[1],a=u;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(u);break}a[2]&&c.ops.pop(),c.trys.pop();continue}u=t.call(e,c)}catch(v){u=[6,v],r=0}finally{n=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([h,m])}}};function w1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w1(Object(n),!0).forEach(function(r){re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var b1,x1,E1;pe({name:"changeProjectName",perform:function(e,t,n){return $o("change","title"),{appState:Pt(Pt({},t),{},{name:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData,r=e.appProps;return f().createElement(jw,{label:_("labels.fileTitle"),value:t.name||"Unnamed",onChange:function(a){return n(a)},isNameEditable:r.name===void 0&&!t.viewModeEnabled})}}),pe({name:"changeExportBackground",perform:function(e,t,n){return{appState:Pt(Pt({},t),{},{exportBackground:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return f().createElement("label",null,f().createElement("input",{type:"checkbox",checked:t.exportBackground,onChange:function(r){return n(r.target.checked)}})," ",_("labels.withBackground"))}}),pe({name:"changeExportEmbedScene",perform:function(e,t,n){return{appState:Pt(Pt({},t),{},{exportEmbedScene:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return f().createElement("label",{style:{display:"flex"}},f().createElement("input",{type:"checkbox",checked:t.exportEmbedScene,onChange:function(r){return n(r.target.checked)}})," ",_("labels.exportEmbedScene"),f().createElement(cu,{label:_("labels.exportEmbedScene_details"),position:"above",long:!0},f().createElement("div",{className:"TooltipIcon"},Ah)))}}),pe({name:"changeShouldAddWatermark",perform:function(e,t,n){return{appState:Pt(Pt({},t),{},{shouldAddWatermark:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return f().createElement("label",null,f().createElement("input",{type:"checkbox",checked:t.shouldAddWatermark,onChange:function(r){return n(r.target.checked)}})," ",_("labels.addWatermark"))}}),pe({name:"saveScene",perform:(b1=(0,Q.Z)(function(e,t,n){var r,a,s;return Cu(this,function(c){switch(c.label){case 0:r=!!t.fileHandle,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,u1(e,t)];case 2:return a=c.sent().fileHandle,[2,{commitToHistory:!1,appState:Pt(Pt({},t),{},{fileHandle:a,toastMessage:r?a.name?_("toast.fileSavedToFilename").replace("{filename}",'"'.concat(a.name,'"')):_("toast.fileSaved"):null})}];case 3:return((s=c.sent())==null?void 0:s.name)!=="AbortError"&&console.error(s),[2,{commitToHistory:!1}];case 4:return[2]}})}),function(e,t,n){return b1.apply(this,arguments)}),keyTest:function(e){return e.key===Sc&&e[Fe]&&!e.shiftKey},PanelComponent:function(e){var t=e.updateData;return f().createElement(Ve,{type:"button",icon:S2,title:_("buttons.save"),"aria-label":_("buttons.save"),showAriaLabel:mn(),onClick:function(){return t(null)},"data-testid":"save-button"})}}),pe({name:"saveAsScene",perform:(x1=(0,Q.Z)(function(e,t,n){var r,a;return Cu(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,u1(e,Pt(Pt({},t),{},{fileHandle:null}))];case 1:return r=s.sent().fileHandle,[2,{commitToHistory:!1,appState:Pt(Pt({},t),{},{fileHandle:r})}];case 2:return((a=s.sent())==null?void 0:a.name)!=="AbortError"&&console.error(a),[2,{commitToHistory:!1}];case 3:return[2]}})}),function(e,t,n){return x1.apply(this,arguments)}),keyTest:function(e){return e.key===Sc&&e.shiftKey&&e[Fe]},PanelComponent:function(e){var t=e.updateData;return f().createElement(Ve,{type:"button",icon:C2,title:_("buttons.saveAs"),"aria-label":_("buttons.saveAs"),showAriaLabel:mn(),hidden:!hr,onClick:function(){return t(null)},"data-testid":"save-as-button"})}}),pe({name:"loadScene",perform:(E1=(0,Q.Z)(function(e,t){var n,r,a,s;return Cu(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,Gw(t)];case 1:return n=c.sent(),r=n.elements,a=n.appState,[2,{elements:r,appState:a,commitToHistory:!0}];case 2:return((s=c.sent())==null?void 0:s.name)==="AbortError"?[2,!1]:[2,{elements:e,appState:Pt(Pt({},t),{},{errorMessage:s.message}),commitToHistory:!1}];case 3:return[2]}})}),function(e,t){return E1.apply(this,arguments)}),keyTest:function(e){return e[Fe]&&e.key===yy},PanelComponent:function(e){var t=e.updateData;return e.appState,f().createElement(Ve,{type:"button",icon:Ih,title:_("buttons.load"),"aria-label":_("buttons.load"),showAriaLabel:mn(),onClick:t,"data-testid":"load-button"})}}),pe({name:"exportWithDarkMode",perform:function(e,t,n){return{appState:Pt(Pt({},t),{},{exportWithDarkMode:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return f().createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"}},f().createElement(e1,{value:t.exportWithDarkMode?"dark":"light",onChange:function(r){n(r==="dark")},title:_("labels.toggleExportColorScheme")}))}});function k1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function S1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k1(Object(n),!0).forEach(function(r){re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var C1="{}",rb=pe({name:"copyStyles",perform:function(e,t){var n=e.find(function(r){return t.selectedElementIds[r.id]});return n&&(C1=JSON.stringify(n)),{appState:S1(S1({},t),{},{toastMessage:_("toast.copyStyles")}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(e){return e[Fe]&&e.altKey&&e.code===df}}),ob=pe({name:"pasteStyles",perform:function(e,t){var n,r=JSON.parse(C1);return((n=r)==null?void 0:n.type)!=="text"&&(n==null?void 0:n.type)!=="diamond"&&(n==null?void 0:n.type)!=="rectangle"&&(n==null?void 0:n.type)!=="ellipse"&&(n==null?void 0:n.type)!=="arrow"&&(n==null?void 0:n.type)!=="draw"&&(n==null?void 0:n.type)!=="line"?{elements:e,commitToHistory:!1}:{elements:e.map(function(a){if(t.selectedElementIds[a.id]){var s=lt(a,{backgroundColor:r==null?void 0:r.backgroundColor,strokeWidth:r==null?void 0:r.strokeWidth,strokeColor:r==null?void 0:r.strokeColor,strokeStyle:r==null?void 0:r.strokeStyle,fillStyle:r==null?void 0:r.fillStyle,opacity:r==null?void 0:r.opacity,roughness:r==null?void 0:r.roughness});return Mt(s)&&(_e(s,{fontSize:(r==null?void 0:r.fontSize)||j.n5,fontFamily:(r==null?void 0:r.fontFamily)||j.rk,textAlign:(r==null?void 0:r.textAlign)||j.Hg}),Fl(s)),s}return a}),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(e){return e[Fe]&&e.altKey&&e.code===ff}}),ib=function(e){return f().createElement("button",{className:"help-icon",onClick:e.onClick,type:"button",title:"".concat(e.title," \u2014 ?"),"aria-label":e.title},Ah)};function O1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Qo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O1(Object(n),!0).forEach(function(r){re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}pe({name:"toggleCanvasMenu",perform:function(e,t){return{appState:Qo(Qo({},t),{},{openMenu:t.openMenu==="canvas"?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return f().createElement(Ve,{type:"button",icon:I2,"aria-label":_("buttons.menu"),onClick:n,selected:t.openMenu==="canvas"})}}),pe({name:"toggleEditMenu",perform:function(e,t){return{appState:Qo(Qo({},t),{},{openMenu:t.openMenu==="shape"?null:"shape"}),commitToHistory:!1}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return f().createElement(Ve,{visible:Xc(n,Ae(t)),type:"button",icon:M2,"aria-label":_("buttons.edit"),onClick:r,selected:n.openMenu==="shape"})}}),pe({name:"toggleFullScreen",perform:function(){return Ef()||document.documentElement.requestFullscreen(),Ef()&&document.exitFullscreen(),{commitToHistory:!1}},keyTest:function(e){return e.code===sy&&!e[Fe]}}),pe({name:"toggleShortcuts",perform:function(e,t,n,r){var a=r.focusContainer;return t.showHelpDialog&&a(),{appState:Qo(Qo({},t),{},{showHelpDialog:!t.showHelpDialog}),commitToHistory:!1}},PanelComponent:function(e){var t=e.updateData;return f().createElement(ib,{title:_("helpDialog.title"),onClick:t})},keyTest:function(e){return e.key===hf}});var fa=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e};function M1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ts(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M1(Object(n),!0).forEach(function(r){re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var P1=function(e,t){var n=Ze(Ae(e),t);return n.length>=2&&!function(r){if(r.length>=2)for(var a=function(h){if(r.reduce(function(m,u){return m&&Qi(u,h)},!0))return{value:!0}},s=0,c=r[0].groupIds;s<c.length;s++){var d=a(c[s]);if(typeof d=="object")return d.value}return!1}(n)},_1=pe({name:"group",perform:function(e,t){var n=Ze(Ae(e),t);if(n.length<2)return{appState:t,elements:e,commitToHistory:!1};var r=Uo(t);if(r.length===1){var a=r[0],s=new Set(tr(e,a).map(function(O){return O.id})),c=new Set(n.map(function(O){return O.id}));if(new Set(fa(fa([],Array.from(s)),Array.from(c))).size===s.size)return{appState:t,elements:e,commitToHistory:!1}}var d=so(),h=e.map(function(O){return t.selectedElementIds[O.id]?lt(O,{groupIds:zy(O.groupIds,d,t.editingGroupId)}):O}),m=tr(h,d),u=m[m.length-1],v=h.lastIndexOf(u),w=h.slice(v+1),y=h.slice(0,v).filter(function(O){return!Qi(O,d)}),k=fa(fa(fa([],y),m),w);return{appState:jf(d,ts(ts({},t),{},{selectedGroupIds:{}}),Ae(k)),elements:k,commitToHistory:!0}},contextItemLabel:"labels.group",contextItemPredicate:function(e,t){return P1(e,t)},keyTest:function(e){return!e.shiftKey&&e[Fe]&&e.code===pf},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return f().createElement(Ve,{hidden:!P1(t,n),type:"button",icon:f().createElement(Q2,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat(_("labels.group")," \u2014 ").concat(ie("CtrlOrCmd+G")),"aria-label":_("labels.group"),visible:Lt(Ae(t),n)})}}),T1=pe({name:"ungroup",perform:function(e,t){if(Uo(t).length===0)return{appState:t,elements:e,commitToHistory:!1};var n=e.map(function(r){var a=function(s,c){return s.filter(function(d){return!c[d]})}(r.groupIds,t.selectedGroupIds);return a.length===r.groupIds.length?r:lt(r,{groupIds:a})});return{appState:yr(ts(ts({},t),{},{selectedGroupIds:{}}),Ae(n)),elements:n,commitToHistory:!0}},keyTest:function(e){return e.shiftKey&&e[Fe]&&e.code===pf},contextItemLabel:"labels.ungroup",contextItemPredicate:function(e,t){return Uo(t).length>0},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return f().createElement(Ve,{type:"button",hidden:Uo(n).length===0,icon:f().createElement(q2,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat(_("labels.ungroup")," \u2014 ").concat(ie("CtrlOrCmd+Shift+G")),"aria-label":_("labels.ungroup"),visible:Lt(Ae(t),n)})}}),ab=(E(2789),function(e){var t=e.children,n=e.color,r=e.border,a=e.onClick;return f().createElement("div",{className:"Avatar",style:{background:n,border:"1px solid ".concat(r)},onClick:a},t)});function I1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ou(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I1(Object(n),!0).forEach(function(r){re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}pe({name:"goToCollaborator",perform:function(e,t,n){var r=n;return r?{appState:Ou(Ou(Ou({},t),qc({scenePoint:r,viewportDimensions:{width:t.width,height:t.height},zoom:t.zoom})),{},{openMenu:t.openMenu==="canvas"?null:t.openMenu}),commitToHistory:!1}:{appState:t,commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData,r=e.id;if(!r)return null;var a=t.collaborators.get(r);if(!a)return null;var s=uu(r,t),c=s.background,d=s.stroke,h=function(m){if(!m)return"?";var u=m.trim().split(" ");if(u.length<2)return u[0].substring(0,2).toUpperCase();var v=u[0],w=u[u.length-1];return(v[0]+w[0]).toUpperCase()}(a.username);return f().createElement(ab,{color:c,border:d,onClick:function(){return n(a.pointer)}},h)}});var L1=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e},lb=pe({name:"addToLibrary",perform:function(e,t,n,r){var a=Ze(Ae(e),t);return r.library.loadLibrary().then(function(s){r.library.saveLibrary(L1(L1([],s),[a.map(Go)]))}),!1},contextItemLabel:"labels.addToLibrary"}),A1=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e};function D1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function j1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D1(Object(n),!0).forEach(function(r){re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var sb=function(e){var t=new Map;return e.forEach(function(n){var r=n.groupIds.length===0?n.id:n.groupIds[n.groupIds.length-1],a=t.get(r)||[];t.set(r,A1(A1([],a),[n]))}),Array.from(t.values())},cb=function(e,t,n){var r,a,s,c=n.axis,d=n.position,h=z1(e),m=c==="x"?["minX","maxX"]:["minY","maxY"],u=m[0],v=m[1],w={x:0,y:0};return j1(j1({},w),{},d==="start"?((r={})[c]=t[u]-h[u],r):d==="end"?((a={})[c]=t[v]-h[v],a):((s={})[c]=(t[u]+t[v])/2-(h[u]+h[v])/2,s))},z1=function(e){var t=bt(e);return{minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]}},qo=function(e,t){return Ze(Ae(e),t).length>1},Jo=function(e,t,n){var r=function(s,c){var d=sb(s),h=z1(s);return d.flatMap(function(m){var u=cb(m,h,c);return m.map(function(v){return lt(v,{x:v.x+u.x,y:v.y+u.y})})})}(Ze(Ae(e),t),n),a=Zo(r);return e.map(function(s){return a[s.id]||s})},N1=(pe({name:"alignTop",perform:function(e,t){return{appState:t,elements:Jo(e,t,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(e){return e[Fe]&&e.shiftKey&&e.key===Wi},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return f().createElement(Ve,{hidden:!qo(t,n),type:"button",icon:f().createElement(B2,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat(_("labels.alignTop")," \u2014 ").concat(ie("CtrlOrCmd+Shift+Up")),"aria-label":_("labels.alignTop"),visible:Lt(Ae(t),n)})}}),pe({name:"alignBottom",perform:function(e,t){return{appState:t,elements:Jo(e,t,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(e){return e[Fe]&&e.shiftKey&&e.key===Ui},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return f().createElement(Ve,{hidden:!qo(t,n),type:"button",icon:f().createElement(H2,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat(_("labels.alignBottom")," \u2014 ").concat(ie("CtrlOrCmd+Shift+Down")),"aria-label":_("labels.alignBottom"),visible:Lt(Ae(t),n)})}}),pe({name:"alignLeft",perform:function(e,t){return{appState:t,elements:Jo(e,t,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(e){return e[Fe]&&e.shiftKey&&e.key===ro},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return f().createElement(Ve,{hidden:!qo(t,n),type:"button",icon:f().createElement(F2,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat(_("labels.alignLeft")," \u2014 ").concat(ie("CtrlOrCmd+Shift+Left")),"aria-label":_("labels.alignLeft"),visible:Lt(Ae(t),n)})}}),pe({name:"alignRight",perform:function(e,t){return{appState:t,elements:Jo(e,t,{position:"end",axis:"x"}),commitToHistory:!0}},keyTest:function(e){return e[Fe]&&e.shiftKey&&e.key===oo},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return f().createElement(Ve,{hidden:!qo(t,n),type:"button",icon:f().createElement(V2,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat(_("labels.alignRight")," \u2014 ").concat(ie("CtrlOrCmd+Shift+Right")),"aria-label":_("labels.alignRight"),visible:Lt(Ae(t),n)})}}),pe({name:"alignVerticallyCentered",perform:function(e,t){return{appState:t,elements:Jo(e,t,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return f().createElement(Ve,{hidden:!qo(t,n),type:"button",icon:f().createElement(G2,{theme:n.theme}),onClick:function(){return r(null)},title:_("labels.centerVertically"),"aria-label":_("labels.centerVertically"),visible:Lt(Ae(t),n)})}}),pe({name:"alignHorizontallyCentered",perform:function(e,t){return{appState:t,elements:Jo(e,t,{position:"center",axis:"x"}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return f().createElement(Ve,{hidden:!qo(t,n),type:"button",icon:f().createElement(K2,{theme:n.theme}),onClick:function(){return r(null)},title:_("labels.centerHorizontally"),"aria-label":_("labels.centerHorizontally"),visible:Lt(Ae(t),n)})}}),function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e}),ub=function(e){var t=new Map;return e.forEach(function(n){var r=n.groupIds.length===0?n.id:n.groupIds[n.groupIds.length-1],a=t.get(r)||[];t.set(r,N1(N1([],a),[n]))}),Array.from(t.values())},R1=function(e){var t=bt(e),n=t[0],r=t[1],a=t[2],s=t[3];return{minX:n,minY:r,maxX:a,maxY:s,width:a-n,height:s-r,midX:(n+a)/2,midY:(r+s)/2}},B1=function(e,t){return Ze(Ae(e),t).length>1},H1=function(e,t,n){var r=function(s,c){for(var d=c.axis==="x"?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],h=d[0],m=d[1],u=d[2],v=d[3],w=R1(s),y=ub(s).map(function(W){return[W,R1(W)]}).sort(function(W,Z){return W[1][m]-Z[1][m]}),k=0,O=0,I=y;O<I.length;O++)k+=I[O][1][v];var C=(w[v]-k)/(y.length-1);if(C<0){var L=y.findIndex(function(W){return W[1][h]===w[h]}),U=y.findIndex(function(W){return W[1][u]===w[u]}),H=(y[U][1][m]-y[L][1][m])/(y.length-1),K=y[L][1][m];return y.flatMap(function(W,Z){var J=W[0],ee=W[1],ae={x:0,y:0};return Z!==L&&Z!==U&&(K+=H,ae[c.axis]=K-ee[m]),J.map(function(De){return lt(De,{x:De.x+ae.x,y:De.y+ae.y})})})}var Y=w[h];return y.flatMap(function(W){var Z=W[0],J=W[1],ee={x:0,y:0};return ee[c.axis]=Y-J[h],Y+=C,Y+=J[v],Z.map(function(ae){return lt(ae,{x:ae.x+ee.x,y:ae.y+ee.y})})})}(Ze(Ae(e),t),n),a=Zo(r);return e.map(function(s){return a[s.id]||s})},F1=(pe({name:"distributeHorizontally",perform:function(e,t){return{appState:t,elements:H1(e,t,{space:"between",axis:"x"}),commitToHistory:!0}},keyTest:function(e){return e.altKey&&e.code===cy},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return f().createElement(Ve,{hidden:!B1(t,n),type:"button",icon:f().createElement(U2,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat(_("labels.distributeHorizontally")," \u2014 ").concat(ie("Alt+H")),"aria-label":_("labels.distributeHorizontally"),visible:Lt(Ae(t),n)})}}),pe({name:"distributeVertically",perform:function(e,t){return{appState:t,elements:H1(e,t,{space:"between",axis:"y"}),commitToHistory:!0}},keyTest:function(e){return e.altKey&&e.code===ff},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return f().createElement(Ve,{hidden:!B1(t,n),type:"button",icon:f().createElement(W2,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat(_("labels.distributeVertically")," \u2014 ").concat(ie("Alt+V")),"aria-label":_("labels.distributeVertically"),visible:Lt(Ae(t),n)})}}),pe({name:"flipHorizontal",perform:function(e,t){return{elements:U1(e,t,"horizontal"),appState:t,commitToHistory:!0}},keyTest:function(e){return e.shiftKey&&e.code==="KeyH"},contextItemLabel:"labels.flipHorizontal",contextItemPredicate:function(e,t){return function(n,r){var a=Ze(Ae(n),r);return a.length===1&&a[0].type!=="text"}(e,t)}})),V1=pe({name:"flipVertical",perform:function(e,t){return{elements:U1(e,t,"vertical"),appState:t,commitToHistory:!0}},keyTest:function(e){return e.shiftKey&&e.code==="KeyV"},contextItemLabel:"labels.flipVertical",contextItemPredicate:function(e,t){return function(n,r){return Ze(Ae(n),r).length===1}(e,t)}}),U1=function(e,t,n){var r=Ze(Ae(e),t);if(r.length>1)return e;var a=db(r,t,n),s=Zo(a);return e.map(function(c){return s[c.id]||c})},db=function(e,t,n){for(var r=0;r<e.length;r++)pb(e[r],t),n==="vertical"&&fb(e[r],Math.PI);return e},pb=function(e,t){var n=e.x,r=e.y,a=e.width,s=e.height,c=br(e.angle),d=0;vt(e)&&(d=2*e.points.reduce(function(k,O){return Math.max(k,O[0])},0)-e.width),_e(e,{angle:br(0)});var h=Nc(e,t.zoom),m=!0,u=0,v=h.nw;if(v||(m=!1,v=h.ne)){if(vt(e)){for(var w=1;w<e.points.length;w++)st.movePoint(e,w,[-e.points[w][0],e.points[w][1]]);st.normalizePoints(e)}else u=m?e.x+2*a:e.x-2*a,Eh(e,!0,e,m?"nw":"ne",!1,u,v[1]),_e(e,{width:a,height:s});var y=br(2*Math.PI-c);y<0&&(y=br(y+2*Math.PI)),_e(e,{angle:y}),_e(e,{x:n+d,y:r}),wr(e)}else _e(e,{angle:c})},fb=function(e,t){var n=e.x,r=e.y,a=br(e.angle+t);a<0&&(a=br(2*Math.PI+a)),_e(e,{angle:a}),_e(e,{x:n,y:r})},W1=function(e,t){var n,r,a,s,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function d(h){return function(m){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&u[0]?r.return:u[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,u[1])).done)return a;switch(r=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return c.label++,{value:u[1],done:!1};case 5:c.label++,r=u[1],u=[0];continue;case 7:u=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!((a=a.length>0&&a[a.length-1])||u[0]!==6&&u[0]!==2)){c=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){c.label=u[1];break}if(u[0]===6&&c.label<a[1]){c.label=a[1],a=u;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(u);break}a[2]&&c.ops.pop(),c.trys.pop();continue}u=t.call(e,c)}catch(v){u=[6,v],r=0}finally{n=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([h,m])}}};function G1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ei(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G1(Object(n),!0).forEach(function(r){re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Mu=pe({name:"copy",perform:function(e,t){return g1(Ae(e),t),{commitToHistory:!1}},contextItemLabel:"labels.copy",keyTest:void 0}),hb=pe({name:"cut",perform:function(e,t,n,r){return Mu.perform(e,t,n,r),ou.perform(e,t,n,r)},contextItemLabel:"labels.cut",keyTest:function(e){return e[Fe]&&e.code===uy}}),K1=pe({name:"copyAsSvg",perform:function(){var e=(0,Q.Z)(function(t,n,r,a){var s,c;return W1(this,function(d){switch(d.label){case 0:if(!a.canvas)return[2,{commitToHistory:!1}];s=Ze(Ae(t),n),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,Su("clipboard-svg",s.length?s:Ae(t),n,a.canvas,n)];case 2:return d.sent(),[2,{commitToHistory:!1}];case 3:return c=d.sent(),console.error(c),[2,{appState:ei(ei({},n),{},{errorMessage:c.message}),commitToHistory:!1}];case 4:return[2]}})});return function(t,n,r,a){return e.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsSvg"}),Y1=pe({name:"copyAsPng",perform:function(){var e=(0,Q.Z)(function(t,n,r,a){var s,c;return W1(this,function(d){switch(d.label){case 0:if(!a.canvas)return[2,{commitToHistory:!1}];s=Ze(Ae(t),n),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,Su("clipboard",s.length?s:Ae(t),n,a.canvas,n)];case 2:return d.sent(),[2,{appState:ei(ei({},n),{},{toastMessage:_("toast.copyToClipboardAsPng",{exportSelection:s.length?_("toast.selection"):_("toast.canvas"),exportColorScheme:n.exportWithDarkMode?_("buttons.darkMode"):_("buttons.lightMode")})}),commitToHistory:!1}];case 3:return c=d.sent(),console.error(c),[2,{appState:ei(ei({},n),{},{errorMessage:c.message}),commitToHistory:!1}];case 4:return[2]}})});return function(t,n,r,a){return e.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsPng",keyTest:function(e){return e.code===df&&e.altKey&&e.shiftKey}});function Z1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function X1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z1(Object(n),!0).forEach(function(r){re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var $1=pe({name:"gridMode",perform:function(e,t){return $o("view","mode","grid"),{appState:X1(X1({},t),{},{gridSize:this.checked(t)?null:j.k}),commitToHistory:!1}},checked:function(e){return e.gridSize!==null},contextItemLabel:"labels.showGrid",keyTest:function(e){return e[Fe]&&e.code===ay}});function Q1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function q1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q1(Object(n),!0).forEach(function(r){re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Pu=pe({name:"zenMode",perform:function(e,t){return $o("view","mode","zen"),{appState:q1(q1({},t),{},{zenModeEnabled:!this.checked(t)}),commitToHistory:!1}},checked:function(e){return e.zenModeEnabled},contextItemLabel:"buttons.zenMode",keyTest:function(e){return!e[Fe]&&e.altKey&&e.code===dy}});function J1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function em(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J1(Object(n),!0).forEach(function(r){re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var _u=pe({name:"stats",perform:function(e,t){return{appState:em(em({},t),{},{showStats:!this.checked(t)}),commitToHistory:!1}},checked:function(e){return e.showStats},contextItemLabel:"stats.title"});function tm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function nm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tm(Object(n),!0).forEach(function(r){re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var rm=function(e,t,n){var r=!1;if(!(t.multiElement||t.resizingElement||t.editingElement||t.draggingElement)){var a=n();if(a===null)return{commitToHistory:r};var s=Zo(e),c=a.elements,d=Zo(c),h=e.filter(function(u){return!d.hasOwnProperty(u.id)}),m=c.map(function(u){return lt(s[u.id]||u,u)}).concat(h.map(function(u){return lt(u,{isDeleted:!0})}));return Zc(m,h),{elements:m,appState:nm(nm({},t),a.appState),commitToHistory:r,syncHistory:!0}}return{commitToHistory:r}},mb=function(){function e(t,n,r,a){var s=this;this.actions={},this.renderAction=function(c,d){var h=s.app.props.UIOptions.canvasActions;if(s.actions[c]&&"PanelComponent"in s.actions[c]&&(!(c in h)||h[c])){var m=s.actions[c],u=m.PanelComponent;return f().createElement(u,{elements:s.getElementsIncludingDeleted(),appState:s.getAppState(),updateData:function(v){s.updater(m.perform(s.getElementsIncludingDeleted(),s.getAppState(),v,s.app))},id:d,appProps:s.app.props})}return null},this.updater=function(c){if(!c||!("then"in c))return t(c);c.then(function(d){return t(d)})},this.getAppState=n,this.getElementsIncludingDeleted=r,this.app=a}return e.prototype.registerAction=function(t){this.actions[t.name]=t},e.prototype.registerAll=function(t){var n=this;t.forEach(function(r){return n.registerAction(r)})},e.prototype.handleKeyDown=function(t){var n=this,r=this.app.props.UIOptions.canvasActions,a=Object.values(this.actions).sort(function(s,c){return(c.keyPriority||0)-(s.keyPriority||0)}).filter(function(s){return(!(s.name in r)||r[s.name])&&s.keyTest&&s.keyTest(t,n.getAppState(),n.getElementsIncludingDeleted())});return a.length!==0&&!(this.getAppState().viewModeEnabled&&!Object.values(j.EH).includes(a[0].name))&&(t.preventDefault(),this.updater(a[0].perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app)),!0)},e.prototype.executeAction=function(t){this.updater(t.perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app))},e}(),ns=function(e,t){var n,r,a,s,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function d(h){return function(m){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&u[0]?r.return:u[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,u[1])).done)return a;switch(r=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return c.label++,{value:u[1],done:!1};case 5:c.label++,r=u[1],u=[0];continue;case 7:u=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!((a=a.length>0&&a[a.length-1])||u[0]!==6&&u[0]!==2)){c=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){c.label=u[1];break}if(u[0]===6&&c.label<a[1]){c.label=a[1],a=u;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(u);break}a[2]&&c.ops.pop(),c.trys.pop();continue}u=t.call(e,c)}catch(v){u=[6,v],r=0}finally{n=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([h,m])}}},om=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e};let gb=function(){function e(t){var n=this;this.libraryCache=null,this.resetLibrary=(0,Q.Z)(function(){var r,a;return ns(this,function(s){switch(s.label){case 0:return[4,(r=(a=n.app.props).onLibraryChange)===null||r===void 0?void 0:r.call(a,[])];case 1:return s.sent(),n.libraryCache=[],[2]}})}),this.loadLibrary=function(){return new Promise(function(){var r=(0,Q.Z)(function(a){var s,c;return ns(this,function(d){if(n.libraryCache)return[2,a(JSON.parse(JSON.stringify(n.libraryCache)))];try{if(!(s=n.app.libraryItemsFromStorage))return[2,a([])];c=s.map(function(h){return $l(h)}),n.libraryCache=JSON.parse(JSON.stringify(c)),a(c)}catch(h){console.error(h),a([])}return[2]})});return function(a){return r.apply(this,arguments)}}())},this.saveLibrary=function(){var r=(0,Q.Z)(function(a){var s,c,d,h,m;return ns(this,function(u){switch(u.label){case 0:s=n.libraryCache,u.label=1;case 1:return u.trys.push([1,3,,4]),h=JSON.stringify(a),n.libraryCache=JSON.parse(h),[4,(c=(d=n.app.props).onLibraryChange)===null||c===void 0?void 0:c.call(d,a)];case 2:return u.sent(),[3,4];case 3:throw m=u.sent(),n.libraryCache=s,m;case 4:return[2]}})});return function(a){return r.apply(this,arguments)}}(),this.app=t}return e.prototype.importLibrary=function(t){var n=this;return(0,Q.Z)(function(){var r,a,s,c;return ns(this,function(d){switch(d.label){case 0:return[4,Xw(t)];case 1:return(r=d.sent())&&r.library?(a=function(h,m){return!h.find(function(u){return u.length===m.length&&u.every(function(v,w){return v.id===m[w].id&&v.versionNonce===m[w].versionNonce})})},[4,n.loadLibrary()]):[2];case 2:return s=d.sent(),c=r.library.reduce(function(h,m){var u=Ae($l(m));return a(s,u)&&h.push(u),h},[]),[4,n.saveLibrary(om(om([],s),c))];case 3:return d.sent(),[2]}})})()},e}();var im=function(e){var t=Array.from(e.values());return{x:lm(t,function(n){return n.x})/t.length,y:lm(t,function(n){return n.y})/t.length}},am=function(e){var t=e[0],n=e[1];return Math.hypot(t.x-n.x,t.y-n.y)},lm=function(e,t){return e.reduce(function(n,r){return n+t(r)},0)};function sm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sm(Object(n),!0).forEach(function(r){re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var vb=function(e){return{selectedElementIds:e.selectedElementIds,viewBackgroundColor:e.viewBackgroundColor,editingLinearElement:e.editingLinearElement,editingGroupId:e.editingGroupId,name:e.name}};let yb=function(){function e(){var t=this;this.elementCache=new Map,this.recording=!0,this.stateHistory=[],this.redoStack=[],this.lastEntry=null,this.generateEntry=function(n,r){return t.dehydrateHistoryEntry({appState:vb(n),elements:r.reduce(function(a,s){if(vt(s)&&n.multiElement&&n.multiElement.id===s.id){if(n.multiElement&&n.multiElement.id===s.id&&s.points.length<2)return a;a.push(cm(cm({},s),{},{points:s.lastCommittedPoint!==s.points[s.points.length-1]?s.points.slice(0,-1):s.points}))}else a.push(s);return a},[])})}}return e.prototype.hydrateHistoryEntry=function(t){var n=t.appState,r=t.elements,a=this;return{appState:JSON.parse(n),elements:r.map(function(s){var c,d=(c=a.elementCache.get(s.id))===null||c===void 0?void 0:c.get(s.versionNonce);if(!d)throw new Error("Element not found: ".concat(s.id,":").concat(s.versionNonce));return d})}},e.prototype.dehydrateHistoryEntry=function(t){var n=t.appState,r=t.elements,a=this;return{appState:JSON.stringify(n),elements:r.map(function(s){a.elementCache.has(s.id)||a.elementCache.set(s.id,new Map);var c=a.elementCache.get(s.id);return c.has(s.versionNonce)||c.set(s.versionNonce,Go(s)),{id:s.id,versionNonce:s.versionNonce}})}},e.prototype.getSnapshotForTest=function(){var t=this;return{recording:this.recording,stateHistory:this.stateHistory.map(function(n){return t.hydrateHistoryEntry(n)}),redoStack:this.redoStack.map(function(n){return t.hydrateHistoryEntry(n)})}},e.prototype.clear=function(){this.stateHistory.length=0,this.redoStack.length=0,this.lastEntry=null,this.elementCache.clear()},e.prototype.shouldCreateEntry=function(t){var n,r=this.lastEntry;if(!r||t.elements.length!==r.elements.length)return!0;for(var a=t.elements.length-1;a>-1;a--){var s=t.elements[a],c=r.elements[a];if(!s||!c||s.id!==c.id||s.versionNonce!==c.versionNonce)return!0}for(n in t.appState){var d,h;if(!(n==="editingLinearElement"&&((d=t.appState[n])===null||d===void 0?void 0:d.elementId)===((h=r.appState[n])===null||h===void 0?void 0:h.elementId))&&n!=="selectedElementIds"&&t.appState[n]!==r.appState[n])return!0}return!1},e.prototype.pushEntry=function(t,n){var r=this.generateEntry(t,n),a=this.hydrateHistoryEntry(r);if(a){if(!this.shouldCreateEntry(a))return;this.stateHistory.push(r),this.lastEntry=a,this.clearRedoStack()}},e.prototype.clearRedoStack=function(){this.redoStack.splice(0,this.redoStack.length)},e.prototype.redoOnce=function(){if(this.redoStack.length===0)return null;var t=this.redoStack.pop();return t!==void 0?(this.stateHistory.push(t),this.hydrateHistoryEntry(t)):null},e.prototype.undoOnce=function(){if(this.stateHistory.length===1)return null;var t=this.stateHistory.pop(),n=this.stateHistory[this.stateHistory.length-1];return t!==void 0?(this.redoStack.push(t),this.hydrateHistoryEntry(n)):null},e.prototype.setCurrentState=function(t,n){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(t,n))},e.prototype.resumeRecording=function(){this.recording=!0},e.prototype.record=function(t,n){this.recording&&(this.pushEntry(t,n),this.recording=!1)},e}();var um=[{icon:f().createElement("svg",{viewBox:"0 0 320 512",className:""},f().createElement("path",{d:"M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"})),value:"selection",key:[ky,Sc]},{icon:f().createElement("svg",{viewBox:"0 0 448 512"},f().createElement("path",{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"})),value:"rectangle",key:xy},{icon:f().createElement("svg",{viewBox:"0 0 223.646 223.646"},f().createElement("path",{d:"M111.823 0L16.622 111.823 111.823 223.646 207.025 111.823z"})),value:"diamond",key:vf},{icon:f().createElement("svg",{viewBox:"0 0 512 512"},f().createElement("path",{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"})),value:"ellipse",key:gy},{icon:f().createElement("svg",{viewBox:"0 0 448 512",className:"rtl-mirror"},f().createElement("path",{d:"M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z"})),value:"arrow",key:gf},{icon:f().createElement("svg",{viewBox:"0 0 6 6"},f().createElement("line",{x1:"0",y1:"3",x2:"6",y2:"3",stroke:"currentColor",strokeLinecap:"round"})),value:"line",key:[wy,vy]},{icon:f().createElement("svg",{viewBox:"0 0 512 512"},f().createElement("path",{fill:"currentColor",d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"})),value:"draw",key:Sy},{icon:f().createElement("svg",{viewBox:"0 0 448 512"},f().createElement("path",{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"})),value:"text",key:Ey}],wb=(E(1292),{cut:[ie("CtrlOrCmd+X")],copy:[ie("CtrlOrCmd+C")],paste:[ie("CtrlOrCmd+V")],copyStyles:[ie("CtrlOrCmd+Alt+C")],pasteStyles:[ie("CtrlOrCmd+Alt+V")],selectAll:[ie("CtrlOrCmd+A")],deleteSelectedElements:[ie("Del")],duplicateSelection:[ie("CtrlOrCmd+D"),ie("Alt+".concat(_("helpDialog.drag")))],sendBackward:[ie("CtrlOrCmd+[")],bringForward:[ie("CtrlOrCmd+]")],sendToBack:[ie(Rn?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")],bringToFront:[ie(Rn?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")],copyAsPng:[ie("Shift+Alt+C")],copyAsSvg:[],group:[ie("CtrlOrCmd+G")],ungroup:[ie("CtrlOrCmd+Shift+G")],gridMode:[ie("CtrlOrCmd+'")],zenMode:[ie("Alt+Z")],stats:[],addToLibrary:[],flipHorizontal:[ie("Shift+H")],flipVertical:[ie("Shift+V")],viewMode:[ie("Alt+R")]}),bb=function(e){var t=e.options,n=e.onCloseRequest,r=e.top,a=e.left,s=e.actionManager,c=e.appState;return f().createElement(iu,{onCloseRequest:n,top:r,left:a,fitInViewport:!0},f().createElement("ul",{className:"context-menu",onContextMenu:function(d){return d.preventDefault()}},t.map(function(d,h){var m;if(d==="separator")return f().createElement("hr",{key:h,className:"context-menu-option-separator"});var u,v=d.name,w=d.contextItemLabel?_(d.contextItemLabel):"";return f().createElement("li",{key:h,"data-testid":v,onClick:n},f().createElement("button",{className:Je("context-menu-option",{dangerous:v==="deleteSelectedElements",checkmark:(m=d.checked)===null||m===void 0?void 0:m.call(d,c)}),onClick:function(){return s.executeAction(d)}},f().createElement("div",{className:"context-menu-option__label"},w),f().createElement("kbd",{className:"context-menu-option__shortcut"},v&&(u=wb[v])&&u.length>0?u[0]:"")))})))},rs=new WeakMap;let os=function(e){var t,n,r=Array.of();e.options.forEach(function(a){a&&r.push(a)}),r.length&&(0,no.render)(f().createElement(bb,{top:e.top,left:e.left,options:r,onCloseRequest:function(){return a=e.container,void((s=rs.get(a))&&((0,no.unmountComponentAtNode)(s),s.remove(),rs.delete(a)));var a,s},actionManager:e.actionManager,appState:e.appState}),(t=e.container,(n=rs.get(t))||(n=document.createElement("div"),t.querySelector(".excalidraw-contextMenuContainer").appendChild(n),rs.set(t,n),n)))};E(4623);function dm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dm(Object(n),!0).forEach(function(r){re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}let Vn=function(e){var t=e.children,n=e.gap,r=e.align,a=e.justifyContent,s=e.className,c=e.style;return f().createElement("div",{className:Je("Stack Stack_horizontal",s),style:xb({"--gap":n,alignItems:r,justifyContent:a},c)},t)},In=function(e){var t=e.children,n=e.gap,r=e.align,a=e.justifyContent,s=e.className;return f().createElement("div",{className:Je("Stack Stack_vertical",s),style:{"--gap":n,justifyItems:r,justifyContent:a}},t)};var pm=function(e){var t=e.appState,n=e.elements,r=e.renderAction,a=e.elementType,s=Qc(Ae(n),t),c=Boolean(t.editingElement),d=mn(),h=document.documentElement.getAttribute("dir")==="rtl",m=Vl(a)||s.some(function(v){return Vl(v.type)&&(w=v.backgroundColor,y=w.length===5&&w.substr(4,1)==="0",k=w.length===9&&w.substr(7,2)==="00",!(y||k||w===mr.elementBackground[0]));var w,y,k}),u=Vl(a)||s.some(function(v){return Vl(v.type)});return f().createElement("div",{className:"panelColumn"},r("changeStrokeColor"),u&&r("changeBackgroundColor"),m&&r("changeFillStyle"),(_h(a)||s.some(function(v){return _h(v.type)}))&&f().createElement(f().Fragment,null,r("changeStrokeWidth"),r("changeStrokeStyle"),r("changeSloppiness")),(Jc(a)||s.some(function(v){return Jc(v.type)}))&&f().createElement(f().Fragment,null,r("changeSharpness")),(Th(a)||s.some(function(v){return Th(v.type)}))&&f().createElement(f().Fragment,null,r("changeFontSize"),r("changeFontFamily"),r("changeTextAlign")),(Ul(a)||s.some(function(v){return Ul(v.type)}))&&f().createElement(f().Fragment,null,r("changeArrowhead")),r("changeOpacity"),f().createElement("fieldset",null,f().createElement("legend",null,_("labels.layers")),f().createElement("div",{className:"buttonList"},r("sendToBack"),r("sendBackward"),r("bringToFront"),r("bringForward"))),s.length>1&&f().createElement("fieldset",null,f().createElement("legend",null,_("labels.align")),f().createElement("div",{className:"buttonList"},h?f().createElement(f().Fragment,null,r("alignRight"),r("alignHorizontallyCentered"),r("alignLeft")):f().createElement(f().Fragment,null,r("alignLeft"),r("alignHorizontallyCentered"),r("alignRight")),s.length>2&&r("distributeHorizontally"),f().createElement("div",{className:"iconRow"},r("alignTop"),r("alignVerticallyCentered"),r("alignBottom"),s.length>2&&r("distributeVertically")))),!d&&!c&&s.length>0&&f().createElement("fieldset",null,f().createElement("legend",null,_("labels.actions")),f().createElement("div",{className:"buttonList"},r("duplicateSelection"),r("deleteSelectedElements"),r("group"),r("ungroup"))))},Eb=f().createElement("svg",{viewBox:"0 0 512 512"},f().createElement("path",{d:"M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z"})),fm=function(e){var t=e.canvas,n=e.elementType,r=e.setAppState,a=e.isLibraryOpen;return f().createElement(f().Fragment,null,um.map(function(s,c){var d=s.value,h=s.icon,m=s.key,u=_("toolBar.".concat(d)),v=typeof m=="string"?m:m[0],w="".concat(Yi(v)," ").concat(_("helpDialog.or")," ").concat(c+1);return f().createElement(Ve,{className:"Shape",key:d,type:"radio",icon:h,checked:n===d,name:"editor-current-shape",title:"".concat(Yi(u)," \u2014 ").concat(w),keyBindingLabel:"".concat(c+1),"aria-label":Yi(u),"aria-keyshortcuts":w,"data-testid":d,onChange:function(){r({elementType:d,multiElement:null,selectedElementIds:{}}),gr(t,d),r({})}})}),f().createElement(Ve,{className:"Shape ToolIcon_type_button__library",type:"button",icon:Eb,name:"editor-library",keyBindingLabel:"9","aria-keyshortcuts":"9",title:"".concat(Yi(_("toolBar.library"))," \u2014 9"),"aria-label":Yi(_("toolBar.library")),onClick:function(){r({isLibraryOpen:!a})}}))},kb=function(e){var t=e.renderAction,n=e.zoom;return f().createElement(In,{gap:1},f().createElement(Vn,{gap:1,align:"center"},t("zoomIn"),t("zoomOut"),t("resetZoom"),f().createElement("div",{style:{marginInlineStart:4}},(100*n.value).toFixed(0),"%")))},hm=function(e){var t=e.appState,n=e.setAppState,r=e.actionManager,a=e.showThemeBtn;return f().createElement("div",{style:{display:"flex"}},r.renderAction("changeViewBackgroundColor"),a&&f().createElement("div",{style:{marginInlineStart:"0.25rem"}},f().createElement(e1,{value:t.theme,onChange:function(s){n({theme:s})}})))};E(778);let mm=function(e){var t=e.isCollaborating,n=e.collaboratorCount,r=e.onClick;return f().createElement(f().Fragment,null,f().createElement(Ve,{className:Je("CollabButton",{"is-collaborating":t}),onClick:r,icon:Y2,type:"button",title:_("labels.liveCollaboration"),"aria-label":_("labels.liveCollaboration"),showAriaLabel:mn()},n>0&&f().createElement("div",{className:"CollabButton-collaborators"},n)))};E(196),E(1106);function gm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Sb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gm(Object(n),!0).forEach(function(r){re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Un=f().forwardRef(function(e,t){var n=e.children,r=e.padding,a=e.className,s=e.style;return f().createElement("div",{className:Je("Island",a),style:Sb({"--padding":r},s),ref:t},n)}),Cb=(E(8328),function(e){var t=e.theme,n=Ob(t===void 0?"light":t);return n?(0,no.createPortal)(f().createElement("div",{className:Je("Modal",e.className),role:"dialog","aria-modal":"true",onKeyDown:function(r){r.key===io&&(r.nativeEvent.stopImmediatePropagation(),r.stopPropagation(),e.onCloseRequest())},"aria-labelledby":e.labelledBy},f().createElement("div",{className:"Modal__background",onClick:e.onCloseRequest}),f().createElement("div",{className:"Modal__content",style:{"--max-width":"".concat(e.maxWidth,"px")},tabIndex:0},e.children)),n):null}),Ob=function(e){var t=(0,B.useState)(null),n=t[0],r=t[1],a=mn(),s=(0,B.useRef)(a);s.current=a;var c=Dm();return(0,B.useLayoutEffect)(function(){n&&n.classList.toggle("excalidraw--mobile",a)},[n,a]),(0,B.useLayoutEffect)(function(){var d=!(c==null||!c.classList.contains("theme--dark"))||e==="dark",h=document.createElement("div");return h.classList.add("excalidraw","excalidraw-modal-container"),h.classList.toggle("excalidraw--mobile",s.current),d&&(h.classList.add("theme--dark"),h.classList.add("theme--dark-background-none")),document.body.appendChild(h),r(h),function(){document.body.removeChild(h)}},[c,e]),n},is=function(e){var t=function(){var d=(0,B.useState)(null),h=d[0],m=d[1];return[h,(0,B.useCallback)(function(u){return m(u)},[])]}(),n=t[0],r=t[1],a=(0,B.useState)(document.activeElement)[0];(0,B.useEffect)(function(){if(n){var d=s(n);d.length>0&&e.autofocus!==!1&&(d[1]||d[0]).focus();var h=function(m){if(m.key===_l){var u=s(n),v=document.activeElement,w=u.findIndex(function(y){return y===v});w===0&&m.shiftKey?(u[u.length-1].focus(),m.preventDefault()):w!==u.length-1||m.shiftKey||(u[0].focus(),m.preventDefault())}};return n.addEventListener("keydown",h),function(){return n.removeEventListener("keydown",h)}}},[n,e.autofocus]);var s=function(d){var h=d.querySelectorAll("button, a, input, select, textarea, div[tabindex]");return h?Array.from(h):[]},c=function(){a.focus(),e.onCloseRequest()};return f().createElement(Cb,{className:Je("Dialog",e.className),labelledBy:"dialog-title",maxWidth:e.small?550:800,onCloseRequest:c,theme:e.theme},f().createElement(Un,{ref:r},f().createElement("h2",{id:"dialog-title",className:"Dialog__title"},f().createElement("span",{className:"Dialog__titleContent"},e.title),f().createElement("button",{className:"Modal__close",onClick:c,"aria-label":_("buttons.close")},mn()?Z2:tu)),f().createElement("div",{className:"Dialog__content"},e.children)))},Mb=function(e){var t=e.message,n=e.onClose,r=(0,B.useState)(!!t),a=r[0],s=r[1],c=Dm(),d=f().useCallback(function(){s(!1),n&&n(),c==null||c.focus()},[n,c]);return f().createElement(f().Fragment,null,a&&f().createElement(is,{small:!0,onCloseRequest:d,title:_("errorDialog.title")},f().createElement("div",{style:{whiteSpace:"pre-wrap"}},t)))},vm=(E(2205),[1,2,3]),Pb=vm.includes(devicePixelRatio)?devicePixelRatio:1,_b="filter"in document.createElement("canvas").getContext("2d"),Tb=function(){return f().createElement("div",null,f().createElement("h3",null,_("canvasError.cannotShowPreview")),f().createElement("p",null,f().createElement("span",null,_("canvasError.canvasTooBig"))),f().createElement("em",null,"(",_("canvasError.canvasTooBigTip"),")"))},Tu=function(e,t){(0,no.unmountComponentAtNode)(t),t.innerHTML="",e instanceof HTMLCanvasElement?t.appendChild(e):(0,no.render)(f().createElement(Tb,null),t)},Ib=function(e){var t=e.elements,n=e.appState,r=e.exportPadding,a=r===void 0?10:r,s=e.actionManager,c=e.onExportToPng,d=e.onExportToSvg,h=e.onExportToClipboard,m=e.onExportToBackend,u=Lt(t,n),v=(0,B.useState)(Pb),w=v[0],y=v[1],k=(0,B.useState)(u),O=k[0],I=k[1],C=(0,B.useRef)(null),L=n.exportBackground,U=n.viewBackgroundColor,H=n.shouldAddWatermark,K=O?Ze(t,n):t;return(0,B.useEffect)(function(){I(u)},[u]),(0,B.useEffect)(function(){var Y=C.current;if(Y)try{var W=hu(K,n,{exportBackground:L,viewBackgroundColor:U,exportPadding:a,scale:w,shouldAddWatermark:H});xu(W).then(function(){Tu(W,Y)}).catch(function(Z){console.error(Z),Tu(new yu,Y)})}catch(Z){console.error(Z),Tu(new yu,Y)}},[n,K,L,a,U,w,H]),f().createElement("div",{className:"ExportDialog"},f().createElement("div",{className:"ExportDialog__preview",ref:C}),_b&&s.renderAction("exportWithDarkMode"),f().createElement(In,{gap:2,align:"center"},f().createElement("div",{className:"ExportDialog__actions"},f().createElement(Vn,{gap:2},f().createElement(Ve,{type:"button",label:"PNG",title:_("buttons.exportToPng"),"aria-label":_("buttons.exportToPng"),onClick:function(){return c(K,w)}}),f().createElement(Ve,{type:"button",label:"SVG",title:_("buttons.exportToSvg"),"aria-label":_("buttons.exportToSvg"),onClick:function(){return d(K,w)}}),es&&f().createElement(Ve,{type:"button",icon:O2,title:_("buttons.copyPngToClipboard"),"aria-label":_("buttons.copyPngToClipboard"),onClick:function(){return h(K,w)}}),m&&f().createElement(Ve,{type:"button",icon:k2,title:_("buttons.getShareableLink"),"aria-label":_("buttons.getShareableLink"),onClick:function(){return m(K)}})),f().createElement("div",{className:"ExportDialog__name"},s.renderAction("changeProjectName")),f().createElement(Vn,{gap:2},vm.map(function(Y){var W=function(ae,De,xe,we){var ge=mu(ae,xe),Se=gu(ge,De,xe).map(function(te){return Math.trunc(te*we)});return[Se[2],Se[3]]}(K,a,H,Y),Z=W[0],J=W[1],ee="".concat(_("buttons.scale")," ").concat(Y,"x (").concat(Z,"x").concat(J,")");return f().createElement(Ve,{key:Y,size:"s",type:"radio",icon:"".concat(Y,"x"),name:"export-canvas-scale",title:ee,"aria-label":ee,id:"export-canvas-scale",checked:Y===w,onChange:function(){return y(Y)}})}))),s.renderAction("changeExportBackground"),u&&f().createElement("div",null,f().createElement("label",null,f().createElement("input",{type:"checkbox",checked:O,onChange:function(Y){return I(Y.currentTarget.checked)}})," ",_("labels.onlySelected"))),s.renderAction("changeExportEmbedScene"),s.renderAction("changeShouldAddWatermark")))},Lb=function(e){var t=e.elements,n=e.appState,r=e.exportPadding,a=r===void 0?10:r,s=e.actionManager,c=e.onExportToPng,d=e.onExportToSvg,h=e.onExportToClipboard,m=e.onExportToBackend,u=(0,B.useState)(!1),v=u[0],w=u[1],y=f().useCallback(function(){w(!1)},[]);return f().createElement(f().Fragment,null,f().createElement(Ve,{onClick:function(){w(!0)},"data-testid":"export-button",icon:Lh,type:"button","aria-label":_("buttons.export"),showAriaLabel:mn(),title:_("buttons.export")}),v&&f().createElement(is,{onCloseRequest:y,title:_("buttons.export")},f().createElement(Ib,{elements:t,appState:n,exportPadding:a,actionManager:s,onExportToPng:c,onExportToSvg:d,onExportToClipboard:h,onExportToBackend:m,onCloseRequest:y})))},ym=(E(1310),function(e){var t=e.children,n=e.side,r=e.className;return f().createElement("div",{className:Je("FixedSideContainer","FixedSideContainer_side_".concat(n),r)},t)}),Ab=f().memo(function(e){var t=e.theme;return f().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 250 250",className:"github-corner rtl-mirror"},f().createElement("a",{href:"https://github.com/excalidraw/excalidraw",target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub repository"},f().createElement("path",{d:"M0 0l115 115h15l12 27 108 108V0z",fill:t==="light"?ze.MA[6]:ze.MA[8]}),f().createElement("path",{className:"octo-arm",d:"M128 109c-15-9-9-19-9-19 3-7 2-11 2-11-1-7 3-2 3-2 4 5 2 11 2 11-3 10 5 15 9 16",style:{transformOrigin:"130px 106px"},fill:t==="light"?ze.ix:ze.Sn}),f().createElement("path",{className:"octo-body",d:"M115 115s4 2 5 0l14-14c3-2 6-3 8-3-8-11-15-24 2-41 5-5 10-7 16-7 1-2 3-7 12-11 0 0 5 3 7 16 4 2 8 5 12 9s7 8 9 12c14 3 17 7 17 7-4 8-9 11-11 11 0 6-2 11-7 16-16 16-30 10-41 2 0 3-1 7-5 11l-12 11c-1 1 1 5 1 5z",fill:t==="light"?ze.ix:ze.Sn})))}),wm=(E(7096),function(e){var t=function(n){var r=n.appState,a=n.elements,s=r.elementType,c=r.isResizing,d=r.isRotating,h=r.lastPointerDownWith,m=r.multiElement!==null;if(s==="arrow"||s==="line")return _(m?"hints.linearElementMulti":"hints.linearElement");if(s==="draw")return _("hints.freeDraw");if(s==="text")return _("hints.text");var u=Ze(a,r);if(c&&h==="mouse"&&u.length===1){var v=u[0];return vt(v)&&v.points.length===2?_("hints.lockAngle"):_("hints.resize")}return d&&h==="mouse"?_("hints.rotate"):u.length===1&&vt(u[0])?r.editingLinearElement?r.editingLinearElement.activePointIndex?_("hints.lineEditor_pointSelected"):_("hints.lineEditor_nothingSelected"):_("hints.lineEditor_info"):null}({appState:e.appState,elements:e.elements});return t?(t=ie(t),f().createElement("div",{className:"HintViewer"},f().createElement("span",null,t))):null}),Db=(E(3336),E(694),f().createElement("svg",{viewBox:"0 0 1792 1792"},f().createElement("path",{fill:"currentColor",d:"M1600 736v192q0 40-28 68t-68 28h-416v416q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-416h-416q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h416v-416q0-40 28-68t68-28h192q40 0 68 28t28 68v416h416q40 0 68 28t28 68z"}))),jb=function(e){var t=e.elements,n=e.pendingElements,r=e.onRemoveFromLibrary,a=e.onClick,s=(0,B.useRef)(null);(0,B.useEffect)(function(){var v=t||n;if(v){for(var w=Yl(v,{exportBackground:!1,viewBackgroundColor:ze.ix,shouldAddWatermark:!1}),y=0,k=s.current.children;y<k.length;y++){var O=k[y];O.tagName==="svg"&&s.current.removeChild(O)}s.current.appendChild(w);var I=s.current;return function(){I.removeChild(w)}}},[t,n]);var c=(0,B.useState)(!1),d=c[0],h=c[1],m=mn(),u=(d||m)&&n&&f().createElement("div",{className:"library-unit__adder"},Db);return f().createElement("div",{className:Je("library-unit",{"library-unit__active":t||n}),onMouseEnter:function(){return h(!0)},onMouseLeave:function(){return h(!1)}},f().createElement("div",{className:Je("library-unit__dragger",{"library-unit__pulse":!!n}),ref:s,draggable:!!t,onClick:t||n?a:void 0,onDragStart:function(v){h(!1),v.dataTransfer.setData(j.LO.excalidrawlib,JSON.stringify(t))}}),u,t&&(d||m)&&f().createElement("button",{className:"library-unit__removeFromLibrary","aria-label":_("labels.removeFromLibrary"),onClick:r},tu))},bm={CHECKED:f().createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},f().createElement("path",{d:"M640 768h512v-192q0-106-75-181t-181-75-181 75-75 181v192zm832 96v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-192q0-184 132-316t316-132 316 132 132 316v192h32q40 0 68 28t28 68z"})),UNCHECKED:f().createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",className:"unlocked-icon rtl-mirror"},f().createElement("path",{d:"M1728 576v256q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45v-256q0-106-75-181t-181-75-181 75-75 181v192h96q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h672v-192q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5z"}))},xm=function(e){return f().createElement("label",{className:Je("ToolIcon ToolIcon__lock ToolIcon_type_floating zen-mode-visibility","ToolIcon_size_".concat(e.size||"m"),{"zen-mode-visibility--hidden":e.zenModeEnabled}),title:"".concat(e.title," \u2014 Q")},f().createElement("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:e.name,id:e.id,onChange:e.onChange,checked:e.checked,"aria-label":e.title}),f().createElement("div",{className:"ToolIcon__icon"},e.checked?bm.CHECKED:bm.UNCHECKED))},Sr=function(e){var t=e.heading,n=e.children,r=Ll(e,["heading","children"]),a=f().createElement("h2",{className:"visually-hidden",id:"".concat(t,"-title")},_("headings.".concat(t)));return f().createElement("section",Wl({},r,{"aria-labelledby":"".concat(t,"-title")}),typeof n=="function"?n(a):f().createElement(f().Fragment,null,a,n))},Em=(E(580),function(e){var t=e.children,n=e.className,r=e.mobile;return f().createElement("div",{className:Je("UserList",n,{UserList_mobile:r})},t)});function km(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}var zb=function(e){var t=e.appState,n=e.elements,r=e.libraryMenu,a=e.actionManager,s=e.exportButton,c=e.setAppState,d=e.onCollabButtonClick,h=e.onLockToggle,m=e.canvas,u=e.isCollaborating,v=e.renderCustomFooter,w=e.viewModeEnabled,y=e.showThemeBtn;return f().createElement(f().Fragment,null,!w&&f().createElement(ym,{side:"top",className:"App-top-bar"},f().createElement(Sr,{heading:"shapes"},function(k){return f().createElement(In,{gap:4,align:"center"},f().createElement(Vn,{gap:1},f().createElement(Un,{padding:1},k,f().createElement(Vn,{gap:1},f().createElement(fm,{canvas:m,elementType:t.elementType,setAppState:c,isLibraryOpen:t.isLibraryOpen}))),f().createElement(xm,{checked:t.elementLocked,onChange:h,title:_("toolBar.lock")})),r)}),f().createElement(wm,{appState:t,elements:n})),f().createElement("div",{className:"App-bottom-bar",style:{marginBottom:14,marginLeft:14,marginRight:14}},f().createElement(Un,{padding:0},t.openMenu==="canvas"?f().createElement(Sr,{className:"App-mobile-menu",heading:"canvasActions"},f().createElement("div",{className:"panelColumn"},f().createElement(In,{gap:4},w?f().createElement(f().Fragment,null,a.renderAction("saveScene"),a.renderAction("saveAsScene"),s):f().createElement(f().Fragment,null,a.renderAction("loadScene"),a.renderAction("saveScene"),a.renderAction("saveAsScene"),s,a.renderAction("clearCanvas"),d&&f().createElement(mm,{isCollaborating:u,collaboratorCount:t.collaborators.size,onClick:d}),f().createElement(hm,{actionManager:a,appState:t,setAppState:c,showThemeBtn:y})),v==null?void 0:v(!0),t.collaborators.size>0&&f().createElement("fieldset",null,f().createElement("legend",null,_("labels.collaborators")),f().createElement(Em,{mobile:!0},Array.from(t.collaborators).filter(function(k){k[0];var O=k[1];return Object.keys(O).length!==0}).map(function(k){var O=k[0];return k[1],f().createElement(f().Fragment,{key:O},a.renderAction("goToCollaborator",O))})))))):t.openMenu==="shape"&&!w&&Xc(t,n)?f().createElement(Sr,{className:"App-mobile-menu",heading:"selectedShapeActions"},f().createElement(pm,{appState:t,elements:n,renderAction:a.renderAction,elementType:t.elementType})):null,f().createElement("footer",{className:"App-toolbar"},w?f().createElement("div",{className:"App-toolbar-content"},a.renderAction("toggleCanvasMenu")):f().createElement("div",{className:"App-toolbar-content"},a.renderAction("toggleCanvasMenu"),a.renderAction("toggleEditMenu"),a.renderAction("undo"),a.renderAction("redo"),a.renderAction(t.multiElement?"finalize":"duplicateSelection"),a.renderAction("deleteSelectedElements")),t.scrolledOutside&&!t.openMenu&&f().createElement("button",{className:"scroll-back-to-content",onClick:function(){c(function(k){for(var O=1;O<arguments.length;O++){var I=arguments[O]!=null?arguments[O]:{};O%2?km(Object(I),!0).forEach(function(C){re(k,C,I[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(I)):km(Object(I)).forEach(function(C){Object.defineProperty(k,C,Object.getOwnPropertyDescriptor(I,C))})}return k}({},oa(n,t)))}},_("buttons.scrollBackToContent"))))))},Sm=(E(8051),function(e){var t=(0,B.useRef)(null),n=(0,B.useState)(null),r=n[0],a=n[1];return(0,B.useLayoutEffect)(function(){if(e.spreadsheet){var s=Uw(e.chartType,e.spreadsheet,0,0);a(s);var c=Yl(s,{exportBackground:!1,viewBackgroundColor:ze.ix,shouldAddWatermark:!1}),d=t.current;return d.appendChild(c),e.selected&&d.parentNode.focus(),function(){d.removeChild(c)}}},[e.spreadsheet,e.chartType,e.selected]),f().createElement("button",{className:"ChartPreview",onClick:function(){r&&e.onClick(e.chartType,r)}},f().createElement("div",{ref:t}))}),Nb=function(e){var t=e.setAppState,n=e.appState,r=e.onClose,a=e.onInsertChart,s=f().useCallback(function(){r&&r()},[r]),c=function(d,h){a(h),$o("magic","chart",d),t({currentChartType:d,pasteDialog:{shown:!1,data:null}})};return f().createElement(is,{small:!0,onCloseRequest:s,title:_("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1},f().createElement("div",{className:"container"},f().createElement(Sm,{chartType:"bar",spreadsheet:n.pasteDialog.data,selected:n.currentChartType==="bar",onClick:c}),f().createElement(Sm,{chartType:"line",spreadsheet:n.pasteDialog.data,selected:n.currentChartType==="line",onClick:c})))},Rb=(E(3922),function(){return f().createElement("div",{className:"HelpDialog--header"},f().createElement("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw#documentation",target:"_blank",rel:"noopener noreferrer"},_("helpDialog.documentation")),f().createElement("a",{className:"HelpDialog--btn",href:"https://blog.excalidraw.com",target:"_blank",rel:"noopener noreferrer"},_("helpDialog.blog")),f().createElement("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer"},_("helpDialog.github")))}),Bb=function(e){return f().createElement(f().Fragment,null,f().createElement("h3",null,e.title),e.children)},Hb=function(e){return f().createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"}},e.children)},Cm=function(e){return f().createElement("div",{style:{width:"49%"}},e.children)},Iu=function(e){return f().createElement("div",{className:"HelpDialog--island"},f().createElement("h3",{className:"HelpDialog--island-title"},e.caption),e.children)},Ce=function(e){return f().createElement("div",{className:"HelpDialog--shortcut"},f().createElement("div",{style:{display:"flex",margin:"0",padding:"4px 8px",alignItems:"center"}},f().createElement("div",{style:{lineHeight:1.4}},e.label),f().createElement("div",{style:{display:"flex",flex:"0 0 auto",justifyContent:"flex-end",marginInlineStart:"auto",minWidth:"30%"}},e.shortcuts.map(function(t,n){return f().createElement(f().Fragment,{key:n},f().createElement(Fb,null,t),e.isOr&&n!==e.shortcuts.length-1&&_("helpDialog.or"))}))))};Ce.defaultProps={isOr:!0};var Fb=function(e){return f().createElement("kbd",Wl({className:"HelpDialog--key"},e))},Vb=function(e){var t=e.onClose,n=f().useCallback(function(){t&&t()},[t]);return f().createElement(f().Fragment,null,f().createElement(is,{onCloseRequest:n,title:_("helpDialog.title"),className:"HelpDialog"},f().createElement(Rb,null),f().createElement(Bb,{title:_("helpDialog.shortcuts")},f().createElement(Hb,null,f().createElement(Cm,null,f().createElement(Iu,{caption:_("helpDialog.shapes")},f().createElement(Ce,{label:_("toolBar.selection"),shortcuts:["V","1"]}),f().createElement(Ce,{label:_("toolBar.rectangle"),shortcuts:["R","2"]}),f().createElement(Ce,{label:_("toolBar.diamond"),shortcuts:["D","3"]}),f().createElement(Ce,{label:_("toolBar.ellipse"),shortcuts:["E","4"]}),f().createElement(Ce,{label:_("toolBar.arrow"),shortcuts:["A","5"]}),f().createElement(Ce,{label:_("toolBar.line"),shortcuts:["P","6"]}),f().createElement(Ce,{label:_("toolBar.draw"),shortcuts:["Shift+P","7"]}),f().createElement(Ce,{label:_("toolBar.text"),shortcuts:["T","8"]}),f().createElement(Ce,{label:_("helpDialog.textNewLine"),shortcuts:[ie("Enter"),ie("Shift+Enter")]}),f().createElement(Ce,{label:_("helpDialog.textFinish"),shortcuts:[ie("Esc"),ie("CtrlOrCmd+Enter")]}),f().createElement(Ce,{label:_("helpDialog.curvedArrow"),shortcuts:["A",_("helpDialog.click"),_("helpDialog.click"),_("helpDialog.click")],isOr:!1}),f().createElement(Ce,{label:_("helpDialog.curvedLine"),shortcuts:["L",_("helpDialog.click"),_("helpDialog.click"),_("helpDialog.click")],isOr:!1}),f().createElement(Ce,{label:_("toolBar.lock"),shortcuts:["Q"]}),f().createElement(Ce,{label:_("helpDialog.preventBinding"),shortcuts:[ie("CtrlOrCmd")]})),f().createElement(Iu,{caption:_("helpDialog.view")},f().createElement(Ce,{label:_("buttons.zoomIn"),shortcuts:[ie("CtrlOrCmd++")]}),f().createElement(Ce,{label:_("buttons.zoomOut"),shortcuts:[ie("CtrlOrCmd+-")]}),f().createElement(Ce,{label:_("buttons.resetZoom"),shortcuts:[ie("CtrlOrCmd+0")]}),f().createElement(Ce,{label:_("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),f().createElement(Ce,{label:_("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),f().createElement(Ce,{label:_("buttons.fullScreen"),shortcuts:["F"]}),f().createElement(Ce,{label:_("buttons.zenMode"),shortcuts:[ie("Alt+Z")]}),f().createElement(Ce,{label:_("labels.showGrid"),shortcuts:[ie("CtrlOrCmd+'")]}),f().createElement(Ce,{label:_("labels.viewMode"),shortcuts:[ie("Alt+R")]}))),f().createElement(Cm,null,f().createElement(Iu,{caption:_("helpDialog.editor")},f().createElement(Ce,{label:_("labels.selectAll"),shortcuts:[ie("CtrlOrCmd+A")]}),f().createElement(Ce,{label:_("labels.multiSelect"),shortcuts:[ie("Shift+".concat(_("helpDialog.click")))]}),f().createElement(Ce,{label:_("labels.moveCanvas"),shortcuts:[ie("Space+".concat(_("helpDialog.drag"))),ie("Wheel+".concat(_("helpDialog.drag")))],isOr:!0}),f().createElement(Ce,{label:_("labels.cut"),shortcuts:[ie("CtrlOrCmd+X")]}),f().createElement(Ce,{label:_("labels.copy"),shortcuts:[ie("CtrlOrCmd+C")]}),f().createElement(Ce,{label:_("labels.paste"),shortcuts:[ie("CtrlOrCmd+V")]}),f().createElement(Ce,{label:_("labels.copyAsPng"),shortcuts:[ie("Shift+Alt+C")]}),f().createElement(Ce,{label:_("labels.copyStyles"),shortcuts:[ie("CtrlOrCmd+Alt+C")]}),f().createElement(Ce,{label:_("labels.pasteStyles"),shortcuts:[ie("CtrlOrCmd+Alt+V")]}),f().createElement(Ce,{label:_("labels.delete"),shortcuts:[ie("Del")]}),f().createElement(Ce,{label:_("labels.sendToBack"),shortcuts:[ie(Rn?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")]}),f().createElement(Ce,{label:_("labels.bringToFront"),shortcuts:[ie(Rn?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")]}),f().createElement(Ce,{label:_("labels.sendBackward"),shortcuts:[ie("CtrlOrCmd+[")]}),f().createElement(Ce,{label:_("labels.bringForward"),shortcuts:[ie("CtrlOrCmd+]")]}),f().createElement(Ce,{label:_("labels.alignTop"),shortcuts:[ie("CtrlOrCmd+Shift+Up")]}),f().createElement(Ce,{label:_("labels.alignBottom"),shortcuts:[ie("CtrlOrCmd+Shift+Down")]}),f().createElement(Ce,{label:_("labels.alignLeft"),shortcuts:[ie("CtrlOrCmd+Shift+Left")]}),f().createElement(Ce,{label:_("labels.alignRight"),shortcuts:[ie("CtrlOrCmd+Shift+Right")]}),f().createElement(Ce,{label:_("labels.duplicateSelection"),shortcuts:[ie("CtrlOrCmd+D"),ie("Alt+".concat(_("helpDialog.drag")))]}),f().createElement(Ce,{label:_("buttons.undo"),shortcuts:[ie("CtrlOrCmd+Z")]}),f().createElement(Ce,{label:_("buttons.redo"),shortcuts:uf?[ie("CtrlOrCmd+Y"),ie("CtrlOrCmd+Shift+Z")]:[ie("CtrlOrCmd+Shift+Z")]}),f().createElement(Ce,{label:_("labels.group"),shortcuts:[ie("CtrlOrCmd+G")]}),f().createElement(Ce,{label:_("labels.ungroup"),shortcuts:[ie("CtrlOrCmd+Shift+G")]}),f().createElement(Ce,{label:_("labels.flipHorizontal"),shortcuts:[ie("Shift+H")]}),f().createElement(Ce,{label:_("labels.flipVertical"),shortcuts:[ie("Shift+V")]})))))))},Lu=function(e,t){var n,r,a,s,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function d(h){return function(m){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&u[0]?r.return:u[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,u[1])).done)return a;switch(r=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return c.label++,{value:u[1],done:!1};case 5:c.label++,r=u[1],u=[0];continue;case 7:u=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!((a=a.length>0&&a[a.length-1])||u[0]!==6&&u[0]!==2)){c=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){c.label=u[1];break}if(u[0]===6&&c.label<a[1]){c.label=a[1],a=u;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(u);break}a[2]&&c.ops.pop(),c.trys.pop();continue}u=t.call(e,c)}catch(v){u=[6,v],r=0}finally{n=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([h,m])}}},Om=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e};function Mm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}var Ub=function(e){var t=e.libraryItems,n=e.onRemoveFromLibrary,r=e.onAddToLibrary,a=e.onInsertShape,s=e.pendingElements,c=e.setAppState,d=e.setLibraryItems,h=e.libraryReturnUrl,m=e.focusContainer,u=e.library,v=e.id,w=mn(),y=t.length+(s.length>0?1:0),k=w?4:6,O=Math.max(1,Math.ceil(y/k)),I=[],C=!1,L=h||window.location.origin+window.location.pathname;I.push(f().createElement("div",{className:"layer-ui__library-header",key:"library-header"},f().createElement(Ve,{key:"import",type:"button",title:_("buttons.load"),"aria-label":_("buttons.load"),icon:Ih,onClick:function(){Yw(u).then(function(){c({isLibraryOpen:!1}),c({isLibraryOpen:!0})}).catch(Mc).catch(function(Z){c({errorMessage:Z.message})})}}),!!t.length&&f().createElement(f().Fragment,null,f().createElement(Ve,{key:"export",type:"button",title:_("buttons.export"),"aria-label":_("buttons.export"),icon:Lh,onClick:function(){Kw(u).catch(Mc).catch(function(Z){c({errorMessage:Z.message})})}}),f().createElement(Ve,{key:"reset",type:"button",title:_("buttons.resetLibrary"),"aria-label":_("buttons.resetLibrary"),icon:eu,onClick:function(){window.confirm(_("alerts.resetLibrary"))&&(u.resetLibrary(),d([]),m())}})),f().createElement("a",{href:"https://libraries.excalidraw.com?target=".concat(window.name||"_blank","&referrer=").concat(L,"&useHash=true&token=").concat(v),target:"_excalidraw_libraries"},_("labels.libraries"))));for(var U=0;U<O;U++){for(var H=k*U,K=[],Y=0;Y<k;Y++){var W=s.length>0&&!C&&H+Y>=t.length;C=C||W,K.push(f().createElement(In,{key:Y},f().createElement(jb,{elements:t[H+Y],pendingElements:W?s:void 0,onRemoveFromLibrary:n.bind(null,H+Y),onClick:W?r.bind(null,s):a.bind(null,t[H+Y])})))}I.push(f().createElement(Vn,{align:"center",gap:1,key:U},K))}return f().createElement(In,{align:"start",gap:1,className:"layer-ui__library-items"},I)},Wb=function(e){var t=e.onClickOutside,n=e.onInsertShape,r=e.pendingElements,a=e.onAddToLibrary,s=e.setAppState,c=e.libraryReturnUrl,d=e.focusContainer,h=e.library,m=e.id,u=(0,B.useRef)(null);(function(H,K){(0,B.useEffect)(function(){var Y=function(W){H.current&&(W.target instanceof Element&&(H.current.contains(W.target)||!document.body.contains(W.target))||K(W))};return document.addEventListener("pointerdown",Y,!1),function(){document.removeEventListener("pointerdown",Y)}},[H,K])})(u,function(H){H.target.closest(".ToolIcon_type_button__library")||t(H)});var v=(0,B.useState)([]),w=v[0],y=v[1],k=(0,B.useState)("preloading"),O=k[0],I=k[1],C=(0,B.useRef)(null);(0,B.useEffect)(function(){return Promise.race([new Promise(function(H){C.current=setTimeout(function(){H("loading")},100)}),h.loadLibrary().then(function(H){y(H),I("ready")})]).then(function(H){H==="loading"&&I("loading")}),function(){clearTimeout(C.current)}},[h]);var L=(0,B.useCallback)(function(){var H=(0,Q.Z)(function(K){var Y,W;return Lu(this,function(Z){switch(Z.label){case 0:return[4,h.loadLibrary()];case 1:return Y=Z.sent(),W=Y.filter(function(J,ee){return ee!==K}),h.saveLibrary(W).catch(function(J){y(Y),s({errorMessage:_("alerts.errorRemovingFromLibrary")})}),y(W),[2]}})});return function(K){return H.apply(this,arguments)}}(),[h,s]),U=(0,B.useCallback)(function(){var H=(0,Q.Z)(function(K){var Y,W;return Lu(this,function(Z){switch(Z.label){case 0:return[4,h.loadLibrary()];case 1:return Y=Z.sent(),W=Om(Om([],Y),[K]),a(),h.saveLibrary(W).catch(function(J){y(Y),s({errorMessage:_("alerts.errorAddingToLibrary")})}),y(W),[2]}})});return function(K){return H.apply(this,arguments)}}(),[a,h,s]);return O==="preloading"?null:f().createElement(Un,{padding:1,ref:u,className:"layer-ui__library"},O==="loading"?f().createElement("div",{className:"layer-ui__library-message"},_("labels.libraryLoadingMessage")):f().createElement(Ub,{libraryItems:w,onRemoveFromLibrary:L,onAddToLibrary:U,onInsertShape:n,pendingElements:r,setAppState:s,setLibraryItems:y,libraryReturnUrl:c,focusContainer:d,library:h,id:m}))},Gb=function(e){var t,n=e.actionManager,r=e.appState,a=e.setAppState,s=e.canvas,c=e.elements,d=e.onCollabButtonClick,h=e.onLockToggle,m=e.onInsertElements,u=e.zenModeEnabled,v=e.showExitZenModeBtn,w=e.showThemeBtn,y=e.toggleZenMode,k=e.isCollaborating,O=e.onExportToBackend,I=e.renderCustomFooter,C=e.viewModeEnabled,L=e.libraryReturnUrl,U=e.UIOptions,H=e.focusContainer,K=e.library,Y=e.id,W=mn(),Z=function(){if(!U.canvasActions.export)return null;var xe=function(we){return function(){var ge=(0,Q.Z)(function(Se,te){return Lu(this,function(be){switch(be.label){case 0:return s?[4,Su(we,Se,r,s,{exportBackground:r.exportBackground,name:r.name,viewBackgroundColor:r.viewBackgroundColor,scale:te,shouldAddWatermark:r.shouldAddWatermark}).catch(Mc).catch(function(je){console.error(je),a({errorMessage:je.message})})]:[3,2];case 1:be.sent(),be.label=2;case 2:return[2]}})});return function(Se,te){return ge.apply(this,arguments)}}()};return f().createElement(Lb,{elements:c,appState:r,actionManager:n,onExportToPng:xe("png"),onExportToSvg:xe("svg"),onExportToClipboard:xe("clipboard"),onExportToBackend:O?function(we){O&&O(we,r,s)}:void 0})},J=(0,B.useCallback)(function(xe){a({isLibraryOpen:!1})},[a]),ee=(0,B.useCallback)(function(){a({selectedElementIds:{},selectedGroupIds:{}})},[a]),ae=r.isLibraryOpen?f().createElement(Wb,{pendingElements:Ze(c,r),onClickOutside:J,onInsertShape:m,onAddToLibrary:ee,setAppState:a,libraryReturnUrl:L,focusContainer:H,library:K,id:Y}):null,De=f().createElement(f().Fragment,null,r.isLoading&&f().createElement($,null),r.errorMessage&&f().createElement(Mb,{message:r.errorMessage,onClose:function(){return a({errorMessage:null})}}),r.showHelpDialog&&f().createElement(Vb,{onClose:function(){a({showHelpDialog:!1})}}),r.pasteDialog.shown&&f().createElement(Nb,{setAppState:a,appState:r,onInsertChart:m,onClose:function(){return a({pasteDialog:{shown:!1,data:null}})}}));return W?f().createElement(f().Fragment,null,De,f().createElement(zb,{appState:r,elements:c,actionManager:n,libraryMenu:ae,exportButton:Z(),setAppState:a,onCollabButtonClick:d,onLockToggle:h,canvas:s,isCollaborating:k,renderCustomFooter:I,viewModeEnabled:C,showThemeBtn:w})):f().createElement("div",{className:Je("layer-ui__wrapper",{"disable-pointerEvents":r.draggingElement||r.resizingElement||r.editingElement&&!Mt(r.editingElement)})},De,(t=Xc(r,c),f().createElement(ym,{side:"top"},f().createElement("div",{className:"App-menu App-menu_top"},f().createElement(In,{gap:4,className:Je({"disable-pointerEvents":u})},C?f().createElement(Sr,{heading:"canvasActions",className:Je("zen-mode-transition",{"transition-left":u})},f().createElement(Un,{padding:2,style:{zIndex:1}},f().createElement(In,{gap:4},f().createElement(Vn,{gap:1,justifyContent:"space-between"},n.renderAction("saveScene"),n.renderAction("saveAsScene"),Z())))):f().createElement(Sr,{heading:"canvasActions",className:Je("zen-mode-transition",{"transition-left":u})},f().createElement(Un,{padding:2,style:{zIndex:1}},f().createElement(In,{gap:4},f().createElement(Vn,{gap:1,justifyContent:"space-between"},n.renderAction("loadScene"),n.renderAction("saveScene"),n.renderAction("saveAsScene"),Z(),n.renderAction("clearCanvas"),d&&f().createElement(mm,{isCollaborating:k,collaboratorCount:r.collaborators.size,onClick:d})),f().createElement(hm,{actionManager:n,appState:r,setAppState:a,showThemeBtn:w})))),t&&f().createElement(Sr,{heading:"selectedShapeActions",className:Je("zen-mode-transition",{"transition-left":u})},f().createElement(Un,{className:j.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(r.height-200,"px")}},f().createElement(pm,{appState:r,elements:c,renderAction:n.renderAction,elementType:r.elementType})))),!C&&f().createElement(Sr,{heading:"shapes"},function(xe){return f().createElement(In,{gap:4,align:"start"},f().createElement(Vn,{gap:1},f().createElement(Un,{padding:1,className:Je({"zen-mode":u})},f().createElement(wm,{appState:r,elements:c}),xe,f().createElement(Vn,{gap:1},f().createElement(fm,{canvas:s,elementType:r.elementType,setAppState:a,isLibraryOpen:r.isLibraryOpen}))),f().createElement(xm,{zenModeEnabled:u,checked:r.elementLocked,onChange:h,title:_("toolBar.lock")})),ae)}),f().createElement(Em,{className:Je("zen-mode-transition",{"transition-right":u})},r.collaborators.size>0&&Array.from(r.collaborators).filter(function(xe){xe[0];var we=xe[1];return Object.keys(we).length!==0}).map(function(xe){var we=xe[0],ge=xe[1];return f().createElement(cu,{label:ge.username||"Unknown user",key:we},n.renderAction("goToCollaborator",we))}))))),f().createElement("div",{className:Je("App-menu App-menu_bottom zen-mode-transition",{"App-menu_bottom--transition-left":u})},f().createElement(In,{gap:2},f().createElement(Sr,{heading:"canvasActions"},f().createElement(Un,{padding:1},f().createElement(kb,{renderAction:n.renderAction,zoom:r.zoom})),f().createElement("a",{className:Je("encrypted-icon tooltip zen-mode-visibility",{"zen-mode-visibility--hidden":u}),href:"https://blog.excalidraw.com/end-to-end-encryption/",target:"_blank",rel:"noopener noreferrer","aria-label":_("encrypted.link")},f().createElement(cu,{label:_("encrypted.tooltip"),position:"above",long:!0},$2))))),f().createElement("aside",{className:Je("layer-ui__wrapper__github-corner zen-mode-transition",{"transition-right":u})},f().createElement(Ab,{theme:r.theme})),f().createElement("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer"},f().createElement("div",{className:Je("zen-mode-transition",{"transition-right disable-pointerEvents":u})},I==null?void 0:I(!1),n.renderAction("toggleShortcuts")),f().createElement("button",{className:Je("disable-zen-mode",{"disable-zen-mode--visible":v}),onClick:y},_("buttons.exitZenMode"))),r.scrolledOutside&&f().createElement("button",{className:"scroll-back-to-content",onClick:function(){a(function(xe){for(var we=1;we<arguments.length;we++){var ge=arguments[we]!=null?arguments[we]:{};we%2?Mm(Object(ge),!0).forEach(function(Se){re(xe,Se,ge[Se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(xe,Object.getOwnPropertyDescriptors(ge)):Mm(Object(ge)).forEach(function(Se){Object.defineProperty(xe,Se,Object.getOwnPropertyDescriptor(ge,Se))})}return xe}({},oa(c,r)))}},_("buttons.scrollBackToContent")))},Kb=function(e,t){var n=function(c){return c.suggestedBindings,c.startBoundElement,Ll(c,["suggestedBindings","startBoundElement"])},r=n(e.appState),a=n(t.appState),s=Object.keys(r);return e.renderCustomFooter===t.renderCustomFooter&&e.langCode===t.langCode&&e.elements===t.elements&&s.every(function(c){return r[c]===a[c]})};let Yb=f().memo(Gb,Kb);E(1528);var Zb=function(e){var t,n=mn(),r=bt(e.elements),a=Qc(e.elements,e.appState),s=bt(a);return n&&e.appState.openMenu?null:f().createElement("div",{className:"Stats"},f().createElement(Un,{padding:2},f().createElement("div",{className:"close",onClick:e.onClose},tu),f().createElement("h3",null,_("stats.title")),f().createElement("table",null,f().createElement("tbody",null,f().createElement("tr",null,f().createElement("th",{colSpan:2},_("stats.scene"))),f().createElement("tr",null,f().createElement("td",null,_("stats.elements")),f().createElement("td",null,e.elements.length)),f().createElement("tr",null,f().createElement("td",null,_("stats.width")),f().createElement("td",null,Math.round(r[2])-Math.round(r[0]))),f().createElement("tr",null,f().createElement("td",null,_("stats.height")),f().createElement("td",null,Math.round(r[3])-Math.round(r[1]))),a.length===1&&f().createElement("tr",null,f().createElement("th",{colSpan:2},_("stats.element"))),a.length>1&&f().createElement(f().Fragment,null,f().createElement("tr",null,f().createElement("th",{colSpan:2},_("stats.selected"))),f().createElement("tr",null,f().createElement("td",null,_("stats.elements")),f().createElement("td",null,a.length))),a.length>0&&f().createElement(f().Fragment,null,f().createElement("tr",null,f().createElement("td",null,"x"),f().createElement("td",null,Math.round(s[0]))),f().createElement("tr",null,f().createElement("td",null,"y"),f().createElement("td",null,Math.round(s[1]))),f().createElement("tr",null,f().createElement("td",null,_("stats.width")),f().createElement("td",null,Math.round(s[2]-s[0]))),f().createElement("tr",null,f().createElement("td",null,_("stats.height")),f().createElement("td",null,Math.round(s[3]-s[1])))),a.length===1&&f().createElement("tr",null,f().createElement("td",null,_("stats.angle")),f().createElement("td",null,"".concat(Math.round(180*a[0].angle/Math.PI),"\xB0"))),(t=e.renderCustomStats)===null||t===void 0?void 0:t.call(e,e.elements,e.appState)))))},Xb=(E(9757),function(e){var t=e.message,n=e.clearToast,r=(0,B.useRef)(0),a=(0,B.useCallback)(function(){return r.current=window.setTimeout(function(){return n()},j.Lg)},[n]);return(0,B.useEffect)(function(){return a(),function(){return clearTimeout(r.current)}},[a,t]),f().createElement("div",{className:"Toast",onMouseEnter:function(){return clearTimeout(r==null?void 0:r.current)},onMouseLeave:a},f().createElement("p",{className:"Toast__message"},t))});function Pm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _m(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pm(Object(n),!0).forEach(function(r){re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Tm=pe({name:"viewMode",perform:function(e,t){return $o("view","mode","view"),{appState:_m(_m({},t),{},{viewModeEnabled:!this.checked(t),selectedElementIds:{}}),commitToHistory:!1}},checked:function(e){return e.viewModeEnabled},contextItemLabel:"labels.viewMode",keyTest:function(e){return!e[Fe]&&e.altKey&&e.code===py}}),$b=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])})(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cr=function(e,t){var n,r,a,s,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function d(h){return function(m){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&u[0]?r.return:u[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,u[1])).done)return a;switch(r=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return c.label++,{value:u[1],done:!1};case 5:c.label++,r=u[1],u=[0];continue;case 7:u=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!((a=a.length>0&&a[a.length-1])||u[0]!==6&&u[0]!==2)){c=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){c.label=u[1];break}if(u[0]===6&&c.label<a[1]){c.label=a[1],a=u;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(u);break}a[2]&&c.ops.pop(),c.trys.pop();continue}u=t.call(e,c)}catch(v){u=[6,v],r=0}finally{n=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([h,m])}}},Xe=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e};function Im(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Im(Object(n),!0).forEach(function(r){re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Im(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Lm=f().createContext(!1),mn=function(){return(0,B.useContext)(Lm)},Am=f().createContext(null),Dm=function(){return(0,B.useContext)(Am)},ha=!1,Au=0,ti=0,ni=0,wo=!1,ma=!1,Du=!1,ju={horizontal:null,vertical:null},Or=0,ga=!1,Mr=null,$e={pointers:new Map,lastCenter:null,initialDistance:null,initialScale:null},zu=function(e){function t(n){var r,a=this;a=e.call(this,n)||this,r=a,Qb.call(a);var s,c,d,h,m=lo(),u=n.excalidrawRef,v=n.viewModeEnabled,w=v!==void 0&&v,y=n.zenModeEnabled,k=y!==void 0&&y,O=n.gridModeEnabled,I=O!==void 0&&O,C=n.theme,L=C===void 0?m.theme:C,U=n.name,H=U===void 0?m.name:U;if(a.state=fe(fe(fe({},m),{},{theme:L,isLoading:!0},a.getCanvasOffsets()),{},{viewModeEnabled:w,zenModeEnabled:k,gridSize:I?j.k:null,name:H,width:window.innerWidth,height:window.innerHeight}),a.id=af(),u){var K,Y="current"in u&&((K=u.current)===null||K===void 0?void 0:K.readyPromise)||((d=new Promise(function(Z,J){s=Z,c=J})).resolve=s,d.reject=c,d),W={ready:!0,readyPromise:Y,updateScene:a.updateScene,resetScene:a.resetScene,getSceneElementsIncludingDeleted:a.getSceneElementsIncludingDeleted,history:{clear:a.resetHistory},scrollToContent:a.scrollToContent,getSceneElements:a.getSceneElements,getAppState:function(){return r.state},refresh:a.refresh,importLibrary:a.importLibraryFromUrl,setToastMessage:a.setToastMessage,id:a.id};typeof u=="function"?u(W):u.current=W,Y.resolve(W)}return a.scene=new Jt,a.library=new gb(a),a.history=new yb,a.actionManager=new mb(a.syncActionResult,function(){return r.state},function(){return r.scene.getElementsIncludingDeleted()},a),a.actionManager.registerAll(ru),a.actionManager.registerAction((h=a.history,{name:"undo",perform:function(Z,J){return rm(Z,J,function(){return h.undoOnce()})},keyTest:function(Z){return Z[Fe]&&Z.key.toLowerCase()===yf&&!Z.shiftKey},PanelComponent:function(Z){var J=Z.updateData;return f().createElement(Ve,{type:"button",icon:L2,"aria-label":_("buttons.undo"),onClick:J})},commitToHistory:function(){return!1}})),a.actionManager.registerAction(function(Z){return{name:"redo",perform:function(J,ee){return rm(J,ee,function(){return Z.redoOnce()})},keyTest:function(J){return J[Fe]&&J.shiftKey&&J.key.toLowerCase()===yf||uf&&J.ctrlKey&&!J.shiftKey&&J.key===Cy},PanelComponent:function(J){var ee=J.updateData;return f().createElement(Ve,{type:"button",icon:A2,"aria-label":_("buttons.redo"),onClick:ee})},commitToHistory:function(){return!1}}}(a.history)),a}return $b(t,e),t.prototype.renderCanvas=function(){var n=window.devicePixelRatio,r=this.state,a=r.width,s=r.height,c=a*n,d=s*n;return r.viewModeEnabled?f().createElement("canvas",{id:"canvas",style:{width:a,height:s,cursor:"grabbing"},width:c,height:d,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown},_("labels.drawingCanvas")):f().createElement("canvas",{id:"canvas",style:{width:a,height:s},width:c,height:d,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove},_("labels.drawingCanvas"))},t.prototype.render=function(){var n,r,a=this,s=this.state,c=s.zenModeEnabled,d=s.viewModeEnabled,h=this.props,m=h.onCollabButtonClick,u=h.onExportToBackend,v=h.renderFooter,w=h.renderCustomStats;return f().createElement("div",{className:Je("excalidraw excalidraw-container",{"excalidraw--view-mode":d,"excalidraw--mobile":this.isMobile}),ref:this.excalidrawContainerRef,onDrop:this.handleAppOnDrop,tabIndex:0,onKeyDown:this.props.handleKeyboardGlobally?void 0:this.onKeyDown},f().createElement(Am.Provider,{value:this.excalidrawContainerRef.current},f().createElement(Lm.Provider,{value:this.isMobile},f().createElement(Yb,{canvas:this.canvas,appState:this.state,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getElements(),onCollabButtonClick:m,onLockToggle:this.toggleLock,onInsertElements:function(y){return a.addElementsFromPasteOrLibrary({elements:y,position:"center"})},zenModeEnabled:c,toggleZenMode:this.toggleZenMode,langCode:q().code,isCollaborating:this.props.isCollaborating||!1,onExportToBackend:u,renderCustomFooter:v,viewModeEnabled:d,showExitZenModeBtn:((n=this.props)===null||n===void 0?void 0:n.zenModeEnabled)===void 0&&c,showThemeBtn:((r=this.props)===null||r===void 0?void 0:r.theme)===void 0&&this.props.UIOptions.canvasActions.theme,libraryReturnUrl:this.props.libraryReturnUrl,UIOptions:this.props.UIOptions,focusContainer:this.focusContainer,library:this.library,id:this.id}),f().createElement("div",{className:"excalidraw-textEditorContainer"}),f().createElement("div",{className:"excalidraw-contextMenuContainer"}),this.state.showStats&&f().createElement(Zb,{appState:this.state,setAppState:this.setAppState,elements:this.scene.getElements(),onClose:this.toggleStats,renderCustomStats:w}),this.state.toastMessage!==null&&f().createElement(Xb,{message:this.state.toastMessage,clearToast:this.clearToast}),f().createElement("main",null,this.renderCanvas()))))},t.prototype.componentDidMount=function(){var n=this;return(0,Q.Z)(function(){var r,a,s,c;return Cr(this,function(d){return j.Vi.TEST!=="production"&&j.Vi.DEVELOPMENT!=="production"||(n.setState.bind(n),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return n.state}},setState:{configurable:!0,value:function(){for(var h=[],m=0;m<arguments.length;m++)h[m]=arguments[m];return n.setState.apply(n,h)}},app:{configurable:!0,value:n},history:{configurable:!0,value:n.history}})),n.scene.addCallback(n.onSceneUpdated),n.addEventListeners(),n.excalidrawContainerRef.current&&n.focusContainer(),"ResizeObserver"in window&&(r=n.excalidrawContainerRef)!==null&&r!==void 0&&r.current?(n.resizeObserver=new ResizeObserver(function(){var h=n.excalidrawContainerRef.current.getBoundingClientRect(),m=h.width,u=h.height;n.isMobile=m<j.kV||u<j.Yx&&m<j.sS,n.updateDOMRect()}),(a=n.resizeObserver)===null||a===void 0||a.observe(n.excalidrawContainerRef.current)):window.matchMedia&&(s=window.matchMedia("(max-width: ".concat(j.kV,"px), (max-height: ").concat(j.Yx,"px) and (max-width: ").concat(j.sS,"px)")),c=function(){return n.isMobile=s.matches},s.addListener(c),n.detachIsMobileMqHandler=function(){return s.removeListener(c)}),new URLSearchParams(window.location.search.slice(1)).has("web-share-target")?n.restoreFileFromShare():n.updateDOMRect(n.initializeScene),[2]})})()},t.prototype.componentWillUnmount=function(){var n;(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.unmounted=!0,this.removeEventListeners(),this.scene.destroy(),clearTimeout(Or),Or=0},t.prototype.removeEventListeners=function(){var n,r;document.removeEventListener(j.Ks.COPY,this.onCopy),document.removeEventListener(j.Ks.PASTE,this.pasteFromClipboard),document.removeEventListener(j.Ks.CUT,this.onCut),(n=this.nearestScrollableContainer)===null||n===void 0||n.removeEventListener(j.Ks.SCROLL,this.onScroll),document.removeEventListener(j.Ks.KEYDOWN,this.onKeyDown,!1),document.removeEventListener(j.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1),document.removeEventListener(j.Ks.KEYUP,this.onKeyUp),window.removeEventListener(j.Ks.RESIZE,this.onResize,!1),window.removeEventListener(j.Ks.UNLOAD,this.onUnload,!1),window.removeEventListener(j.Ks.BLUR,this.onBlur,!1),window.removeEventListener(j.Ks.DRAG_OVER,this.disableEvent,!1),window.removeEventListener(j.Ks.DROP,this.disableEvent,!1),document.removeEventListener(j.Ks.GESTURE_START,this.onGestureStart,!1),document.removeEventListener(j.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.removeEventListener(j.Ks.GESTURE_END,this.onGestureEnd,!1),(r=this.detachIsMobileMqHandler)===null||r===void 0||r.call(this)},t.prototype.addEventListeners=function(){var n,r;this.removeEventListeners(),document.addEventListener(j.Ks.COPY,this.onCopy),this.props.handleKeyboardGlobally&&document.addEventListener(j.Ks.KEYDOWN,this.onKeyDown,!1),document.addEventListener(j.Ks.KEYUP,this.onKeyUp,{passive:!0}),document.addEventListener(j.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition),(n=document.fonts)===null||n===void 0||(r=n.addEventListener)===null||r===void 0||r.call(n,"loadingdone",this.onFontLoaded),document.addEventListener(j.Ks.GESTURE_START,this.onGestureStart,!1),document.addEventListener(j.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.addEventListener(j.Ks.GESTURE_END,this.onGestureEnd,!1),this.state.viewModeEnabled||(document.addEventListener(j.Ks.PASTE,this.pasteFromClipboard),document.addEventListener(j.Ks.CUT,this.onCut),this.props.detectScroll&&(this.nearestScrollableContainer=function(a){for(var s=a.parentElement;s;){if(s===document.body)return document;var c=window.getComputedStyle(s).overflowY;if(s.scrollHeight>s.clientHeight&&(c==="auto"||c==="scroll"))return s;s=s.parentElement}return document}(this.excalidrawContainerRef.current),this.nearestScrollableContainer.addEventListener(j.Ks.SCROLL,this.onScroll)),window.addEventListener(j.Ks.RESIZE,this.onResize,!1),window.addEventListener(j.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(j.Ks.BLUR,this.onBlur,!1),window.addEventListener(j.Ks.DRAG_OVER,this.disableEvent,!1),window.addEventListener(j.Ks.DROP,this.disableEvent,!1))},t.prototype.componentDidUpdate=function(n,r){var a,s,c=this;n.langCode!==this.props.langCode&&this.updateLanguage(),n.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled},this.addEventListeners),r.viewModeEnabled!==this.state.viewModeEnabled&&this.addEventListeners(),n.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled}),n.theme!==this.props.theme&&this.props.theme&&this.setState({theme:this.props.theme}),n.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?j.k:null}),this.props.name&&n.name!==this.props.name&&this.setState({name:this.props.name}),(a=this.excalidrawContainerRef.current)===null||a===void 0||a.classList.toggle("theme--dark",this.state.theme==="dark"),this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&setTimeout(function(){c.actionManager.executeAction(Gl)});var d=r.multiElement;r.elementType!==this.state.elementType&&d!=null&&ho(this.state)&&cn(d)&&Wc(d,this.state,this.scene,Fo(st.getPointAtIndexGlobalCoordinates(d,-1)));var h={},m={},u={},v={},w={};this.state.collaborators.forEach(function(H,K){if(H.selectedElementIds)for(var Y=0,W=Object.keys(H.selectedElementIds);Y<W.length;Y++){var Z=W[Y];Z in u||(u[Z]=[]),u[Z].push(K)}H.pointer&&(H.username&&(v[K]=H.username),H.userState&&(w[K]=H.userState),m[K]=Xi({sceneX:H.pointer.x,sceneY:H.pointer.y},c.state),h[K]=H.button)});var y=this.scene.getElements(),k=n1(y.filter(function(H){return!c.state.editingElement||c.state.editingElement.type!=="text"||H.id!==c.state.editingElement.id}),this.state,this.state.selectionElement,window.devicePixelRatio,this.rc,this.canvas,{scrollX:this.state.scrollX,scrollY:this.state.scrollY,viewBackgroundColor:this.state.viewBackgroundColor,zoom:this.state.zoom,remotePointerViewportCoords:m,remotePointerButton:h,remoteSelectedElementIds:u,remotePointerUsernames:v,remotePointerUserStates:w,shouldCacheIgnoreZoom:this.state.shouldCacheIgnoreZoom},{renderOptimizations:!0,renderScrollbars:!this.isMobile}),O=k.atLeastOneVisibleElement,I=k.scrollBars;I&&(ju=I);var C,L,U=((s=this.state.editingElement)===null||s===void 0?void 0:s.type)!=="text"&&!O&&y.length>0;this.state.scrolledOutside!==U&&this.setState({scrolledOutside:U}),this.history.record(this.state,this.scene.getElementsIncludingDeleted()),this.state.isLoading||(C=(L=this.props).onChange)===null||C===void 0||C.call(L,this.scene.getElementsIncludingDeleted(),this.state)},t.resetTapTwice=function(){ha=!1},t.prototype.addTextFromPaste=function(n){var r,a=bn({clientX:ti,clientY:ni},this.state),s=a.x,c=a.y,d=uo({x:s,y:c,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,strokeSharpness:this.state.currentItemStrokeSharpness,text:n,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,verticalAlign:j.hs});this.scene.replaceAllElements(Xe(Xe([],this.scene.getElementsIncludingDeleted()),[d])),this.setState({selectedElementIds:(r={},r[d.id]=!0,r)}),this.history.resumeRecording()},t.prototype.selectShapeTool=function(n){var r;wo||gr(this.canvas,n),(r=document.activeElement)instanceof HTMLElement&&r.className.includes("ToolIcon")&&this.focusContainer(),qr(n)||this.setState({suggestedBindings:[]}),n!=="selection"?this.setState({elementType:n,selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}):this.setState({elementType:n})},t.prototype.handleTextWysiwyg=function(n,r){var a=r.isExistingElement,s=a!==void 0&&a,c=this,d=function(h,m){m===void 0&&(m=!1),c.scene.replaceAllElements(Xe([],c.scene.getElementsIncludingDeleted().map(function(u){return u.id===n.id&&Mt(u)?Ny(u,{text:h,isDeleted:m}):u})))};(function(h){var m=h.id,u=h.appState,v=h.onChange,w=h.onSubmit,y=h.getViewportCoords,k=h.element,O=h.canvas,I=h.excalidrawContainer,C=function(){var te,be=(te=Jt.getScene(k))===null||te===void 0?void 0:te.getElement(m);if(be&&Mt(be)){var je=y(be.x,be.y),Ue=je[0],Ie=je[1],Re=be.textAlign,Qe=be.angle;L.value=be.text;var tt=be.text.replace(/\r\n?/g,`
`).split(`
`),mt=be.height/tt.length,He=(u.offsetLeft+u.width-Ue-8)/u.zoom.value-Number(getComputedStyle(I==null?void 0:I.parentNode).marginRight.slice(0,-2));Object.assign(L.style,{font:ao(be),lineHeight:"".concat(mt,"px"),width:"".concat(be.width,"px"),height:"".concat(be.height,"px"),left:"".concat(Ue,"px"),top:"".concat(Ie,"px"),transform:w2(be.width,be.height,Qe,u,He),textAlign:Re,color:be.strokeColor,opacity:be.opacity/100,filter:"var(--theme-filter)",maxWidth:"".concat(He,"px")})}},L=document.createElement("textarea");L.dir="auto",L.tabIndex=0,L.dataset.type="wysiwyg",L.wrap="off",Object.assign(L.style,{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",whiteSpace:"pre",zIndex:"var(--zIndex-wysiwyg)"}),C(),v&&(L.oninput=function(){v(Sh(L.value))}),L.onkeydown=function(te){if(te.stopPropagation(),te.key===io)te.preventDefault(),J=!0,ee();else if(te.key===Gi&&te[Fe]){if(te.preventDefault(),te.isComposing||te.keyCode===229)return;J=!0,ee()}else(te.key===_l||te[Fe]&&(te.code===Vi||te.code===Pl))&&(te.preventDefault(),te.shiftKey||te.code===Vi?Y():K(),L.dispatchEvent(new Event("input")))};var U=" ".repeat(4),H=new RegExp("^ {1,".concat(4,"}")),K=function(){var te=L.selectionStart,be=L.selectionEnd,je=W(),Ue=L.value;je.forEach(function(Ie){var Re=Ue.slice(0,Ie),Qe=Ue.slice(Ie);Ue="".concat(Re).concat(U).concat(Qe)}),L.value=Ue,L.selectionStart=te+4,L.selectionEnd=be+4*je.length},Y=function(){var te=L.selectionStart,be=L.selectionEnd,je=W(),Ue=[],Ie=L.value;je.forEach(function(Re){var Qe=Ie.slice(Re,Re+4).match(H);if(Qe){var tt=Ie.slice(0,Re),mt=Ie.slice(Re+Qe[0].length);Ie="".concat(tt).concat(mt),Ue.push(Re)}}),L.value=Ie,Ue.length&&(te>Ue[Ue.length-1]?L.selectionStart=Math.max(te-4,Ue[Ue.length-1]):L.selectionStart=te,L.selectionEnd=Math.max(L.selectionStart,be-4*Ue.length))},W=function(){var te=L.selectionStart,be=L.selectionEnd,je=L.value,Ue=je.slice(0,te).match(/[^\n]*$/)[0].length;return te-=Ue,je.slice(te,be).split(`
`).reduce(function(Ie,Re,Qe,tt){return Ie.concat(Qe?Ie[Qe-1]+tt[Qe-1].length+1:te)},[]).reverse()},Z=function(te){te.preventDefault(),te.stopPropagation()},J=!1,ee=function(){ae(),w({text:Sh(L.value),viaKeyboard:J})},ae=function(){ge||(ge=!0,L.onblur=null,L.oninput=null,L.onkeydown=null,Se&&Se.disconnect(),window.removeEventListener("resize",C),window.removeEventListener("wheel",Z,!0),window.removeEventListener("pointerdown",xe),window.removeEventListener("pointerup",De),window.removeEventListener("blur",ee),we(),L.remove())},De=function(){window.removeEventListener("pointerup",De),setTimeout(function(){L.onblur=ee,L.focus()})},xe=function(te){(te.target instanceof HTMLElement||te.target instanceof SVGElement)&&te.target.closest(".".concat(j.$C.SHAPE_ACTIONS_MENU))&&!Ho(te.target)&&(L.onblur=null,window.addEventListener("pointerup",De),window.addEventListener("blur",ee))},we=Jt.getScene(k).addCallback(function(){C(),L.focus()}),ge=!1;L.select(),De();var Se=null;O&&"ResizeObserver"in window?(Se=new window.ResizeObserver(function(){C()})).observe(O):window.addEventListener("resize",C),window.addEventListener("pointerdown",xe),window.addEventListener("wheel",Z,{passive:!1,capture:!0}),I==null||I.querySelector(".excalidraw-textEditorContainer").appendChild(L)})({id:n.id,appState:this.state,canvas:this.canvas,getViewportCoords:function(h,m){var u=Xi({sceneX:h,sceneY:m},c.state),v=u.x,w=u.y;return[v-c.state.offsetLeft,w-c.state.offsetTop]},onChange:at(function(h){d(h),$c(n)&&wr(n)}),onSubmit:at(function(h){var m=h.text,u=h.viaKeyboard,v=!m.trim();d(m,v),!v&&u?c.setState(function(w){var y;return{selectedElementIds:fe(fe({},w.selectedElementIds),{},(y={},y[n.id]=!0,y))}}):Zc(c.scene.getElements(),[n]),v&&!s||c.history.resumeRecording(),c.setState({draggingElement:null,editingElement:null}),c.state.elementLocked&&gr(c.canvas,c.state.elementType),c.focusContainer()}),element:n,excalidrawContainer:this.excalidrawContainerRef.current}),this.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}),d(n.text)},t.prototype.getTextElementAtPosition=function(n,r){var a=this.getElementAtPosition(n,r);return a&&Mt(a)&&!a.isDeleted?a:null},t.prototype.getElementAtPosition=function(n,r){var a=this.getElementsAtPosition(n,r);if(a.length>1){var s=a[a.length-1];return $f(s,this.state,n,r)?a[a.length-2]:s}return a.length===1?a[0]:null},t.prototype.getElementsAtPosition=function(n,r){var a,s,c=this;return a=this.scene.getElements(),s=function(d){return function(h,m,u,v){var w=10/m.zoom.value,y=[u,v];return Uy(m,h)?qf(h,y,w):Qf(h,m,y)}(d,c.state,n,r)},a.filter(function(d){return!d.isDeleted&&s(d)})},t.prototype.maybeCleanupAfterMissingPointerUp=function(n){Mr!==null&&Mr(n)},t.prototype.updateGestureOnPointerDown=function(n){$e.pointers.set(n.pointerId,{x:n.clientX,y:n.clientY}),$e.pointers.size===2&&($e.lastCenter=im($e.pointers),$e.initialScale=this.state.zoom.value,$e.initialDistance=am(Array.from($e.pointers.values())))},t.prototype.initialPointerDownState=function(n){var r=bn(n,this.state),a=Ze(this.scene.getElements(),this.state),s=bt(a),c=s[0],d=s[1],h=s[2],m=s[3];return{origin:r,originInGrid:Fo(Nn(r.x,r.y,this.state.gridSize)),scrollbars:Ph(ju,n.clientX-this.state.offsetLeft,n.clientY-this.state.offsetTop),lastCoords:fe({},r),originalElements:this.scene.getElements().reduce(function(u,v){return u.set(v.id,Go(v)),u},new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,y:0},arrowDirection:"origin",center:{x:(h+c)/2,y:(m+d)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(r,a)},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null}}},t.prototype.handleDraggingScrollBar=function(n,r){var a=this;if(!r.scrollbars.isOverEither||this.state.multiElement)return!1;Du=!0,r.lastCoords.x=n.clientX,r.lastCoords.y=n.clientY;var s=at(function(d){d.target instanceof HTMLElement&&a.handlePointerMoveOverScrollbars(d,r)}),c=at(function(){Du=!1,gr(a.canvas,a.state.elementType),Mr=null,a.setState({cursorButton:"up"}),a.savePointer(n.clientX,n.clientY,"up"),window.removeEventListener(j.Ks.POINTER_MOVE,s),window.removeEventListener(j.Ks.POINTER_UP,c)});return Mr=c,window.addEventListener(j.Ks.POINTER_MOVE,s),window.addEventListener(j.Ks.POINTER_UP,c),!0},t.prototype.isASelectedElement=function(n){return n!=null&&this.state.selectedElementIds[n.id]},t.prototype.isHittingCommonBoundingBoxOfSelectedElements=function(n,r){if(r.length<2)return!1;var a=10/this.state.zoom.value,s=bt(r),c=s[0],d=s[1],h=s[2],m=s[3];return n.x>c-a&&n.x<h+a&&n.y>d-a&&n.y<m+a},t.prototype.onKeyDownFromPointerDownHandler=function(n){var r=this;return at(function(a){r.maybeHandleResize(n,a)||r.maybeDragNewGenericElement(n,a)})},t.prototype.onKeyUpFromPointerDownHandler=function(n){var r=this;return at(function(a){a.key===hy&&a.preventDefault(),r.maybeHandleResize(n,a)||r.maybeDragNewGenericElement(n,a)})},t.prototype.onPointerMoveFromPointerDownHandler=function(n){var r=this;return at(function(a){var s;if(n.drag.offset===null&&(n.drag.offset=Fo(function(Ie,Re,Qe){var tt=bt(Ie);return[Re-tt[0],Qe-tt[1]]}(Ze(r.scene.getElements(),r.state),n.origin.x,n.origin.y))),a.target instanceof HTMLElement&&!r.handlePointerMoveOverScrollbars(a,n)){var c=bn(a,r.state),d=Nn(c.x,c.y,r.state.gridSize),h=d[0],m=d[1];if(n.drag.hasOccurred||r.state.elementType!=="arrow"&&r.state.elementType!=="line"||!(Jr(c.x,c.y,n.origin.x,n.origin.y)<j.f)){if(n.resize.isResizing&&(n.lastCoords.x=c.x,n.lastCoords.y=c.y,r.maybeHandleResize(n,a)))return!0;if(r.state.editingLinearElement&&st.handlePointDragging(r.state,function(Ie){return r.setState(Ie)},c.x,c.y,function(Ie,Re){r.maybeSuggestBindingForLinearElementAtCursor(Ie,Re,c)}))return n.lastCoords.x=c.x,void(n.lastCoords.y=c.y);if(n.hit.allHitElements.some(function(Ie){return r.isASelectedElement(Ie)})||n.hit.hasHitCommonBoundingBoxOfSelectedElements){n.drag.hasOccurred=!0;var u=Ze(r.scene.getElements(),r.state);if(u.length>0){var v=Nn(c.x-n.drag.offset.x,c.y-n.drag.offset.y,r.state.gridSize),w=v[0],y=v[1],k=[Math.abs(c.x-n.origin.x),Math.abs(c.y-n.origin.y)],O=k[0],I=k[1],C=a.shiftKey;if(function(Ie,Re,Qe,tt,mt,He,qe,ct){He===void 0&&(He=!1),qe===void 0&&(qe=0),ct===void 0&&(ct=0);var At=bt(Re),Ln=At[0],_t=At[1],Tt=Qe-Ln,or=tt-_t;Re.forEach(function(Kt){var Yt,Dt;if(He){var Pr=He&&qe<ct,_r=He&&qe>ct,An=Ie.originalElements.get(Kt.id);Yt=Pr&&An?An.x:Kt.x+Tt,Dt=_r&&An?An.y:Kt.y+or}else Yt=Kt.x+Tt,Dt=Kt.y+or;_e(Kt,{x:Yt,y:Dt}),wr(Kt,{simultaneouslyUpdated:Re})})}(n,u,w,y,r.scene,C,O,I),r.maybeSuggestBindingForAll(u),a.altKey&&!n.hit.hasBeenDuplicated){n.hit.hasBeenDuplicated=!0;for(var L=[],U=[],H=new Map,K=new Map,Y=n.hit.element,W=0,Z=r.scene.getElementsIncludingDeleted();W<Z.length;W++){var J=Z[W];if(r.state.selectedElementIds[J.id]||J.id===(Y==null?void 0:Y.id)&&n.hit.wasAddedToSelection){var ee=Dc(r.state.editingGroupId,H,J),ae=Nn(n.origin.x-n.drag.offset.x,n.origin.y-n.drag.offset.y,r.state.gridSize),De=ae[0],xe=ae[1];_e(ee,{x:ee.x+(De-w),y:ee.y+(xe-y)}),L.push(ee),U.push(J),K.set(J.id,ee.id)}else L.push(J)}var we=Xe(Xe([],L),U);Yc(we,U,K,"duplicatesServeAsOld"),r.scene.replaceAllElements(we)}return}}var ge=r.state.draggingElement;if(ge){if(vt(ge)){n.drag.hasOccurred=!0;var Se=ge.points,te=void 0,be=void 0;ge.type==="draw"?(te=c.x-ge.x,be=c.y-ge.y):(te=h-ge.x,be=m-ge.y),wf(a)&&Se.length===2&&(te=(s=Lc(r.state.elementType,te,be)).width,be=s.height),Se.length===1?_e(ge,{points:Xe(Xe([],Se),[[te,be]])}):Se.length>1&&(ge.type==="draw"?_e(ge,{points:ml(Xe(Xe([],Se),[[te,be]]),.7/r.state.zoom.value)}):_e(ge,{points:Xe(Xe([],Se.slice(0,-1)),[[te,be]])})),cn(ge)&&r.maybeSuggestBindingForLinearElementAtCursor(ge,"end",c,r.state.startBoundElement)}else n.lastCoords.x=c.x,n.lastCoords.y=c.y,r.maybeDragNewGenericElement(n,a);if(r.state.elementType==="selection"){var je=r.scene.getElements();!a.shiftKey&&Lt(je,r.state)&&r.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null});var Ue=function(Ie,Re){var Qe=ot(Re),tt=Qe[0],mt=Qe[1],He=Qe[2],qe=Qe[3];return Ie.filter(function(ct){var At=Fi(ct),Ln=At[0],_t=At[1],Tt=At[2],or=At[3];return ct.type!=="selection"&&tt<=Ln&&mt<=_t&&He>=Tt&&qe>=or})}(je,ge);r.setState(function(Ie){return yr(fe(fe({},Ie),{},{selectedElementIds:fe(fe({},Ie.selectedElementIds),Ue.reduce(function(Re,Qe){return Re[Qe.id]=!0,Re},{}))}),r.scene.getElements())})}}}}})},t.prototype.handlePointerMoveOverScrollbars=function(n,r){if(r.scrollbars.isOverHorizontal){var a=n.clientX,s=a-r.lastCoords.x;return this.setState({scrollX:this.state.scrollX-s/this.state.zoom.value}),r.lastCoords.x=a,!0}if(r.scrollbars.isOverVertical){var c=n.clientY,d=c-r.lastCoords.y;return this.setState({scrollY:this.state.scrollY-d/this.state.zoom.value}),r.lastCoords.y=c,!0}return!1},t.prototype.onPointerUpFromPointerDownHandler=function(n){var r=this;return at(function(a){var s=r.state,c=s.draggingElement,d=s.resizingElement,h=s.multiElement,m=s.elementType,u=s.elementLocked,v=s.isResizing,w=s.isRotating;if(r.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,cursorButton:"up",editingElement:h||Mt(r.state.editingElement)?r.state.editingElement:null}),r.savePointer(a.clientX,a.clientY,"up"),r.state.editingLinearElement){var y=st.handlePointerUp(a,r.state.editingLinearElement,r.state);y!==r.state.editingLinearElement&&r.setState({editingLinearElement:y,suggestedBindings:[]})}if(Mr=null,window.removeEventListener(j.Ks.POINTER_MOVE,n.eventListeners.onMove),window.removeEventListener(j.Ks.POINTER_UP,n.eventListeners.onUp),window.removeEventListener(j.Ks.KEYDOWN,n.eventListeners.onKeyDown),window.removeEventListener(j.Ks.KEYUP,n.eventListeners.onKeyUp),(c==null?void 0:c.type)!=="draw")if(vt(c)){c.points.length>1&&r.history.resumeRecording();var k=bn(a,r.state);n.drag.hasOccurred||!c||h?n.drag.hasOccurred&&!h&&(ho(r.state)&&cn(c)&&Wc(c,r.state,r.scene,k),r.setState({suggestedBindings:[],startBoundElement:null}),u||m==="draw"?r.setState(function(C){var L;return{draggingElement:null,selectedElementIds:fe(fe({},C.selectedElementIds),{},(L={},L[r.state.draggingElement.id]=!0,L))}}):(Jn(r.canvas),r.setState(function(C){var L;return{draggingElement:null,elementType:"selection",selectedElementIds:fe(fe({},C.selectedElementIds),{},(L={},L[r.state.draggingElement.id]=!0,L))}}))):(_e(c,{points:Xe(Xe([],c.points),[[k.x-c.x,k.y-c.y]])}),r.setState({multiElement:c,editingElement:r.state.draggingElement}))}else{if(m!=="selection"&&c&&co(c))return r.scene.replaceAllElements(r.scene.getElementsIncludingDeleted().slice(0,-1)),void r.setState({draggingElement:null});c&&_e(c,Lf(c)),d&&r.history.resumeRecording(),d&&co(d)&&r.scene.replaceAllElements(r.scene.getElementsIncludingDeleted().filter(function(C){return C.id!==d.id}));var O=n.hit.element;if(O&&!n.drag.hasOccurred&&!n.hit.wasAddedToSelection)if(a.shiftKey)if(r.state.selectedElementIds[O.id])if(zf(r.state,O)){var I=O.groupIds.flatMap(function(C){return tr(r.scene.getElements(),C)}).map(function(C){var L;return(L={})[C.id]=!1,L}).reduce(function(C,L){return fe(fe({},C),L)},{});r.setState(function(C){return{selectedGroupIds:fe(fe({},C.selectedElementIds),O.groupIds.map(function(L){var U;return(U={})[L]=!1,U}).reduce(function(L,U){return fe(fe({},L),U)},{})),selectedElementIds:fe(fe({},C.selectedElementIds),I)}})}else r.setState(function(C){var L;return{selectedElementIds:fe(fe({},C.selectedElementIds),{},(L={},L[O.id]=!1,L))}});else r.setState(function(C){var L;return{selectedElementIds:fe(fe({},C.selectedElementIds),{},(L={},L[O.id]=!0,L))}});else r.setState(function(C){var L;return fe({},yr(fe(fe({},C),{},{selectedElementIds:(L={},L[O.id]=!0,L)}),r.scene.getElements()))});r.state.editingLinearElement||n.drag.hasOccurred||r.state.isResizing||!(O&&$f(O,r.state,n.origin.x,n.origin.y)||!O&&n.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!u&&m!=="draw"&&c&&r.setState(function(C){var L;return{selectedElementIds:fe(fe({},C.selectedElementIds),{},(L={},L[c.id]=!0,L))}}),(m!=="selection"||Lt(r.scene.getElements(),r.state))&&r.history.resumeRecording(),(n.drag.hasOccurred||v||w)&&(ho(r.state)?ch:dh)(Ze(r.scene.getElements(),r.state)),u||m==="draw"?r.setState({draggingElement:null,suggestedBindings:[]}):(Jn(r.canvas),r.setState({draggingElement:null,suggestedBindings:[],elementType:"selection"}))):r.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}else r.actionManager.executeAction(Gl)})},t.prototype.maybeSuggestBindingForAll=function(n){var r,a,s=(r=n,a=new Set(r.map(function(c){return c.id})),r.flatMap(function(c){return cn(c)?f2(c).filter(function(d){return!a.has(d.id)}):Sl(c)?mh(c).filter(function(d){return!a.has(d[0].id)}):[]}));this.setState({suggestedBindings:s})},t.prototype.clearSelection=function(n){this.setState(function(r){return{selectedElementIds:{},selectedGroupIds:{},editingGroupId:r.editingGroupId&&n!=null&&Qi(n,r.editingGroupId)?r.editingGroupId:null}}),this.setState({selectedElementIds:{},previousSelectedElementIds:this.state.selectedElementIds})},t.prototype.getTextWysiwygSnappedToCenterPosition=function(n,r,a,s,c){var d=function(v,w,y){for(var k=null,O=v.length-1;O>=0;--O)if(!v[O].isDeleted){var I=ot(v[O]),C=I[0],L=I[1],U=I[2],H=I[3];if(C<w&&w<U&&L<y&&y<H){k=v[O];break}}return k}(this.scene.getElementsIncludingDeleted().filter(function(v){return!Mt(v)}),n,r);if(d){var h=d.x+d.width/2,m=d.y+d.height/2;if(Math.hypot(n-h,r-m)<j.wZ){var u=Xi({sceneX:h,sceneY:m},a);return{viewportX:u.x,viewportY:u.y,elementCenterX:h,elementCenterY:m}}}},t.prototype.getCanvasOffsets=function(){var n;if((n=this.excalidrawContainerRef)!==null&&n!==void 0&&n.current){var r=this.excalidrawContainerRef.current.getBoundingClientRect();return{offsetLeft:r.left,offsetTop:r.top}}return{offsetLeft:0,offsetTop:0}},t.prototype.updateLanguage=function(){var n=this;return(0,Q.Z)(function(){var r;return Cr(this,function(a){switch(a.label){case 0:return r=he.find(function(s){return s.code===n.props.langCode})||ye,[4,V(r)];case 1:return a.sent(),n.setAppState({}),[2]}})})()},t}(f().Component);zu.defaultProps={UIOptions:j.cW};var Qb=function(){var e=this;this.canvas=null,this.rc=null,this.unmounted=!1,this.isMobile=!1,this.excalidrawContainerRef=f().createRef(),this.focusContainer=function(){var t;(t=e.excalidrawContainerRef.current)===null||t===void 0||t.focus()},this.getSceneElementsIncludingDeleted=function(){return e.scene.getElementsIncludingDeleted()},this.getSceneElements=function(){return e.scene.getElements()},this.syncActionResult=at(function(t){if(!e.unmounted&&t!==!1){var n=null;if(t.elements&&(t.elements.forEach(function(k){var O;((O=e.state.editingElement)===null||O===void 0?void 0:O.id)===k.id&&e.state.editingElement!==k&&$c(k)&&(n=k)}),e.scene.replaceAllElements(t.elements),t.commitToHistory&&e.history.resumeRecording()),t.appState||n){var r,a,s,c,d,h;t.commitToHistory&&e.history.resumeRecording();var m=(t==null||(r=t.appState)===null||r===void 0?void 0:r.viewModeEnabled)||!1,u=(t==null||(a=t.appState)===null||a===void 0?void 0:a.zenModeEnabled)||!1,v=(t==null||(s=t.appState)===null||s===void 0?void 0:s.gridSize)||null,w=(t==null||(c=t.appState)===null||c===void 0?void 0:c.theme)||"light",y=(d=t==null||(h=t.appState)===null||h===void 0?void 0:h.name)!==null&&d!==void 0?d:e.state.name;e.props.viewModeEnabled!==void 0&&(m=e.props.viewModeEnabled),e.props.zenModeEnabled!==void 0&&(u=e.props.zenModeEnabled),e.props.gridModeEnabled!==void 0&&(v=e.props.gridModeEnabled?j.k:null),e.props.theme!==void 0&&(w=e.props.theme),e.props.name!==void 0&&(y=e.props.name),e.setState(function(k){var O;return Object.assign(t.appState||{},{editingElement:n||((O=t.appState)===null||O===void 0?void 0:O.editingElement)||null,viewModeEnabled:m,zenModeEnabled:u,gridSize:v,theme:w,name:y})},function(){t.syncHistory&&e.history.setCurrentState(e.state,e.scene.getElementsIncludingDeleted())})}}}),this.onBlur=at(function(){wo=!1,e.setState({isBindingEnabled:!0})}),this.onUnload=function(){e.onBlur()},this.disableEvent=function(t){t.preventDefault()},this.onFontLoaded=function(){e.scene.getElementsIncludingDeleted().forEach(function(t){Mt(t)&&_c(t)}),e.onSceneUpdated()},this.importLibraryFromUrl=function(){var t=(0,Q.Z)(function(n,r){var a,s,c,d,h,m,u;return Cr(this,function(v){switch(v.label){case 0:window.location.hash.includes(j.ah.addLibrary)?((a=new URLSearchParams(window.location.hash.slice(1))).delete(j.ah.addLibrary),window.history.replaceState({},j.iC,"#".concat(a.toString()))):window.location.search.includes(j.UO.addLibrary)&&((s=new URLSearchParams(window.location.search)).delete(j.UO.addLibrary),window.history.replaceState({},j.iC,"?".concat(s.toString()))),v.label=1;case 1:return v.trys.push([1,7,8,9]),[4,fetch(decodeURIComponent(n))];case 2:return[4,v.sent().blob()];case 3:return c=v.sent(),m=(h=JSON).parse,[4,c.text()];case 4:if(!function(w){return typeof w=="object"&&w&&w.type===j.r8.excalidrawLibrary&&w.version===1}(d=m.apply(h,[v.sent()])))throw new Error;return r===e.id||window.confirm(_("alerts.confirmAddLibrary",{numShapes:d.library.length}))?[4,e.library.importLibrary(c)]:[3,6];case 5:v.sent(),e.state.isLibraryOpen&&e.setState({isLibraryOpen:!1}),e.setState({isLibraryOpen:!0}),v.label=6;case 6:return[3,9];case 7:return u=v.sent(),window.alert(_("alerts.errorLoadingLibrary")),console.error(u),[3,9];case 8:return e.focusContainer(),[7];case 9:return[2]}})});return function(n,r){return t.apply(this,arguments)}}(),this.resetHistory=function(){e.history.clear()},this.resetScene=at(function(t){e.scene.replaceAllElements([]),e.setState(function(n){return fe(fe({},lo()),{},{isLoading:(t==null||!t.resetLoadingState)&&n.isLoading,theme:e.state.theme})}),e.resetHistory()}),this.initializeScene=(0,Q.Z)(function(){var t,n,r,a,s,c;return Cr(this,function(d){switch(d.label){case 0:"launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var h=(0,Q.Z)(function(m){var u,v;return Cr(this,function(w){switch(w.label){case 0:return m.files.length?[4,(u=m.files[0]).getFile()]:[2];case 1:return(v=w.sent()).handle=u,ql(v,e.state).then(function(y){var k=y.elements,O=y.appState;return e.syncActionResult({elements:k,appState:fe(fe({},O||e.state),{},{isLoading:!1}),commitToHistory:!0})}).catch(function(y){e.setState({isLoading:!1,errorMessage:y.message})}),[2]}})});return function(m){return h.apply(this,arguments)}}()),e.state.isLoading||e.setState({isLoading:!0}),n=null,d.label=1;case 1:return d.trys.push([1,3,,4]),[4,e.props.initialData];case 2:return n=d.sent()||null,(r=n)!==null&&r!==void 0&&r.libraryItems&&(e.libraryItemsFromStorage=n.libraryItems),[3,4];case 3:return a=d.sent(),console.error(a),n={appState:{errorMessage:a.message||"Encountered an error during importing or restoring scene data"}},[3,4];case 4:return(s=da(n,null)).appState=fe(fe({},s.appState),{},{isLoading:!1}),(t=n)!==null&&t!==void 0&&t.scrollToContent&&(s.appState=fe(fe({},s.appState),oa(s.elements,fe(fe({},s.appState),{},{width:e.state.width,height:e.state.height,offsetTop:e.state.offsetTop,offsetLeft:e.state.offsetLeft})))),e.resetHistory(),e.syncActionResult(fe(fe({},s),{},{commitToHistory:!0})),(c=new URLSearchParams(window.location.hash.slice(1)).get(j.ah.addLibrary)||new URLSearchParams(window.location.search).get(j.UO.addLibrary))?[4,e.importLibraryFromUrl(c)]:[3,6];case 5:d.sent(),d.label=6;case 6:return[2]}})}),this.onResize=at(function(){e.scene.getElementsIncludingDeleted().forEach(function(t){return _c(t)}),e.setState({})}),this.onScroll=xf(function(){var t=e.getCanvasOffsets(),n=t.offsetTop,r=t.offsetLeft;e.setState(function(a){return a.offsetLeft===r&&a.offsetTop===n?null:{offsetTop:n,offsetLeft:r}})},j.HM),this.onCut=at(function(t){var n;((n=e.excalidrawContainerRef.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&!Ho(t.target)&&(e.cutAll(),t.preventDefault())}),this.onCopy=at(function(t){var n;((n=e.excalidrawContainerRef.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&!Ho(t.target)&&(e.copyAll(),t.preventDefault())}),this.cutAll=function(){e.copyAll(),e.actionManager.executeAction(ou)},this.copyAll=function(){g1(e.scene.getElements(),e.state)},this.onTapStart=function(t){if(!ha)return ha=!0,clearTimeout(Au),void(Au=window.setTimeout(zu.resetTapTwice,j.Gj));if(ha&&t.touches.length===1){var n=t.touches[0];e.handleCanvasDoubleClick({clientX:n.clientX,clientY:n.clientY}),ha=!1,clearTimeout(Au)}t.preventDefault(),t.touches.length===2&&e.setState({selectedElementIds:{}})},this.onTapEnd=function(t){t.touches.length>0&&e.setState({previousSelectedElementIds:{},selectedElementIds:e.state.previousSelectedElementIds})},this.pasteFromClipboard=at(function(){var t=(0,Q.Z)(function(n){var r,a,s,c;return Cr(this,function(d){switch(d.label){case 0:return a=document.activeElement,((r=e.excalidrawContainerRef.current)===null||r===void 0?void 0:r.contains(a))?(s=document.elementFromPoint(ti,ni),!n||s instanceof HTMLCanvasElement&&!Ho(a)?[4,Jw(n)]:[2]):[2];case 1:return c=d.sent(),e.props.onPaste?[4,e.props.onPaste(c,n)]:[3,3];case 2:if(d.sent())return[2];d.label=3;case 3:return c.errorMessage?e.setState({errorMessage:c.errorMessage}):c.spreadsheet?e.setState({pasteDialog:{data:c.spreadsheet,shown:!0}}):c.elements?e.addElementsFromPasteOrLibrary({elements:c.elements,position:"cursor"}):c.text&&e.addTextFromPaste(c.text),e.selectShapeTool("selection"),n==null||n.preventDefault(),[2]}})});return function(n){return t.apply(this,arguments)}}()),this.addElementsFromPasteOrLibrary=function(t){var n=bt(t.elements),r=n[0],a=n[1],s=n[2],c=n[3],d=wn(r,s)/2,h=wn(a,c)/2,m=typeof t.position=="object"?t.position.clientX:t.position==="cursor"?ti:e.state.width/2+e.state.offsetLeft,u=typeof t.position=="object"?t.position.clientY:t.position==="cursor"?ni:e.state.height/2+e.state.offsetTop,v=bn({clientX:m,clientY:u},e.state),w=v.x-d,y=v.y-h,k=new Map,O=Nn(w,y,e.state.gridSize),I=O[0],C=O[1],L=new Map,U=t.elements.map(function(K){var Y=Dc(e.state.editingGroupId,k,K,{x:K.x+I-r,y:K.y+C-a});return L.set(K.id,Y.id),Y}),H=Xe(Xe([],e.scene.getElementsIncludingDeleted()),U);Yc(H,t.elements,L),e.scene.replaceAllElements(H),e.history.resumeRecording(),e.setState(yr(fe(fe({},e.state),{},{isLibraryOpen:!1,selectedElementIds:U.reduce(function(K,Y){return K[Y.id]=!0,K},{}),selectedGroupIds:{}}),e.scene.getElements()))},this.setAppState=function(t){e.setState(t)},this.removePointer=function(t){t.pointerType==="touch"&&Or&&(clearTimeout(Or),Or=0,ga=!1),$e.pointers.delete(t.pointerId)},this.toggleLock=function(){e.setState(function(t){return{elementLocked:!t.elementLocked,elementType:t.elementLocked?"selection":t.elementType}})},this.toggleZenMode=function(){e.actionManager.executeAction(Pu)},this.toggleStats=function(){e.state.showStats||$o("dialog","stats"),e.actionManager.executeAction(_u)},this.scrollToContent=function(t){t===void 0&&(t=e.scene.getElements()),e.setState(fe({},oa(Array.isArray(t)?t:[t],e.state,e.canvas)))},this.clearToast=function(){e.setState({toastMessage:null})},this.setToastMessage=function(t){e.setState({toastMessage:t})},this.restoreFileFromShare=(0,Q.Z)(function(){var t,n,r,a;return Cr(this,function(s){switch(s.label){case 0:return s.trys.push([0,6,,7]),[4,caches.open("web-share-target")];case 1:return[4,(t=s.sent()).match("shared-file")];case 2:return(n=s.sent())?[4,n.blob()]:[3,5];case 3:return r=s.sent(),e.loadFileToCanvas(r),[4,t.delete("shared-file")];case 4:s.sent(),window.history.replaceState(null,j.iC,window.location.pathname),s.label=5;case 5:return[3,7];case 6:return a=s.sent(),e.setState({errorMessage:a.message}),[3,7];case 7:return[2]}})}),this.updateScene=at(function(t){var n;t.commitToHistory&&e.history.resumeRecording(),(n=t.appState)!==null&&n!==void 0&&n.viewBackgroundColor&&e.setState({viewBackgroundColor:t.appState.viewBackgroundColor}),t.elements&&e.scene.replaceAllElements(t.elements),t.collaborators&&e.setState({collaborators:t.collaborators})}),this.onSceneUpdated=function(){e.setState({})},this.updateCurrentCursorPosition=at(function(t){ti=t.clientX,ni=t.clientY}),this.onKeyDown=at(function(t){var n;if("Proxy"in window&&(!t.shiftKey&&/^[A-Z]$/.test(t.key)||t.shiftKey&&/^[a-z]$/.test(t.key))&&(t=new Proxy(t,{get:function(u,v){var w=u[v];return typeof w=="function"?w.bind(u):v==="key"?t.shiftKey?u.key.toUpperCase():u.key.toLowerCase():w}})),!(Ho(t.target)&&t.key!==io||Ki(t.key)&&(n=t.target,n instanceof HTMLElement&&n.dataset.type==="wysiwyg"||n instanceof HTMLBRElement||n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement))&&(t.key===hf&&e.setState({showHelpDialog:!0}),!e.actionManager.handleKeyDown(t)&&!e.state.viewModeEnabled)){if(t[Fe]&&e.state.isBindingEnabled&&e.setState({isBindingEnabled:!1}),t.code===iy&&e.setState({isLibraryOpen:!e.state.isLibraryOpen}),Ki(t.key)){var r=e.state.gridSize&&(t.shiftKey?j.$e:e.state.gridSize)||(t.shiftKey?j.Iw:j.$e),a=e.scene.getElements().filter(function(u){return e.state.selectedElementIds[u.id]}),s=0,c=0;t.key===ro?s=-r:t.key===oo?s=r:t.key===Wi?c=-r:t.key===Ui&&(c=r),a.forEach(function(u){_e(u,{x:u.x+s,y:u.y+c}),wr(u,{simultaneouslyUpdated:a})}),e.maybeSuggestBindingForAll(a),t.preventDefault()}else if(t.key===Gi){var d=Ze(e.scene.getElements(),e.state);if(d.length===1&&vt(d[0]))e.state.editingLinearElement&&e.state.editingLinearElement.elementId===d[0].id||(e.history.resumeRecording(),e.setState({editingLinearElement:new st(d[0],e.scene)}));else if(d.length===1&&!vt(d[0])){var h=d[0];return e.startTextEditing({sceneX:h.x+h.width/2,sceneY:h.y+h.height/2}),void t.preventDefault()}}else if(!t.ctrlKey&&!t.altKey&&!t.metaKey&&e.state.draggingElement===null){var m=function(u){var v=um.find(function(w,y){return u===(y+1).toString()||(typeof w.key=="string"?w.key===u:w.key.includes(u))});return(v==null?void 0:v.value)||null}(t.key);m?e.selectShapeTool(m):t.key===by&&e.toggleLock()}t.key===mf&&$e.pointers.size===0&&(wo=!0,un(e.canvas,j.oc.GRABBING))}}),this.onKeyUp=at(function(t){if(t.key===mf&&(e.state.elementType==="selection"?Jn(e.canvas):(gr(e.canvas,e.state.elementType),e.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),wo=!1),t[Fe]||e.state.isBindingEnabled||e.setState({isBindingEnabled:!0}),Ki(t.key)){var n=Ze(e.scene.getElements(),e.state);ho(e.state)?ch(n):dh(n),e.setState({suggestedBindings:[]})}}),this.onGestureStart=at(function(t){t.preventDefault(),e.setState({selectedElementIds:{}}),$e.initialScale=e.state.zoom.value}),this.onGestureChange=at(function(t){if(t.preventDefault(),$e.pointers.size!==2){var n=$e.initialScale;n&&e.setState(function(r){var a=r.zoom,s=r.offsetLeft,c=r.offsetTop;return{zoom:go(ia(n*t.scale),a,{left:s,top:c},{x:ti,y:ni})}})}}),this.onGestureEnd=at(function(t){t.preventDefault(),e.setState({previousSelectedElementIds:{},selectedElementIds:e.state.previousSelectedElementIds}),$e.initialScale=null}),this.startTextEditing=function(t){var n=t.sceneX,r=t.sceneY,a=t.insertAtParentCenter,s=a===void 0||a,c=e.getTextElementAtPosition(n,r),d=s&&e.getTextWysiwygSnappedToCenterPosition(n,r,e.state,e.canvas,window.devicePixelRatio),h=c||uo({x:d?d.elementCenterX:n,y:d?d.elementCenterY:r,strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,strokeSharpness:e.state.currentItemStrokeSharpness,text:"",fontSize:e.state.currentItemFontSize,fontFamily:e.state.currentItemFontFamily,textAlign:d?"center":e.state.currentItemTextAlign,verticalAlign:d?"middle":j.hs});e.setState({editingElement:h}),c?d&&h.textAlign==="center"||_e(h,{verticalAlign:j.hs}):(e.scene.replaceAllElements(Xe(Xe([],e.scene.getElementsIncludingDeleted()),[h])),d||_e(h,{y:h.y-h.baseline/2})),e.setState({editingElement:h}),e.handleTextWysiwyg(h,{isExistingElement:!!c})},this.handleCanvasDoubleClick=function(t){if(!e.state.multiElement&&e.state.elementType==="selection"){var n=Ze(e.scene.getElements(),e.state);if(n.length===1&&vt(n[0]))e.state.editingLinearElement&&e.state.editingLinearElement.elementId===n[0].id||(e.history.resumeRecording(),e.setState({editingLinearElement:new st(n[0],e.scene)}));else{Jn(e.canvas);var r=bn(t,e.state),a=r.x,s=r.y;if(Uo(e.state).length>0){var c=e.getElementAtPosition(a,s),d=c&&function(h,m){return h.groupIds.find(function(u){return m[u]})}(c,e.state.selectedGroupIds);if(d)return void e.setState(function(h){var m;return yr(fe(fe({},h),{},{editingGroupId:d,selectedElementIds:(m={},m[c.id]=!0,m),selectedGroupIds:{}}),e.scene.getElements())})}Jn(e.canvas),t[Fe]||e.state.viewModeEnabled||e.startTextEditing({sceneX:a,sceneY:s,insertAtParentCenter:!t.altKey})}}},this.handleCanvasPointerMove=function(t){e.savePointer(t.clientX,t.clientY,e.state.cursorButton),$e.pointers.has(t.pointerId)&&$e.pointers.set(t.pointerId,{x:t.clientX,y:t.clientY});var n=$e.initialScale;if($e.pointers.size===2&&$e.lastCenter&&n&&$e.initialDistance){var r=im($e.pointers),a=r.x-$e.lastCenter.x,s=r.y-$e.lastCenter.y;$e.lastCenter=r;var c=am(Array.from($e.pointers.values()))/$e.initialDistance;e.setState(function(Z){var J=Z.zoom,ee=Z.scrollX,ae=Z.scrollY,De=Z.offsetLeft,xe=Z.offsetTop;return{scrollX:ee+a/J.value,scrollY:ae+s/J.value,zoom:go(ia(n*c),J,{left:De,top:xe},r),shouldCacheIgnoreZoom:!0}}),e.resetShouldCacheIgnoreZoomDebounced()}else $e.lastCenter=$e.initialDistance=$e.initialScale=null;if(!(wo||ma||Du)){var d=Ph(ju,t.clientX-e.state.offsetLeft,t.clientY-e.state.offsetTop).isOverEither;e.state.draggingElement||e.state.multiElement||(d?Jn(e.canvas):gr(e.canvas,e.state.elementType));var h=bn(t,e.state),m=h.x,u=h.y;if(e.state.editingLinearElement&&!e.state.editingLinearElement.isDragging){var v=st.handlePointerMove(t,m,u,e.state.editingLinearElement,e.state.gridSize);v!==e.state.editingLinearElement&&e.setState({editingLinearElement:v}),v.lastUncommittedPoint!=null?e.maybeSuggestBindingAtCursor(h):e.setState({suggestedBindings:[]})}if(lf(e.state.elementType)){var w=e.state.draggingElement;cn(w)?e.maybeSuggestBindingForLinearElementAtCursor(w,"end",h,e.state.startBoundElement):e.maybeSuggestBindingAtCursor(h)}if(e.state.multiElement){var y=e.state.multiElement,k=y.x,O=y.y,I=y.points,C=y.lastCommittedPoint,L=I[I.length-1];return gr(e.canvas,e.state.elementType),void(L===C?Jr(m-k,u-O,L[0],L[1])>=j.qx?_e(y,{points:Xe(Xe([],I),[[m-k,u-O]])}):un(e.canvas,j.oc.POINTER):I.length>2&&C&&Jr(m-k,u-O,C[0],C[1])<j.qx?(un(e.canvas,j.oc.POINTER),_e(y,{points:I.slice(0,-1)})):(eo(I,e.state.zoom.value)&&un(e.canvas,j.oc.POINTER),_e(y,{points:Xe(Xe([],I.slice(0,-1)),[[m-k,u-O]])})))}if(!(Boolean(t.buttons)||e.state.elementType!=="selection"&&e.state.elementType!=="text")){var U=e.scene.getElements(),H=Ze(U,e.state);if(H.length!==1||d||e.state.editingLinearElement){if(H.length>1&&!d){var K=oh(bt(H),m,u,e.state.zoom,t.pointerType);if(K)return void un(e.canvas,Uc({transformHandleType:K}))}}else{var Y=rh(U,e.state,m,u,e.state.zoom,t.pointerType);if(Y&&Y.transformHandleType)return void un(e.canvas,Uc(Y))}var W=e.getElementAtPosition(h.x,h.y);e.state.elementType==="text"?un(e.canvas,Mt(W)?j.oc.TEXT:j.oc.CROSSHAIR):d?un(e.canvas,j.oc.AUTO):W||e.isHittingCommonBoundingBoxOfSelectedElements(h,H)?un(e.canvas,j.oc.MOVE):un(e.canvas,j.oc.AUTO)}}},this.handleTouchMove=function(t){ga=!0},this.handleCanvasPointerDown=function(t){t.persist();var n=document.getSelection();if(n!=null&&n.anchorNode&&n.removeAllRanges(),e.maybeOpenContextMenuAfterPointerDownOnTouchDevices(t),e.maybeCleanupAfterMissingPointerUp(t),!ma&&(e.setState({lastPointerDownWith:t.pointerType,cursorButton:"down"}),e.savePointer(t.clientX,t.clientY,"down"),!e.handleCanvasPanUsingWheelOrSpaceDrag(t)&&!(t.button!==j.Oh.MAIN&&t.button!==j.Oh.TOUCH||(e.updateGestureOnPointerDown(t),$e.pointers.size>1)))){var r=e.initialPointerDownState(t);if(!e.handleDraggingScrollBar(t,r)&&(e.clearSelectionIfNotUsingSelection(),e.updateBindingEnabledOnPointerMove(t),!e.handleSelectionOnPointerDown(t,r)))if(e.state.elementType!=="text"){e.state.elementType==="arrow"||e.state.elementType==="draw"||e.state.elementType==="line"?e.handleLinearElementOnPointerDown(t,e.state.elementType,r):e.createGenericElementOnPointerDown(e.state.elementType,r);var a=e.onPointerMoveFromPointerDownHandler(r),s=e.onPointerUpFromPointerDownHandler(r),c=e.onKeyDownFromPointerDownHandler(r),d=e.onKeyUpFromPointerDownHandler(r);Mr=s,e.state.viewModeEnabled||(window.addEventListener(j.Ks.POINTER_MOVE,a),window.addEventListener(j.Ks.POINTER_UP,s),window.addEventListener(j.Ks.KEYDOWN,c),window.addEventListener(j.Ks.KEYUP,d),r.eventListeners.onMove=a,r.eventListeners.onUp=s,r.eventListeners.onKeyUp=d,r.eventListeners.onKeyDown=c)}else e.handleTextOnPointerDown(t,r)}},this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(t){t.pointerType==="touch"&&(ga=!1,Or?ga=!0:Or=window.setTimeout(function(){Or=0,ga||e.handleCanvasContextMenu(t)},j.nM))},this.handleCanvasPanUsingWheelOrSpaceDrag=function(t){if($e.pointers.size!==0||!(t.button===j.Oh.WHEEL||t.button===j.Oh.MAIN&&wo||e.state.viewModeEnabled))return!1;ma=!0;var n=!1,r=/Linux/.test(window.navigator.platform);un(e.canvas,j.oc.GRABBING);var a=t.clientX,s=t.clientY,c=at(function(h){var m=a-h.clientX,u=s-h.clientY;if(a=h.clientX,s=h.clientY,r&&!n&&(Math.abs(m)>1||Math.abs(u)>1)){n=!0;var v=function(y){document.body.removeEventListener(j.Ks.PASTE,v),y.stopPropagation()},w=function(){setTimeout(function(){document.body.removeEventListener(j.Ks.PASTE,v),window.removeEventListener(j.Ks.POINTER_UP,w)},100)};document.body.addEventListener(j.Ks.PASTE,v),window.addEventListener(j.Ks.POINTER_UP,w)}e.setState({scrollX:e.state.scrollX-m/e.state.zoom.value,scrollY:e.state.scrollY-u/e.state.zoom.value})}),d=at(Mr=function(){Mr=null,ma=!1,wo||gr(e.canvas,e.state.elementType),e.setState({cursorButton:"up"}),e.savePointer(t.clientX,t.clientY,"up"),window.removeEventListener(j.Ks.POINTER_MOVE,c),window.removeEventListener(j.Ks.POINTER_UP,d),window.removeEventListener(j.Ks.BLUR,d)});return window.addEventListener(j.Ks.BLUR,d),window.addEventListener(j.Ks.POINTER_MOVE,c,{passive:!0}),window.addEventListener(j.Ks.POINTER_UP,d),!0},this.clearSelectionIfNotUsingSelection=function(){e.state.elementType!=="selection"&&e.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})},this.handleSelectionOnPointerDown=function(t,n){if(e.state.elementType==="selection"){var r=e.scene.getElements(),a=Ze(r,e.state);if(a.length!==1||e.state.editingLinearElement)a.length>1&&(n.resize.handleType=oh(bt(a),n.origin.x,n.origin.y,e.state.zoom,t.pointerType));else{var s=rh(r,e.state,n.origin.x,n.origin.y,e.state.zoom,t.pointerType);s!=null&&(e.setState({resizingElement:s.element}),n.resize.handleType=s.transformHandleType)}if(n.resize.handleType)un(e.canvas,Uc({transformHandleType:n.resize.handleType})),n.resize.isResizing=!0,n.resize.offset=Fo(function(O,I,C,L){var U,H=I.length===1?ot(I[0]):bt(I),K=H[0],Y=H[1],W=H[2],Z=H[3],J=(K+W)/2,ee=(Y+Z)/2,ae=I.length===1?I[0].angle:0;switch(C=(U=We(C,L,J,ee,-ae))[0],L=U[1],O){case"n":return We(C-(K+W)/2,L-Y,0,0,ae);case"s":return We(C-(K+W)/2,L-Z,0,0,ae);case"w":return We(C-K,L-(Y+Z)/2,0,0,ae);case"e":return We(C-W,L-(Y+Z)/2,0,0,ae);case"nw":return We(C-K,L-Y,0,0,ae);case"ne":return We(C-W,L-Y,0,0,ae);case"sw":return We(C-K,L-Z,0,0,ae);case"se":return We(C-W,L-Z,0,0,ae);default:return[0,0]}}(n.resize.handleType,a,n.origin.x,n.origin.y)),a.length===1&&vt(a[0])&&a[0].points.length===2&&(n.resize.arrowDirection=(u=n.resize.handleType,v=a[0],w=v.points[1],y=w[0],k=w[1],u==="nw"&&(y<0||k<0)||u==="ne"&&y>=0||u==="sw"&&y<=0||u==="se"&&(y>0||k>0)?"end":"origin"));else{var c;if(e.state.editingLinearElement){var d=st.handlePointerDown(t,e.state,function(O){return e.setState(O)},e.history,n.origin);if(d.hitElement&&(n.hit.element=d.hitElement),d.didAddPoint)return!0}n.hit.element=(c=n.hit.element)!==null&&c!==void 0?c:e.getElementAtPosition(n.origin.x,n.origin.y),n.hit.allHitElements=e.getElementsAtPosition(n.origin.x,n.origin.y);var h=n.hit.element,m=n.hit.allHitElements.some(function(O){return e.isASelectedElement(O)});if(h!==null&&m||t.shiftKey||n.hit.hasHitCommonBoundingBoxOfSelectedElements||e.clearSelection(h),h!=null){if(t[Fe])return e.setState(function(O){return fe(fe({},function(I,C){var L;return dn(dn({},I),{},{editingGroupId:C.groupIds.length?C.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:(L={},L[C.id]=!0,L)})}(O,h)),{},{previousSelectedElementIds:e.state.selectedElementIds})}),!1;e.state.selectedElementIds[h.id]||(e.state.editingGroupId&&!Qi(h,e.state.editingGroupId)&&e.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}),m||n.hit.hasHitCommonBoundingBoxOfSelectedElements||(e.setState(function(O){var I;return yr(fe(fe({},O),{},{selectedElementIds:fe(fe({},O.selectedElementIds),{},(I={},I[h.id]=!0,I))}),e.scene.getElements())}),n.hit.wasAddedToSelection=!0))}e.setState({previousSelectedElementIds:e.state.selectedElementIds})}}var u,v,w,y,k;return!1},this.handleTextOnPointerDown=function(t,n){var r;((r=e.state.editingElement)===null||r===void 0?void 0:r.type)!=="text"&&(e.startTextEditing({sceneX:n.origin.x,sceneY:n.origin.y,insertAtParentCenter:!t.altKey}),Jn(e.canvas),e.state.elementLocked||e.setState({elementType:"selection"}))},this.handleLinearElementOnPointerDown=function(t,n,r){if(e.state.multiElement){var a=e.state.multiElement;if(a.type==="line"&&eo(a.points,e.state.zoom.value))return _e(a,{lastCommittedPoint:a.points[a.points.length-1]}),void e.actionManager.executeAction(Gl);var s=a.x,c=a.y,d=a.lastCommittedPoint;if(a.points.length>1&&d&&Jr(r.origin.x-s,r.origin.y-c,d[0],d[1])<j.qx)return void e.actionManager.executeAction(Gl);e.setState(function(U){var H;return{selectedElementIds:fe(fe({},U.selectedElementIds),{},(H={},H[a.id]=!0,H))}}),_e(a,{lastCommittedPoint:a.points[a.points.length-1]}),un(e.canvas,j.oc.POINTER)}else{var h=Nn(r.origin.x,r.origin.y,n==="draw"?null:e.state.gridSize),m=h[0],u=h[1],v=e.state,w=v.currentItemStartArrowhead,y=v.currentItemEndArrowhead,k=n==="arrow"?[w,y]:[null,null],O=k[0],I=k[1],C=Wo({type:n,x:m,y:u,strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,strokeSharpness:e.state.currentItemLinearStrokeSharpness,startArrowhead:O,endArrowhead:I});e.setState(function(U){var H;return{selectedElementIds:fe(fe({},U.selectedElementIds),{},(H={},H[C.id]=!1,H))}}),_e(C,{points:Xe(Xe([],C.points),[[0,0]])});var L=mo(r.origin,e.scene);e.scene.replaceAllElements(Xe(Xe([],e.scene.getElementsIncludingDeleted()),[C])),e.setState({draggingElement:C,editingElement:C,startBoundElement:L,suggestedBindings:[]})}},this.createGenericElementOnPointerDown=function(t,n){var r=Nn(n.origin.x,n.origin.y,e.state.gridSize),a=r[0],s=r[1],c=Al({type:t,x:a,y:s,strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,strokeSharpness:e.state.currentItemStrokeSharpness});c.type==="selection"?e.setState({selectionElement:c,draggingElement:c}):(e.scene.replaceAllElements(Xe(Xe([],e.scene.getElementsIncludingDeleted()),[c])),e.setState({multiElement:null,draggingElement:c,editingElement:c}))},this.updateBindingEnabledOnPointerMove=function(t){var n=function(r){return!r[Fe]}(t);e.state.isBindingEnabled!==n&&e.setState({isBindingEnabled:n})},this.maybeSuggestBindingAtCursor=function(t){var n=mo(t,e.scene);e.setState({suggestedBindings:n!=null?[n]:[]})},this.maybeSuggestBindingForLinearElementAtCursor=function(t,n,r,a){var s=mo(r,e.scene);e.setState({suggestedBindings:s==null||uh(t,a==null?void 0:a.id,s)?[]:[s]})},this.handleCanvasRef=function(t){var n,r,a;t!==null?(e.canvas=t,e.rc=No.canvas(e.canvas),e.canvas.addEventListener(j.Ks.WHEEL,e.handleWheel,{passive:!1}),e.canvas.addEventListener(j.Ks.TOUCH_START,e.onTapStart),e.canvas.addEventListener(j.Ks.TOUCH_END,e.onTapEnd)):((n=e.canvas)===null||n===void 0||n.removeEventListener(j.Ks.WHEEL,e.handleWheel),(r=e.canvas)===null||r===void 0||r.removeEventListener(j.Ks.TOUCH_START,e.onTapStart),(a=e.canvas)===null||a===void 0||a.removeEventListener(j.Ks.TOUCH_END,e.onTapEnd))},this.handleAppOnDrop=function(){var t=(0,Q.Z)(function(n){var r,a,s,c,d,h,m,u,v,w,y,k;return Cr(this,function(O){switch(O.label){case 0:return O.trys.push([0,3,,4]),((s=n.dataTransfer.files[0])==null?void 0:s.type)!=="image/png"&&(s==null?void 0:s.type)!=="image/svg+xml"?[3,2]:[4,ql(s,e.state)];case 1:return c=O.sent(),d=c.elements,h=c.appState,e.syncActionResult({elements:d,appState:fe(fe({},h||e.state),{},{isLoading:!1}),commitToHistory:!0}),[2];case 2:return[3,4];case 3:return m=O.sent(),[2,e.setState({isLoading:!1,errorMessage:m.message})];case 4:return(u=n.dataTransfer.getData(j.LO.excalidrawlib))!==""?(e.addElementsFromPasteOrLibrary({elements:JSON.parse(u),position:n}),[2]):((v=(r=n.dataTransfer)===null||r===void 0?void 0:r.files[0])==null?void 0:v.type)===j.LO.excalidrawlib||v!=null&&(a=v.name)!==null&&a!==void 0&&a.endsWith(".excalidrawlib")?(e.library.importLibrary(v).then(function(){e.setState({isLibraryOpen:!1}),e.setState({isLibraryOpen:!0})}).catch(function(I){return e.setState({isLoading:!1,errorMessage:I.message})}),[3,11]):[3,5];case 5:if(e.setState({isLoading:!0}),!hr)return[3,9];O.label=6;case 6:return O.trys.push([6,8,,9]),w=n.dataTransfer.items[0],y=v,[4,w.getAsFileSystemHandle()];case 7:return y.handle=O.sent(),[3,9];case 8:return k=O.sent(),console.warn(k.name,k.message),[3,9];case 9:return[4,e.loadFileToCanvas(v)];case 10:O.sent(),O.label=11;case 11:return[2]}})});return function(n){return t.apply(this,arguments)}}(),this.loadFileToCanvas=function(t){ql(t,e.state).then(function(n){var r=n.elements,a=n.appState;return e.syncActionResult({elements:r,appState:fe(fe({},a||e.state),{},{isLoading:!1}),commitToHistory:!0})}).catch(function(n){e.setState({isLoading:!1,errorMessage:n.message})})},this.handleCanvasContextMenu=function(t){var n;t.preventDefault();var r=bn(t,e.state),a=r.x,s=r.y,c=e.getElementAtPosition(a,s),d=c?"element":"canvas",h=e.excalidrawContainerRef.current.getBoundingClientRect(),m=h.top,u=h.left,v=t.clientX-u,w=t.clientY-m;c&&!e.state.selectedElementIds[c.id]?e.setState({selectedElementIds:(n={},n[c.id]=!0,n)},function(){e._openContextMenu({top:w,left:v},d)}):e._openContextMenu({top:w,left:v},d)},this.maybeDragNewGenericElement=function(t,n){var r=e.state.draggingElement,a=t.lastCoords;if(r)if(r.type==="selection")kh(r,e.state.elementType,t.origin.x,t.origin.y,a.x,a.y,wn(t.origin.x,a.x),wn(t.origin.y,a.y),Oc(n),Cc(n));else{var s=Nn(a.x,a.y,e.state.gridSize),c=s[0],d=s[1];kh(r,e.state.elementType,t.originInGrid.x,t.originInGrid.y,c,d,wn(t.originInGrid.x,c),wn(t.originInGrid.y,d),Oc(n),Cc(n)),e.maybeSuggestBindingForAll([r])}},this.maybeHandleResize=function(t,n){var r=Ze(e.scene.getElements(),e.state),a=t.resize.handleType;e.setState({isResizing:a&&a!=="rotation",isRotating:a==="rotation"});var s=t.lastCoords,c=Nn(s.x-t.resize.offset.x,s.y-t.resize.offset.y,e.state.gridSize),d=c[0],h=c[1];return!!function(m,u,v,w,y,k,O,I,C,L,U){if(v.length===1){var H=v[0];return u==="rotation"?(h2(H,I,C,y),wr(H)):!vt(H)||H.points.length!==2||u!=="nw"&&u!=="ne"&&u!=="sw"&&u!=="se"?!Mt(H)||u!=="nw"&&u!=="ne"&&u!=="sw"&&u!=="se"?u&&Eh(m.originalElements.get(H.id),O,H,u,k,I,C):(g2(H,u,k,I,C),wr(H)):m2(H,w,y,I,C),!0}if(v.length>1){if(u==="rotation")return y2(m,v,I,C,y,L,U),!0;if(u==="nw"||u==="ne"||u==="sw"||u==="se")return v2(v,u,I,C),!0}return!1}(t,a,r,t.resize.arrowDirection,wf(n),Cc(n),Oc(n),d,h,t.resize.center.x,t.resize.center.y)&&(e.maybeSuggestBindingForAll(r),!0)},this._openContextMenu=function(t,n){var r=t.left,a=t.top,s=_1.contextItemPredicate(e.actionManager.getElementsIncludingDeleted(),e.actionManager.getAppState()),c=T1.contextItemPredicate(e.actionManager.getElementsIncludingDeleted(),e.actionManager.getAppState()),d=F1.contextItemPredicate(e.actionManager.getElementsIncludingDeleted(),e.actionManager.getAppState()),h=V1.contextItemPredicate(e.actionManager.getElementsIncludingDeleted(),e.actionManager.getAppState()),m="separator",u=e.scene.getElements(),v=[];if(es&&u.length>0&&v.push(Y1),Jl&&u.length>0&&v.push(K1),n!=="canvas")e.state.viewModeEnabled?os({options:Xe([navigator.clipboard&&Mu],v),top:a,left:r,actionManager:e.actionManager,appState:e.state,container:e.excalidrawContainerRef.current}):os({options:Xe(Xe([e.isMobile&&hb,e.isMobile&&navigator.clipboard&&Mu,e.isMobile&&navigator.clipboard&&{name:"paste",perform:function(y,k){return e.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},e.isMobile&&m],v),[m,rb,ob,m,s&&_1,c&&T1,(s||c)&&m,lb,m,Cw,Ow,Mw,Pw,m,d&&F1,h&&V1,(d||h)&&m,Tw,ou]),top:a,left:r,actionManager:e.actionManager,appState:e.state,container:e.excalidrawContainerRef.current});else{var w=Xe(Xe([],v),[e.props.gridModeEnabled===void 0&&$1,e.props.zenModeEnabled===void 0&&Pu,e.props.viewModeEnabled===void 0&&Tm,_u]);if(os({options:w,top:a,left:r,actionManager:e.actionManager,appState:e.state,container:e.excalidrawContainerRef.current}),e.state.viewModeEnabled)return;os({options:[e.isMobile&&navigator.clipboard&&{name:"paste",perform:function(y,k){return e.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},e.isMobile&&navigator.clipboard&&m,es&&u.length>0&&Y1,Jl&&u.length>0&&K1,(es&&u.length>0||Jl&&u.length>0)&&m,_w,m,e.props.gridModeEnabled===void 0&&$1,e.props.zenModeEnabled===void 0&&Pu,e.props.viewModeEnabled===void 0&&Tm,_u],top:a,left:r,actionManager:e.actionManager,appState:e.state,container:e.excalidrawContainerRef.current})}},this.handleWheel=at(function(t){if(t.preventDefault(),!ma){var n=t.deltaX,r=t.deltaY,a=e.state,s=a.selectedElementIds,c=a.previousSelectedElementIds;if(t.metaKey||t.ctrlKey){var d=Math.sign(r),h=Math.abs(r);h>10&&(h=10),h*=d,Object.keys(c).length!==0&&setTimeout(function(){e.setState({selectedElementIds:c,previousSelectedElementIds:{}})},1e3);var m=e.state.zoom.value-h/100;return m+=Math.log10(Math.max(1,e.state.zoom.value))*-d,m=Math.round(m*j.V4*100)/(100*j.V4),e.setState(function(u){var v=u.zoom,w=u.offsetLeft,y=u.offsetTop;return{zoom:go(ia(m),v,{left:w,top:y},{x:ti,y:ni}),selectedElementIds:{},previousSelectedElementIds:Object.keys(s).length!==0?s:c,shouldCacheIgnoreZoom:!0}}),void e.resetShouldCacheIgnoreZoomDebounced()}t.shiftKey?e.setState(function(u){var v=u.zoom;return{scrollX:u.scrollX-(r||n)/v.value}}):e.setState(function(u){var v=u.zoom,w=u.scrollX,y=u.scrollY;return{scrollX:w-n/v.value,scrollY:y-r/v.value}})}}),this.savePointer=function(t,n,r){var a,s;if(t&&n){var c=bn({clientX:t,clientY:n},e.state);isNaN(c.x)||isNaN(c.y),(a=(s=e.props).onPointerUpdate)===null||a===void 0||a.call(s,{pointer:c,button:r,pointersMap:$e.pointers})}},this.resetShouldCacheIgnoreZoomDebounced=xf(function(){e.unmounted||e.setState({shouldCacheIgnoreZoom:!1})},300),this.updateDOMRect=function(t){var n;if((n=e.excalidrawContainerRef)!==null&&n!==void 0&&n.current){var r=e.excalidrawContainerRef.current.getBoundingClientRect(),a=r.width,s=r.height,c=r.left,d=r.top,h=e.state,m=h.width,u=h.height,v=h.offsetTop,w=h.offsetLeft;if(a===m&&s===u&&c===w&&d===v)return void(t&&t());e.setState({width:a,height:s,offsetLeft:c,offsetTop:d},function(){t&&t()})}},this.refresh=function(){e.setState(fe({},e.getCanvasOffsets()))}};j.Vi.TEST!=="production"&&j.Vi.DEVELOPMENT!=="production"||(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){return this.app.scene.getElementsIncludingDeleted()},set:function(e){return this.app.scene.replaceAllElements(e)}}}));let qb=zu;E(4285),E(3313);function jm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function as(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jm(Object(n),!0).forEach(function(r){re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var zm=function(e){var t=e.elements,n=e.appState,r=e.getDimensions,a=r===void 0?function(v,w){return{width:v,height:w,scale:1}}:r,s=da({elements:t,appState:n},null),c=s.elements,d=s.appState,h=d.exportBackground,m=d.viewBackgroundColor,u=d.shouldAddWatermark;return hu(Ae(c),as(as({},d),{},{offsetTop:0,offsetLeft:0,width:0,height:0}),{exportBackground:h,viewBackgroundColor:m,shouldAddWatermark:u},function(v,w){var y=document.createElement("canvas"),k=a(v,w);return y.width=k.width,y.height=k.height,{canvas:y,scale:k.scale}})},Jb=function(e){var t=zm(e),n=e.mimeType,r=n===void 0?"image/png":n,a=e.quality;return r==="image/png"&&typeof a=="number"&&console.warn('"quality" will be ignored for "image/png" mimeType'),r==="image/jpg"&&(r="image/jpeg"),a=a||(/image\/jpe?g/.test(r)?.92:.8),new Promise(function(s){t.toBlob(function(c){s(c)},r,a)})},e4=function(e){var t=e.elements,n=e.appState,r=n===void 0?lo():n,a=e.exportPadding,s=e.metadata,c=da({elements:t,appState:r},null),d=c.elements,h=c.appState;return Yl(Ae(d),as(as({},h),{},{exportPadding:a,metadata:s}))};function Nm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Rm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nm(Object(n),!0).forEach(function(r){G()(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var t4=function(e){var t,n=e.onChange,r=e.initialData,a=e.excalidrawRef,s=e.onCollabButtonClick,c=e.isCollaborating,d=e.onPointerUpdate,h=e.onExportToBackend,m=e.renderFooter,u=e.langCode,v=u===void 0?ye.code:u,w=e.viewModeEnabled,y=e.zenModeEnabled,k=e.gridModeEnabled,O=e.libraryReturnUrl,I=e.theme,C=e.name,L=e.renderCustomStats,U=e.onPaste,H=e.detectScroll,K=H===void 0||H,Y=e.handleKeyboardGlobally,W=Y!==void 0&&Y,Z=e.onLibraryChange,J=(t=e.UIOptions)===null||t===void 0?void 0:t.canvasActions,ee={canvasActions:Rm(Rm({},j.cW.canvasActions),J)};return(0,B.useEffect)(function(){var ae=function(De){typeof De.scale=="number"&&De.scale!==1&&De.preventDefault()};return document.addEventListener("touchmove",ae,{passive:!1}),function(){document.removeEventListener("touchmove",ae)}},[]),f().createElement(Pe,{langCode:v},f().createElement(qb,{onChange:n,initialData:r,excalidrawRef:a,onCollabButtonClick:s,isCollaborating:c,onPointerUpdate:d,onExportToBackend:h,renderFooter:m,langCode:v,viewModeEnabled:w,zenModeEnabled:y,gridModeEnabled:k,libraryReturnUrl:O,theme:I,name:C,renderCustomStats:L,UIOptions:ee,onPaste:U,detectScroll:K,handleKeyboardGlobally:W,onLibraryChange:Z}))},n4=function(e,t){e.initialData;var n=T()(e,["initialData"]),r=(t.initialData,T()(t,["initialData"])),a=Object.keys(e),s=Object.keys(t);return a.length===s.length&&a.every(function(c){return n[c]===r[c]})},r4=(0,B.forwardRef)(function(e,t){return f().createElement(t4,x()({},e,{excalidrawRef:t}))});let o4=f().memo(r4,n4);E(8336);let i4=o4},4698:D=>{D.exports=l},6207:D=>{D.exports=p}},F={};function X(D){var A=F[D];if(A!==void 0)return A.exports;var E=F[D]={id:D,exports:{}};return z[D](E,E.exports,X),E.exports}return X.m=z,X.n=D=>{var A=D&&D.__esModule?()=>D.default:()=>D;return X.d(A,{a:A}),A},b=Object.getPrototypeOf?D=>Object.getPrototypeOf(D):D=>D.__proto__,X.t=function(D,A){if(1&A&&(D=this(D)),8&A||typeof D=="object"&&D&&(4&A&&D.__esModule||16&A&&typeof D.then=="function"))return D;var E=Object.create(null);X.r(E);var N={};g=g||[null,b({}),b([]),b(b)];for(var x=2&A&&D;typeof x=="object"&&!~g.indexOf(x);x=b(x))Object.getOwnPropertyNames(x).forEach(M=>N[M]=()=>D[M]);return N.default=()=>D,X.d(E,N),E},X.d=(D,A)=>{for(var E in A)X.o(A,E)&&!X.o(D,E)&&Object.defineProperty(D,E,{enumerable:!0,get:A[E]})},X.f={},X.e=D=>Promise.all(Object.keys(X.f).reduce((A,E)=>(X.f[E](D,A),A),[])),X.u=D=>"excalidraw-assets/"+{9:"image",43:"i18n-de-DE-json",60:"i18n-ko-KR-json",62:"i18n-zh-TW-json",137:"i18n-ja-JP-json",149:"i18n-pt-PT-json",164:"i18n-kab-KAB-json",196:"i18n-nl-NL-json",213:"i18n-tr-TR-json",242:"i18n-my-MM-json",246:"i18n-nb-NO-json",262:"i18n-he-IL-json",280:"i18n-pa-IN-json",304:"i18n-zh-CN-json",317:"i18n-es-ES-json",351:"i18n-ca-ES-json",364:"i18n-fr-FR-json",381:"i18n-pt-BR-json",384:"i18n-bg-BG-json",401:"i18n-sk-SK-json",465:"i18n-it-IT-json",472:"i18n-fi-FI-json",491:"i18n-id-ID-json",526:"i18n-el-GR-json",558:"i18n-ar-SA-json",565:"i18n-oc-FR-json",583:"i18n-uk-UA-json",661:"i18n-hu-HU-json",698:"i18n-sv-SE-json",710:"i18n-fa-IR-json",736:"vendor",752:"i18n-ro-RO-json",852:"i18n-pl-PL-json",869:"i18n-ru-RU-json",920:"i18n-nn-NO-json",933:"i18n-hi-IN-json"}[D]+"-"+{9:"5fe4e27670d5147fb1f2",43:"3fafb93744f3fe7634ea",60:"f07afc9e756716038f58",62:"62dd29f7a9ca5ff7ecde",137:"37ae69a9327343f0df49",149:"186d1c052145da982c22",164:"1f8d0a51645c871d2289",196:"51adbd1d4d0bf1d01a7b",213:"a0167ddcd5781d778bb4",242:"8d09c35cfec8011379c5",246:"347a7289682a3cd91131",262:"faa97890de44ed584a45",280:"94904044e3de6d7a03b9",304:"1070e5dfd3c6adf4fe95",317:"f96b60c302d96c66ffd7",351:"08195bd47d46584560ff",364:"0d90c291749f4d0d0be6",381:"8a2b5677633283f9709d",384:"deaa23a1909c5ca3188b",401:"a76fdcb6e89ea3e90968",465:"1741b35480eb0defb489",472:"343add77fd58a5f2daee",491:"5403b38ac77691c5eca4",526:"0ae6dd3287c4d9187ed9",558:"9bf98c30c5eacdcb1d2b",565:"5d63281a55d45fa9b895",583:"5ae9937f0ed82468050e",661:"96eea4d71b4795e36e1c",698:"baf46a1a4335217900ec",710:"f488b2da71daf406eb0f",736:"5678a46e9c49ae846a9e",752:"bc3b1ac81c49d9f46bc3",852:"77216f119758846c11a6",869:"d7d997a13f420a4c013f",920:"f5f8364c660de496ad5e",933:"4f59e58d6a805face4bc"}[D]+".js",X.o=(D,A)=>Object.prototype.hasOwnProperty.call(D,A),S={},P="Excalidraw:",X.l=(D,A,E,N)=>{if(S[D])S[D].push(A);else{var x,M;if(E!==void 0)for(var T=document.getElementsByTagName("script"),R=0;R<T.length;R++){var G=T[R];if(G.getAttribute("src")==D||G.getAttribute("data-webpack")==P+E){x=G;break}}x||(M=!0,(x=document.createElement("script")).charset="utf-8",x.timeout=120,X.nc&&x.setAttribute("nonce",X.nc),x.setAttribute("data-webpack",P+E),x.src=D),S[D]=[A];var B=(j,oe)=>{x.onerror=x.onload=null,clearTimeout(f);var Q=S[D];if(delete S[D],x.parentNode&&x.parentNode.removeChild(x),Q&&Q.forEach(ve=>ve(oe)),j)return j(oe)},f=setTimeout(B.bind(null,void 0,{type:"timeout",target:x}),12e4);x.onerror=B.bind(null,x.onerror),x.onload=B.bind(null,x.onload),M&&document.head.appendChild(x)}},X.r=D=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(D,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(D,"__esModule",{value:!0})},X.p="",(()=>{var D={388:0};X.f.j=(N,x)=>{var M=X.o(D,N)?D[N]:void 0;if(M!==0)if(M)x.push(M[2]);else{var T=new Promise((B,f)=>M=D[N]=[B,f]);x.push(M[2]=T);var R=X.p+X.u(N),G=new Error;X.l(R,B=>{if(X.o(D,N)&&((M=D[N])!==0&&(D[N]=void 0),M)){var f=B&&(B.type==="load"?"missing":B.type),j=B&&B.target&&B.target.src;G.message="Loading chunk "+N+` failed.
(`+f+": "+j+")",G.name="ChunkLoadError",G.type=f,G.request=j,M[1](G)}},"chunk-"+N,N)}};var A=(N,x)=>{var M,T,[R,G,B]=x,f=0;for(M in G)X.o(G,M)&&(X.m[M]=G[M]);for(B&&B(X),N&&N(x);f<R.length;f++)T=R[f],X.o(D,T)&&D[T]&&D[T][0](),D[R[f]]=0},E=self.webpackChunkExcalidraw=self.webpackChunkExcalidraw||[];E.forEach(A.bind(null,0)),E.push=A.bind(null,E.push.bind(E))})(),X(4261)})()})}),Lv=ar(function(o){o.exports=bx}),Up=class extends nn.TextFileView{constructor(i,l){super(i);this.getScene=null,this.excalidrawRef=null,this.plugin=l,this.justLoaded=!1}getViewData(){return this.getScene?this.getScene():this.data}onunload(){return Xt(this,void 0,void 0,function*(){this.excalidrawRef&&(yield this.save())})}setViewData(i,l){this.app.workspace.layoutReady?this.loadDrawing(i,l):this.registerEvent(this.app.workspace.on("layout-ready",()=>Xt(this,void 0,void 0,function*(){return this.loadDrawing(i,l)})))}clear(){this.excalidrawRef&&(this.excalidrawRef=null,this.getScene=null,Iv.unmountComponentAtNode(this.contentEl))}loadDrawing(i,l){return Xt(this,void 0,void 0,function*(){l&&this.clear(),this.justLoaded=!0;let p=JSON.parse(i);this.excalidrawRef?this.excalidrawRef.current.updateScene({elements:p.elements,appState:p.appState}):this.instantiateExcalidraw({elements:p.elements,appState:p.appState,scrollToContent:!0,libraryItems:yield this.getLibrary()})})}getDisplayText(){return this.file?this.file.basename:"Excalidraw (no file)"}canAcceptExtension(i){return i==ir}getViewType(){return wa}getIcon(){return Uu}getLibrary(){return Xt(this,void 0,void 0,function*(){let i=JSON.parse(this.plugin.settings.library);return(i==null?void 0:i.library)?i.library:[]})}instantiateExcalidraw(i){let l=lr.createElement(()=>{let p=lr.useRef(null),g=lr.useRef(null),[b,S]=lr.useState({width:void 0,height:void 0});return this.excalidrawRef=p,lr.useEffect(()=>{S({width:this.contentEl.clientWidth,height:this.contentEl.clientHeight});let P=()=>{try{S({width:this.contentEl.clientWidth,height:this.contentEl.clientHeight})}catch(z){console.log("Excalidraw React-Wrapper, onResize ",z)}};return window.addEventListener("resize",P),()=>window.removeEventListener("resize",P)},[g]),this.getScene=()=>{if(!(p==null?void 0:p.current))return null;let P=p.current.getSceneElements(),z=p.current.getAppState();return JSON.stringify({type:"excalidraw",version:2,source:"https://excalidraw.com",elements:P,appState:{theme:z.theme,viewBackgroundColor:z.viewBackgroundColor}})},lr.createElement(lr.Fragment,null,lr.createElement("div",{className:"excalidraw-wrapper",ref:g,key:"abc"},lr.createElement(Lv.default,{ref:p,key:"xyz",width:b.width,height:b.height,UIOptions:{canvasActions:{loadScene:!1,saveScene:!1,saveAsScene:!1}},initialData:i,onChange:(P,z)=>{var F;if(this.justLoaded){this.justLoaded=!1;let X=new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,shiftKey:!0,code:"Digit1"});(F=this.contentEl.querySelector("canvas"))===null||F===void 0||F.dispatchEvent(X)}},onLibraryChange:P=>Xt(this,void 0,void 0,function*(){this.plugin.settings.library=l4+JSON.stringify(P)+"}",this.plugin.saveSettings()})})))});Iv.render(l,this.contentEl)}static getSVG(i){var l;try{let p=JSON.parse(i);return Lv.exportToSvg({elements:p.elements,appState:Object.assign({exportBackground:!0,exportWithDarkMode:((l=p.appState)===null||l===void 0?void 0:l.theme)!="light"},p.appState),exportPadding:10,metadata:"Generated by Excalidraw-Obsidian plugin"})}catch(p){return null}}},xx={folder:"Excalidraw",templateFilePath:"Excalidraw/Template.excalidraw",width:"400",library:'{"type":"excalidrawlib","version":1,"library":[]}'},Av=class extends nn.PluginSettingTab{constructor(i,l){super(i,l);this.plugin=l}display(){let{containerEl:i}=this;this.containerEl.empty(),new nn.Setting(i).setName("Excalidraw folder").setDesc("Default location for your Excalidraw drawings. Leaving this empty means drawings will be created in the Vault root.").addText(l=>l.setPlaceholder("Excalidraw").setValue(this.plugin.settings.folder).onChange(p=>Xt(this,void 0,void 0,function*(){this.plugin.settings.folder=p,yield this.plugin.saveSettings()}))),new nn.Setting(i).setName("Excalidraw template file").setDesc('Full path to file containing the file you want to use as the template for new Excalidraw drawings. Note that Excalidraw files will have an extension of ".excalidraw" Assuming your template is in the default excalidraw folder, the setting would be: excalidraw/Template.excalidraw').addText(l=>l.setPlaceholder("Excalidraw/Template.excalidraw").setValue(this.plugin.settings.templateFilePath).onChange(p=>Xt(this,void 0,void 0,function*(){this.plugin.settings.templateFilePath=p,yield this.plugin.saveSettings()}))),new nn.Setting(i).setName("Default width of embedded image").setDesc("The default width of an embedded drawing. You can specify a different width when embedding an image using the [[drawing.excalidraw|100]] or [[drawing.excalidraw|100x100]] format.").addText(l=>l.setPlaceholder("400").setValue(this.plugin.settings.width).onChange(p=>Xt(this,void 0,void 0,function*(){this.plugin.settings.width=p,yield this.plugin.saveSettings()})))}},zn;(function(o){o[o.openFile=0]="openFile",o[o.insertLink=1]="insertLink"})(zn||(zn={}));var Dv=class extends nn.FuzzySuggestModal{constructor(i,l){super(i);this.app=i,this.action=zn.openFile,this.plugin=l,this.setInstructions([{command:"Type name of drawing to select.",purpose:""}]),this.inputEl.onkeyup=p=>{p.key=="Enter"&&this.action==zn.openFile&&this.containerEl.innerText.includes(Fm)&&(this.plugin.createDrawing(this.plugin.settings.folder+"/"+this.inputEl.value+"."+ir),this.close())}}getItems(){return(this.app.vault.getFiles()||[]).filter(l=>l.extension==ir)}getItemText(i){return i.basename}onChooseItem(i,l){switch(this.action){case zn.openFile:this.plugin.openDrawing(i);break;case zn.insertLink:this.plugin.insertCodeblock(i.path);break}}start(i){switch(this.action=i,i){case zn.openFile:this.emptyStateText=Fm,this.setPlaceholder("Select existing drawing or type name of new and hit enter.");break;case zn.insertLink:this.emptyStateText="No file matches your query.",this.setPlaceholder("Select existing drawing to insert into document.");break}this.open()}},jv=class extends nn.Plugin{constructor(i,l){super(i,l)}onload(){return Xt(this,void 0,void 0,function*(){nn.addIcon(Uu,a4),this.registerView(wa,i=>new Up(i,this)),this.registerExtensions([ir],wa),this.registerMarkdownCodeBlockProcessor(Bm,(i,l,p)=>Xt(this,void 0,void 0,function*(){let g=N=>{l.createDiv("excalidraw-error",x=>{x.createEl("p","Please provide a link to an excalidraw file: [[file."+ir+"]]"),x.createEl("p",N),x.createEl("p",i)})},b=i.match(/\[{2}(.*)\]{2}/m),S=i.match(/\[{2}(.*)\|(\d*)x(\d*)\]{2}/m),P=i.match(/\[{2}(.*)\|(\d*)\]{2}/m),z="",F=this.settings.width,X=null;if(S?(z=S[1],F=S[2],X=S[3]):P?(z=P[1],F=P[2]):b&&(z=b[1]),z==""){g("No link to file found in codeblock.");return}let D=this.app.vault.getAbstractFileByPath(z);if(!(D&&D instanceof nn.TFile)){g("File does not exist. "+z);return}if(D.extension!=ir){g("Not an excalidraw file. Must have extension "+ir);return}let A=yield this.app.vault.read(D),E=Up.getSVG(A);if(!E){g("Parse error. Not a valid Excalidraw file.");return}l.createDiv("excalidraw-svg",N=>{E.removeAttribute("width"),E.removeAttribute("height"),E.style.setProperty("width",F),X&&E.style.setProperty("height",X),N.appendChild(E)})})),yield this.loadSettings(),this.addSettingTab(new Av(this.app,this)),this.openDialog=new Dv(this.app,this),this.addRibbonIcon(Uu,"Excalidraw",()=>Xt(this,void 0,void 0,function*(){this.openDialog.start(zn.openFile)})),this.addCommand({id:"excalidraw-open",name:"Open an existing drawing or create new one",callback:()=>{this.openDialog.start(zn.openFile)}}),this.addCommand({id:"excalidraw-insert-transclusion",name:"Transclude an ."+ir+" file into a markdown document",callback:()=>{this.openDialog.start(zn.insertLink)}}),this.addCommand({id:"excalidraw-autocreate",name:"Create a new drawing",callback:()=>{this.createDrawing(this.getNextDefaultFilename())}})})}insertCodeblock(i){let l=this.app.workspace.getActiveViewOfType(nn.MarkdownView);if(l){let p=l.editor;p.replaceSelection(String.fromCharCode(96,96,96)+Bm+`
[[`+i+`]]
`+String.fromCharCode(96,96,96)),p.focus()}}loadSettings(){return Xt(this,void 0,void 0,function*(){this.settings=Object.assign({},xx,yield this.loadData())})}saveSettings(){return Xt(this,void 0,void 0,function*(){yield this.saveData(this.settings)})}openDrawing(i){return Xt(this,void 0,void 0,function*(){let l=this.app.workspace.getLeavesOfType(wa),p=null;(l==null?void 0:l.length)>0&&(p=l[0]),p||(p=this.app.workspace.activeLeaf),p||(p=this.app.workspace.getLeaf()),p.setViewState({type:wa,state:{file:i.path}})})}getNextDefaultFilename(){return this.settings.folder+"/Drawing "+window.moment().format("YYYY-MM-DD HH.mm.ss")+"."+ir}createDrawing(i){return Xt(this,void 0,void 0,function*(){let l=this.app.vault.getAbstractFileByPath(nn.normalizePath(this.settings.folder));l&&l instanceof nn.TFolder||(yield this.app.vault.createFolder(this.settings.folder));let p=this.app.vault.getAbstractFileByPath(nn.normalizePath(this.settings.templateFilePath));if(p&&p instanceof nn.TFile){let g=yield this.app.vault.read(p);this.openDrawing(yield this.app.vault.create(i,g==""?Hm:g))}else this.openDrawing(yield this.app.vault.create(i,Hm))})}};module.exports=jv;
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/*! For license information please see excalidraw.production.min.js.LICENSE.txt */
